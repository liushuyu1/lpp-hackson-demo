!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=128)}({114:function(t,e){if(window){const t={"MESO-ADSENSE":(t={})=>{const e=t["MESO-ADSENSE"]||{},r=e.page&&e.page.attributes||{},n=document.getElementsByTagName("meso-adsense-csa");Array.from(n).forEach(t=>{Object.keys(r).forEach(e=>{t.hasAttribute(e)||t.setAttribute(e,String(r[e]))})})}};window.addEventListener("mesoRender",e=>{if(e&&e.detail){const r=e.detail.content||{};Object.keys(r).forEach(e=>{t.hasOwnProperty(e)&&t[e](r)})}})}},12:function(t,e,r){"use strict";e.a=((t,e)=>{if("string"!=typeof t)throw new Error("registerComponent requires a name of type string");if(!e)throw new Error("registerComponent requires a valid component");WebComponents&&WebComponents.waitFor(()=>{window&&customElements&&void 0===customElements.get(t)&&customElements.define(t,e)})})},128:function(t,e,r){"use strict";r.r(e);r(114);var n=r(28),i=r(75),s=r.n(i),o=r(12),a=r(13);!function(t,e){t[e]=t[e]||function(){(t[e].q=t[e].q||[]).push(arguments)},t[e].t=1*new Date}(window,"_googCsa");class c extends n.a{constructor(){super(),this.template=s.a,this._initialized=!1,this.options={adtest:a.a.adsense.testenv}}static get observedAttributes(){return["adpage","channel","client","hl","personalizedads","query","type"]}static get registeredAttributes(){return[{name:"adpage",type:"string"},{name:"channel",type:"string"},{name:"client",type:"string"},{name:"hl",type:"string"},{name:"personalizedads",type:"string"},{name:"query",type:"string"},{name:"type",type:"string"}]}reset(){this._initialized=!1}_makeAdRequest(){if(this.requiresAdCall){const t=()=>{const t=Array.from(this.csaContainers,t=>t.options);window._googCsa.apply(this,["ads",this.options,...t]),this._initialized=!0,this.setAttribute("adrequested",""),this.redraw()};window.requestAnimationFrame?window.requestAnimationFrame(t):window.setTimeout(t,0)}}attributeChangedCallback(t,e,r){if(e!==r)switch(t){case"client":this.options.pubId=this.client;break;case"channel":this.options.channel=this.channel;break;case"query":this.options.query=this.query,e!==r&&this.reset()}this.requiresAdCall&&this._makeAdRequest()}get csaContainers(){return this.getElementsByTagName("meso-csa-slot")}get requiresAdCall(){return this.client&&this.channel&&this.query&&!this._initialized}}Object(o.a)("meso-adsense-csa",c);var u=r(22),l=r(76),d=r.n(l);class h extends u.a{constructor(){super(),this.template=d.a,this.options={fontFamily:"arial, roboto, helvetica neue",width:"136px",number:2,fontSizeDescription:10,fontSizeDomainLink:10,colorBackground:"FFFFFF",colorTitleLink:"465280",colorText:"8D94B0",colorDomainLink:"005AEB",detailedAttribution:!1}}static get observedAttributes(){return["adcount","container","width","type","bgcolor"]}static get registeredAttributes(){return[{name:"adcount",type:"number"},{name:"container",type:"string"},{name:"width",type:"string"},{name:"type",type:"string"},{name:"bgcolor",type:"string"}]}attributeChangedCallback(t,e,r){e!==r&&("adcount"===t&&(this.options.number=this.adcount),"width"===t&&(this.options.width=this.width),"container"===t&&(this.options.container=this.container),"bgcolor"===t&&(this.options.colorBackground=this.bgcolor))}}Object(o.a)("meso-csa-slot",h)},13:function(t,e,r){"use strict";var n=r(15);let i;i={environmentName:"Production",environmentShort:"PROD",dfp:{network:"23171577"},adsense:{testenv:"off"},uciservice:"https://www.uciservice.com",hooklogic:"https://travelads.hlserve.com",lshopsearch:"https://lshop-search-service.us-west-2.prod.expedia.com",proxy:"https://www.uciservice.com/md/api/v1/proxy",deeplink:"https://www.uciservice.com/deeplink",performance:{enabled:!1,randomIntMax:100,collectorWebUrl:"https://collector.prod.expedia.com/creativePerformance.json?stream=true&persist=true"}};const s=Object(n.a)({appName:"ads-templates",dfp:{gpt:"https://www.googletagservices.com/tag/js/gpt.js",network:"11850712",surl:"https://pubads.g.doubleclick.net/gampad/adx",gptlight:"https://securepubads.g.doubleclick.net/static/glade.js"},abacus:{endpoint:"/api/bucketing/v1"},adsense:{testenv:"on"},meso:{storage:{targeting:"com.expedia.meso.targeting"}},uciservice:"https://adtargeting-service.int.expedia.com",hooklogic:"https://dev2.travelhook.com/",lshopsearch:"https://lshop-search-service.us-west-2.test.expedia.com",proxy:"https://ads-delivery-service.us-west-2.test.expedia.com/api/v1/proxy",deeplink:"https://deep-link-service.us-west-2.test.expedia.com",others:{hotelLinkDirect:{holdoutPercentage:20}},performance:{enabled:!0,randomIntMax:5,collectorWebUrl:"https://collector.test.expedia.com/creativePerformance.json?stream=true&persist=true"}},i);e.a=s},15:function(t,e,r){"use strict";var n=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===i}(t)}(t)};var i="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function s(t,e){return!1!==e.clone&&e.isMergeableObject(t)?a(function(t){return Array.isArray(t)?[]:{}}(t),t,e):t}function o(t,e,r){return t.concat(e).map(function(t){return s(t,r)})}function a(t,e,r){(r=r||{}).arrayMerge=r.arrayMerge||o,r.isMergeableObject=r.isMergeableObject||n;var i=Array.isArray(e);return i===Array.isArray(t)?i?r.arrayMerge(t,e,r):function(t,e,r){var n={};return r.isMergeableObject(t)&&Object.keys(t).forEach(function(e){n[e]=s(t[e],r)}),Object.keys(e).forEach(function(i){r.isMergeableObject(e[i])&&t[i]?n[i]=a(t[i],e[i],r):n[i]=s(e[i],r)}),n}(t,e,r):s(e,r)}a.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(t,r){return a(t,r,e)},{})};var c=a;e.a=c},21:function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty;function i(t,e){return Array.isArray(t)?function(t,e){for(var r,n="",s="",o=Array.isArray(e),a=0;a<t.length;a++)(r=i(t[a]))&&(o&&e[a]&&(r=c(r)),n=n+s+r,s=" ");return n}(t,e):t&&"object"==typeof t?function(t){var e="",r="";for(var i in t)i&&t[i]&&n.call(t,i)&&(e=e+r+i,r=" ");return e}(t):t||""}function s(t){if(!t)return"";if("object"==typeof t){var e="";for(var r in t)n.call(t,r)&&(e=e+r+":"+t[r]+";");return e}return t+""}function o(t,e,r,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),r||-1===e.indexOf('"'))?(r&&(e=c(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.merge=function t(e,r){if(1===arguments.length){for(var n=e[0],i=1;i<e.length;i++)n=t(n,e[i]);return n}for(var o in r)if("class"===o){var a=e[o]||[];e[o]=(Array.isArray(a)?a:[a]).concat(r[o]||[])}else if("style"===o){var a=s(e[o]);a=a&&";"!==a[a.length-1]?a+";":a;var c=s(r[o]);c=c&&";"!==c[c.length-1]?c+";":c,e[o]=a+c}else e[o]=r[o];return e},e.classes=i,e.style=s,e.attr=o,e.attrs=function(t,e){var r="";for(var a in t)if(n.call(t,a)){var c=t[a];if("class"===a){c=i(c),r=o(a,c,!1,e)+r;continue}"style"===a&&(c=s(c)),r+=o(a,c,!1,e)}return r};var a=/["&<>]/;function c(t){var e=""+t,r=a.exec(e);if(!r)return t;var n,i,s,o="";for(n=r.index,i=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}i!==n&&(o+=e.substring(i,n)),i=n+1,o+=s}return i!==n?o+e.substring(i,n):o}e.escape=c,e.rethrow=function t(e,n,i,s){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&n||s))throw e.message+=" on line "+i,e;try{s=s||r(23).readFileSync(n,"utf8")}catch(r){t(e,null,i)}var o=3,a=s.split("\n"),c=Math.max(i-o,0),u=Math.min(a.length,i+o);var o=a.slice(c,u).map(function(t,e){var r=e+c+1;return(r==i?"  > ":"    ")+r+"| "+t}).join("\n");e.path=n;e.message=(n||"Pug")+":"+i+"\n"+o+"\n\n"+e.message;throw e}},22:function(t,e,r){"use strict";r.d(e,"a",function(){return n});class n extends HTMLElement{constructor(){super(),this.__componentName=this.constructor.name,this.constructor.registeredAttributes&&this.constructor.registeredAttributes.length>0&&this._registerAttributes(this.constructor.registeredAttributes)}get componentName(){return this.__componentName}static get contextChangedAttributes(){return null}requiresAdContextUpdate(t){const e=this.constructor.contextChangedAttributes;return!(Array.isArray(e)&&e.length>0)||e.some(e=>t.includes(e))}get adContextDestroyer(){return this.__adContextDestroyer}set adContextDestroyer(t){this.__adContextDestroyer=t}set template(t){this._template=t}get template(){return"function"==typeof this._template?this._template(this):""}get active(){return!0}static get registeredAttributes(){return[]}registerAdContext(){"function"==typeof this.adContextChanged&&(this.adContextDestroyer=window.meso.adcontext.observe(this.componentName,t=>this.requiresAdContextUpdate(t),t=>this.adContextChanged(t)))}connectedCallback(){this.registerAdContext(),this.draw()}disconnectedCallback(){this.adContextDestroyer&&this.adContextDestroyer(),this.clear()}clear(){for(;this.firstChild;)this.removeChild(this.firstChild)}draw(){const t=document.createElement("template");t.innerHTML=this.template,this.appendChild(document.importNode(t.content,!0))}redraw(){this.clear(),this.draw()}_getBoolean(t){return this.hasAttribute(t)}_setBoolean(t,e){Boolean(e)?this.setAttribute(t,""):this.removeAttribute(t)}_getString(t){return this.getAttribute(t)}_setString(t,e){e?this.setAttribute(t,e):this.removeAttribute(t)}_getNumber(t){const e=this.getAttribute(t);return null===e?null:Number(e)}_setNumber(t,e){e?this.setAttribute(t,Number(e)):this.removeAttribute(t)}_registerAttribute(t,e,r={get:t=>t,set:t=>t}){let n,i;switch(e){case"string":n=(()=>r.get(this._getString(t))),i=(e=>r.set(this._setString(t,e)));break;case"number":n=(()=>r.get(this._getNumber(t))),i=(e=>r.set(this._setString(t,e)));break;case"boolean":n=(()=>r.get(this._getBoolean(t))),i=(e=>r.set(this._setBoolean(t,e)))}Object.defineProperty(this,t,{enumberable:!0,configurable:!1,get:n,set:i})}_registerAttributes(t){t.forEach(t=>{const{name:e,type:r,callbacks:n}=t;this._registerAttribute(e,r,n)})}}},23:function(t,e){},28:function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(22);class i extends n.a{connectedCallback(){this.shadowRoot||this.attachShadow({mode:"open"}),super.connectedCallback()}clear(){if(this.shadowRoot)for(;this.shadowRoot.firstChild;)this.shadowRoot.removeChild(this.shadowRoot.firstChild)}draw(){this.shadowRoot||this.attachShadow({mode:"open"});const t=document.createElement("template");t.innerHTML=this.template,this.shadowRoot.innerHTML="",this.shadowRoot.appendChild(document.importNode(t.content,!0))}}},75:function(t,e,r){r(21);t.exports=function(t){var e="";return e+='<style type="text/css">:host {\n    display: none;\n    width: 100%;\n}\n\n:host([adrequested]) {\n    display: inline-block;\n}\n</style><slot></slot>'}},76:function(t,e,r){var n=r(21);t.exports=function(t){var e="",r=t||{};return function(t,r){e=e+'<style type="text/css">.sidebar iframe {\n  background: white;\n  border: 1px solid #cccfdb;\n  box-sizing: border-box;\n  margin: 0 auto;\n  width: 100%;\n}\n\n.content {\n  margin: 0 auto;\n}\n\n.content iframe {\n  border: 1px solid #cccfdb;\n  box-sizing: border-box;\n  margin: 0 auto;\n  width: 100%;\n}\n</style><div'+(n.attr("class",n.classes([r],[!0]),!1,!0)+n.attr("id",t,!0,!0))+"></div>"}.call(this,"container"in r?r.container:"undefined"!=typeof container?container:void 0,"type"in r?r.type:"undefined"!=typeof type?type:void 0),e}}});
//# sourceMappingURL=meso-adsense.js.map