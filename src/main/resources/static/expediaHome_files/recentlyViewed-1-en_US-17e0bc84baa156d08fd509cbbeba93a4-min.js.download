require(["handlebars"],function(h){var k=h.template({1:function(e,a,c,g,d){var b;return' data-hotelId\x3d"'+e.escapeExpression((b=null!=(b=c.hotelId||(null!=a?a.hotelId:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelId",hash:{},data:d}):b))+'" data-interaction-id\x3d"'+e.escapeExpression((b=null!=(b=c.interactionId||(null!=a?a.interactionId:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"interactionId",hash:{},data:d}):b))+'"'},3:function(e,a,c,g,d){var b;return' sfid\x3d"'+e.escapeExpression((b=null!=(b=c.sfid||(null!=a?a.sfid:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"sfid",hash:{},data:d}):b))+'"'},5:function(e,a,c,g,d){return"isRV"},7:function(e,a,c,g,d){return"isRS"},9:function(e,a,c,g,d){var b;return'      \x3cfigure class\x3d"image aspect-ratio4-3 loading" data-media-type\x3d"image" data-lazy\x3d"true" data-src\x3d"//images.trvl-media.com//'+e.escapeExpression((b=null!=(b=c.thumbnail||(null!=a?a.thumbnail:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"thumbnail",hash:{},data:d}):b))+'" data-alt\x3d"'+e.escapeExpression((b=null!=(b=c.hotelName||(null!=a?a.hotelName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelName",hash:{},data:d}):b))+' image" data-aspect-ratio\x3d"4-3" data-class\x3d"tile-media"\x3e\n        \x3cnoscript\x3e\x3cimg src\x3d"//images.trvl-media.com//'+e.escapeExpression((b=null!=(b=c.thumbnail||(null!=a?a.thumbnail:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"thumbnail",hash:{},data:d}):b))+'" alt\x3d"'+e.escapeExpression((b=null!=(b=c.hotelName||(null!=a?a.hotelName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelName",hash:{},data:d}):b))+' image" class\x3d"tile-media" /\x3e\x3c/noscript\x3e\n        \x3cspan class\x3d"media-loader"\x3e\x3cspan class\x3d" loader-primary loader-light loader-static loading" aria-hidden\x3d"true" title\x3d"Loading..."\x3e\x3c/span\x3e\x3c/span\x3e\n      \x3c/figure\x3e\n'},11:function(e,a,c,g,d){var b;return'      \x3cspan class\x3d"icon icon-'+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRSP:a,{name:"if",hash:{},fn:e.program(12,d,0),inverse:e.noop,data:d}))?b:"")+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRSF:a,{name:"if",hash:{},fn:e.program(14,d,0),inverse:e.noop,data:d}))?b:"")+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRSH:a,{name:"if",hash:{},fn:e.program(16,d,0),inverse:e.noop,data:d}))?b:"")+'"\x3e\x3c/span\x3e\n'},12:function(e,a,c,g,d){return"packagesalt"},14:function(e,a,c,g,d){return"flightsalt"},16:function(e,a,c,g,d){return"hotelsalt"},18:function(e,a,c,g,d){var b;return'        \x3ch5 class\x3d"trip-info-main" id\x3d"'+e.escapeExpression((b=null!=(b=c.id||(null!=a?a.id:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"id",hash:{},data:d}):b))+'-trip-info-main" title\x3d"'+e.escapeExpression((b=null!=(b=c.hotelName||(null!=a?a.hotelName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelName",hash:{},data:d}):b))+'"\x3e\x3cspan class\x3d"sm-tablet-greater"\x3e'+e.escapeExpression((b=null!=(b=c.hotelName||(null!=a?a.hotelName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelName",hash:{},data:d}):b))+'\x3c/span\x3e\x3cspan class\x3d"sm-tablet"\x3e'+e.escapeExpression((b=null!=(b=c.rsfShortName||(null!=a?a.rsfShortName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"rsfShortName",hash:{},data:d}):b))+"\x3c/span\x3e\x3c/h5\x3e\n"},20:function(e,a,c,g,d){var b;return'        \x3ch5 class\x3d"trip-info-main" id\x3d"'+e.escapeExpression((b=null!=(b=c.id||(null!=a?a.id:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"id",hash:{},data:d}):b))+'-trip-info-main" title\x3d"'+e.escapeExpression((b=null!=(b=c.hotelName||(null!=a?a.hotelName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelName",hash:{},data:d}):b))+'"\x3e'+e.escapeExpression((b=null!=(b=c.hotelName||(null!=a?a.hotelName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelName",hash:{},data:d}):b))+"\x3c/h5\x3e\n"},22:function(e,a,c,g,d){var b;return'        \x3cstrong class\x3d"star-rating rating-secondary rating secondary" id\x3d"'+e.escapeExpression((b=null!=(b=c.id||(null!=a?a.id:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"id",hash:{},data:d}):b))+'-rec-hotel-stars"\x3e\n          \x3cspan class\x3d"icon icon-stars'+e.escapeExpression((b=null!=(b=c.starsIcon||(null!=a?a.starsIcon:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"starsIcon",hash:{},data:d}):b))+' stars-black value-title" title\x3d"'+e.escapeExpression((b=null!=(b=c.stars||(null!=a?a.stars:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"stars",hash:{},data:d}):b))+' Star"\x3e\x3c/span\x3e\n        \x3c/strong\x3e\n'},24:function(e,a,c,g,d){var b;return'        \x3cspan class\x3d"trip-info-dates" id\x3d"'+e.escapeExpression((b=null!=(b=c.id||(null!=a?a.id:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"id",hash:{},data:d}):b))+'-trip-info-dates"\x3e'+e.escapeExpression((b=null!=(b=c.dates||(null!=a?a.dates:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"dates",hash:{},data:d}):b))+"\x3c/span\x3e\n"},26:function(e,a,c,g,d){var b;return e.escapeExpression((b=null!=(b=c.city||(null!=a?a.city:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"city",hash:{},data:d}):b))},28:function(e,a,c,g,d){var b;return e.escapeExpression((b=null!=(b=c.flightTypeLocalized||(null!=a?a.flightTypeLocalized:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"flightTypeLocalized",hash:{},data:d}):b))},30:function(e,a,c,g,d){var b;return(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.info:a,{name:"if",hash:{},fn:e.program(31,d,0),inverse:e.noop,data:d}))?b:"")+(null!=(b=c.unless.call(null!=a?a:{},null!=a?a.info:a,{name:"unless",hash:{},fn:e.program(33,d,0),inverse:e.noop,data:d}))?b:"")},31:function(e,a,c,g,d){var b;return e.escapeExpression((b=null!=(b=c.info||(null!=a?a.info:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"info",hash:{},data:d}):b))},33:function(e,a,c,g,d){var b;return'\x3cspan class\x3d"icon icon-flights"\x3e\x3c/span\x3e\x3cspan\x3e'+e.escapeExpression(e.lambda(null!=(b=null!=a?a.loc:a)?b.flightIncluded:b,a))+"\x3c/span\x3e"},35:function(e,a,c,g,d){var b;return"\x3cspan\x3e"+e.escapeExpression(e.lambda(null!=(b=null!=a?a.loc:a)?b.flightAndHotelIncluded:b,a))+"\x3c/span\x3e"},37:function(e,a,c,g,d){var b;return"\x3cspan\x3e"+e.escapeExpression((b=null!=(b=c.info||(null!=a?a.info:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"info",hash:{},data:d}):b))+"\x3c/span\x3e"},39:function(e,a,c,g,d){var b;return"      "+e.escapeExpression(e.lambda(null!=(b=null!=a?a.loc:a)?b.removeHotelFromHF:b,a))+"\n"},41:function(e,a,c,g,d){var b;return"      "+e.escapeExpression(e.lambda(null!=(b=null!=a?a.loc:a)?b.removeHotel:b,a))+"\n"},43:function(e,a,c,g,d){return" see-price"},45:function(e,a,c,g,d){return" has-price"},47:function(e,a,c,g,d){return" package-orig-price"},49:function(e,a,c,g,d){var b,f;return'    \x3csection class\x3d"rv-savings-info" id\x3d"'+e.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:d}):f))+'-rv-savings-info"\x3e\n      \x3cspan\x3e'+e.escapeExpression(e.lambda(null!=(b=null!=a?a.loc:a)?b.totalSavings:b,a))+':\x3cspan class\x3d"savingsAmount"\x3e'+e.escapeExpression((f=null!=(f=c.packageSavings||(null!=a?a.packageSavings:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"packageSavings",hash:{},data:d}):f))+"\x3c/span\x3e\x3c/span\x3e\n    \x3c/section\x3e\n"},compiler:[7,"\x3e\x3d 4.0.0"],main:function(e,a,c,g,d){var b,f;return'\n\x3carticle class\x3d"box col"\n         id\x3d"'+e.escapeExpression((f=
null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:d}):f))+'"\n         data-rv-type\x3d"'+e.escapeExpression((f=null!=(f=c.rvType||(null!=a?a.rvType:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"rvType",hash:{},data:d}):f))+'"\n         '+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRVH:a,{name:"if",hash:{},fn:e.program(1,d,0),inverse:e.noop,data:d}))?b:"")+"\n         "+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.sfid:a,{name:"if",hash:{},fn:e.program(3,d,0),inverse:e.noop,data:d}))?b:"")+' \x3e\n\n\x3ca title\x3d"'+e.escapeExpression((f=null!=(f=c.hotelName||(null!=a?a.hotelName:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"hotelName",hash:{},data:d}):f))+'" href\x3d"'+e.escapeExpression((f=null!=(f=c.localizedPageUrl||(null!=a?a.localizedPageUrl:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"localizedPageUrl",hash:{},data:d}):f))+"\x26rfrr\x3dHP.rsrv."+e.escapeExpression((f=null!=(f=c.index||d&&d.index)?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"index",hash:{},data:d}):f))+'" class\x3d"cf"\x3e\n  \x3csection class\x3d"rv-visual '+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRV:a,{name:"if",hash:{},fn:e.program(5,d,0),inverse:e.program(7,d,0),data:d}))?b:"")+'"\x3e\n'+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRV:a,{name:"if",hash:{},fn:e.program(9,d,0),inverse:e.noop,data:d}))?b:"")+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRS:a,{name:"if",hash:{},fn:e.program(11,d,0),inverse:e.noop,data:d}))?b:"")+'  \x3c/section\x3e\n  \x3csection class\x3d"rv-trip-info '+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRV:a,{name:"if",hash:{},fn:e.program(5,d,0),inverse:e.program(7,d,0),data:d}))?b:"")+'" id\x3d"'+e.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:d}):f))+'-rv-trip-info"\x3e\n'+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRSF:a,{name:"if",hash:{},fn:e.program(18,d,0),inverse:e.program(20,d,0),data:d}))?b:"")+"\n"+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.showHotelStars:a,{name:"if",hash:{},fn:e.program(22,d,0),inverse:e.program(24,d,0),data:d}))?b:"")+'\n      \x3cspan class\x3d"trip-info-city" id\x3d"'+e.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:d}):f))+'-trip-info-city"\x3e\n          '+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRVH:a,{name:"if",hash:{},fn:e.program(26,d,0),inverse:e.program(28,d,0),data:d}))?b:"")+'\n      \x3c/span\x3e\n      \x3cspan class\x3d"trip-info-additional" id\x3d"'+e.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:d}):f))+'-trip-info-additional"\x3e\n          '+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRVP:a,{name:"if",hash:{},fn:e.program(30,d,0),inverse:e.noop,data:d}))?b:"")+"\n          "+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRSP:a,{name:"if",hash:{},fn:e.program(35,d,0),inverse:e.noop,data:d}))?b:"")+"\n          "+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRSH:a,{name:"if",hash:{},fn:e.program(37,d,0),inverse:e.noop,data:d}))?b:"")+'\n      \x3c/span\x3e\n  \x3c/section\x3e\n  \x3cbutton class\x3d"rv-remove" data-control\x3d"remove" data-target-id\x3d"'+e.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:d}):f))+'" data-topic\x3d"remove-rv-box" data-transition\x3d"none"\x3e\n    \x3cspan class\x3d"icon icon-close" aria-hidden\x3d"true"\x3e\x3c/span\x3e\n    \x3cspan class\x3d"alt" aria-hidden\x3d"true"\x3eX\x3c/span\x3e\n    \x3cspan class\x3d"visuallyhidden"\x3e\n'+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRSF:a,{name:"if",hash:{},fn:e.program(39,d,0),inverse:e.program(41,d,0),data:d}))?b:"")+'    \x3c/span\x3e\n  \x3c/button\x3e\n  \x3csection class\x3d"rv-price-info" id\x3d"'+e.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:d}):f))+'-rv-price-info"\x3e\n      \x3ch5 class\x3d"price-info-price'+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.seePrice:a,{name:"if",hash:{},fn:e.program(43,d,0),inverse:e.noop,data:d}))?b:"")+(null!=(b=c.unless.call(null!=a?a:{},null!=a?a.seePrice:a,{name:"unless",hash:{},fn:e.program(45,d,0),inverse:e.noop,data:d}))?b:"")+'" id\x3d"'+e.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:d}):f))+'-price-info-price"\x3e'+e.escapeExpression((f=null!=(f=c.price||(null!=a?a.price:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"price",hash:{},data:d}):f))+'\x3c/h5\x3e\n      \x3cspan class\x3d"price-info-additional'+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.origPrice:a,{name:"if",hash:{},fn:e.program(47,d,0),inverse:e.noop,data:d}))?b:"")+'" id\x3d"'+e.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:d}):f))+'-price-additional"\x3e'+e.escapeExpression((f=null!=(f=c.origPrice||(null!=a?a.origPrice:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"origPrice",hash:{},data:d}):f))+e.escapeExpression((f=null!=(f=c.additionalPriceInfo||(null!=a?a.additionalPriceInfo:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"additionalPriceInfo",hash:{},data:d}):f))+"\x3c/span\x3e\n  \x3c/section\x3e\n"+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.packageSavings:a,{name:"if",hash:{},fn:e.program(49,d,0),inverse:e.noop,data:d}))?b:"")+"\x3c/a\x3e\n\n\x3c/article\x3e\n"},useData:!0});h.templates=h.templates||{};h.templates["rv-box"]=k;h.partials=h.partials||{};h.partials["rv-box"]=k});
require(["handlebars"],function(h){var k=h.template({1:function(e,a,c,g,d){return"viewHistory"},3:function(e,a,c,g,d){return"searchHistory"},5:function(e,a,c,g,d){var b;return'sfid\x3d"'+e.escapeExpression((b=null!=(b=c.sfid||(null!=a?a.sfid:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"sfid",hash:{},data:d}):b))+'"'},7:function(e,a,c,g,d){var b;return'data-hotelid\x3d"'+e.escapeExpression((b=null!=(b=c.hotelId||(null!=a?a.hotelId:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelId",hash:{},data:d}):b))+'"'},9:function(e,a,c,g,d){var b;return'data-interaction-id\x3d"'+e.escapeExpression((b=null!=(b=c.interactionId||(null!=a?a.interactionId:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"interactionId",hash:{},data:d}):b))+'"'},11:function(e,a,c,g,d){var b;return'            \x3cdiv class\x3d"flex-figure"\x3e\n              \x3csection class\x3d"rv-visual isRV"\x3e\n                  \x3cfigure class\x3d"image aspect-ratio4-3" alt\x3d"'+e.escapeExpression((b=null!=(b=c.hotelName||(null!=a?a.hotelName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelName",hash:{},data:d}):b))+'" data-media-type\x3d"image" data-lazy\x3d"true" data-src\x3d"//images.trvl-media.com//'+e.escapeExpression((b=null!=(b=c.thumbnail||(null!=a?a.thumbnail:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"thumbnail",hash:{},data:d}):b))+'" data-srcset\x3d"//images.trvl-media.com//'+e.escapeExpression((b=null!=(b=c.thumbnail||(null!=a?a.thumbnail:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"thumbnail",hash:{},data:d}):b))+", //images.trvl-media.com//"+e.escapeExpression((b=null!=(b=c.thumbnail||(null!=a?a.thumbnail:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"thumbnail",hash:{},data:d}):b))+" 959w, //images.trvl-media.com//"+e.escapeExpression((b=null!=(b=c.thumbnail||(null!=a?a.thumbnail:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"thumbnail",hash:{},data:d}):b))+" 725w, //images.trvl-media.com//"+e.escapeExpression((b=null!=(b=c.thumbnail||(null!=a?a.thumbnail:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"thumbnail",hash:{},data:d}):b))+' 491w" data-alt\x3d"'+e.escapeExpression((b=null!=(b=c.hotelName||(null!=a?a.hotelName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelName",hash:{},data:d}):b))+'" data-aspect-ratio\x3d"4-3" data-class\x3d"tile-media"\x3e\n                      \x3cimg alt\x3d"'+e.escapeExpression((b=null!=(b=c.hotelName||(null!=a?a.hotelName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelName",hash:{},data:d}):b))+'" class\x3d"tile-media" src\x3d"//images.trvl-media.com//'+e.escapeExpression((b=null!=(b=c.thumbnail||(null!=a?a.thumbnail:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"thumbnail",hash:{},data:d}):b))+'"\x3e\n                      \x3cnoscript\x3e\n                          \x26lt;img src\x3d"//images.trvl-media.com//'+e.escapeExpression((b=null!=(b=c.thumbnail||(null!=a?a.thumbnail:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"thumbnail",hash:{},data:d}):b))+'" alt\x3d"missing image alt" class\x3d"tile-media"/\x26gt;\n                      \x3c/noscript\x3e\n                      \x3cspan class\x3d"media-loader"\x3e\n                          \x3cspan class\x3d"loader loader-primary loader-light loader-static loading" aria-hidden\x3d"true" title\x3d"Loading..."\x3e\x3c/span\x3e\n                      \x3c/span\x3e\n                  \x3c/figure\x3e\n              \x3c/section\x3e\n            \x3c/div\x3e\n'},13:function(e,a,c,g,d){var b;return'            \x3csection class\x3d"rv-visual isRS"\x3e\n              \x3cspan class\x3d"icon icon-'+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRSP:a,{name:"if",hash:{},fn:e.program(14,d,0),inverse:e.noop,data:d}))?b:"")+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRSF:a,{name:"if",hash:{},fn:e.program(16,d,0),inverse:e.noop,data:d}))?b:"")+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRSH:a,{name:"if",hash:{},fn:e.program(18,d,0),inverse:e.noop,data:d}))?b:"")+'"\x3e\x3c/span\x3e\n            \x3c/section\x3e\n'},14:function(e,a,c,g,d){return"packagesalt"},16:function(e,a,c,g,d){return"flightsalt"},18:function(e,a,c,g,d){return"hotelsalt"},20:function(e,a,c,g,d){var b;return'                        \x3ch5 class\x3d"flex-title truncate" id\x3d"'+e.escapeExpression((b=null!=(b=c.id||(null!=a?a.id:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"id",hash:{},data:d}):b))+'-trip-info-main" title\x3d"'+e.escapeExpression((b=null!=(b=c.hotelName||(null!=a?a.hotelName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelName",hash:{},data:d}):b))+'"\x3e\n                            \x3cspan class\x3d"sm-tablet-greater"\x3e'+e.escapeExpression((b=null!=(b=c.hotelName||(null!=a?a.hotelName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelName",hash:{},data:d}):b))+'\x3c/span\x3e\n                            \x3cspan class\x3d"sm-tablet"\x3e'+e.escapeExpression((b=null!=(b=c.rsfShortName||(null!=a?a.rsfShortName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"rsfShortName",hash:{},data:d}):b))+"\x3c/span\x3e\n                        \x3c/h5\x3e\n"},22:function(e,a,c,g,d){var b;return'                        \x3ch5 class\x3d"flex-title truncate" id\x3d"'+e.escapeExpression((b=null!=(b=c.id||(null!=a?a.id:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"id",hash:{},data:d}):b))+'-trip-info-main" title\x3d"'+e.escapeExpression((b=null!=(b=c.hotelName||(null!=a?a.hotelName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelName",hash:{},data:d}):b))+'"\x3e'+e.escapeExpression((b=null!=(b=c.hotelName||(null!=a?a.hotelName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelName",hash:{},data:d}):b))+"\x3c/h5\x3e\n"},24:function(e,a,c,g,d){var b;return'                        \x3cstrong class\x3d"star-rating rating-secondary rating secondary" id\x3d"'+e.escapeExpression((b=null!=(b=c.id||(null!=a?a.id:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"id",hash:{},data:d}):b))+'-rec-hotel-stars"\x3e\n                            \x3cspan class\x3d"icon icon-stars'+e.escapeExpression((b=null!=(b=c.starsIcon||(null!=a?a.starsIcon:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"starsIcon",hash:{},data:d}):b))+' stars-black value-title" title\x3d"'+e.escapeExpression((b=null!=(b=c.stars||(null!=a?a.stars:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"stars",hash:{},data:d}):b))+' Star"\x3e\x3c/span\x3e\n                        \x3c/strong\x3e\n'},26:function(e,a,c,g,d){var b;return'                        \x3cspan class\x3d"trip-info-dates" id\x3d"'+e.escapeExpression((b=null!=(b=c.id||(null!=a?a.id:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"id",hash:{},data:d}):b))+'-trip-info-dates"\x3e'+e.escapeExpression((b=null!=(b=c.dates||(null!=a?a.dates:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"dates",hash:{},data:d}):b))+"\x3c/span\x3e\n"},28:function(e,a,c,g,d){var b;return e.escapeExpression((b=null!=(b=c.city||(null!=a?a.city:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"city",hash:{},data:d}):b))},30:function(e,a,c,g,d){var b;return e.escapeExpression((b=null!=(b=c.flightTypeLocalized||(null!=a?a.flightTypeLocalized:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"flightTypeLocalized",hash:{},data:d}):b))},32:function(e,a,c,g,d){var b;return"                          "+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.info:a,{name:"if",hash:{},fn:e.program(33,d,0),inverse:e.noop,data:d}))?b:"")+"\n"+(null!=(b=c.unless.call(null!=a?a:{},null!=a?a.info:a,{name:"unless",hash:{},
fn:e.program(35,d,0),inverse:e.noop,data:d}))?b:"")},33:function(e,a,c,g,d){var b;return e.escapeExpression((b=null!=(b=c.info||(null!=a?a.info:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"info",hash:{},data:d}):b))},35:function(e,a,c,g,d){var b;return'                              \x3cspan class\x3d"icon icon-flights"\x3e\x3c/span\x3e \x3cspan\x3e'+e.escapeExpression(e.lambda(null!=(b=null!=a?a.loc:a)?b.flightIncluded:b,a))+"\x3c/span\x3e\n"},37:function(e,a,c,g,d){var b;return"                          \x3cspan\x3e"+e.escapeExpression(e.lambda(null!=(b=null!=a?a.loc:a)?b.flightAndHotelIncluded:b,a))+"\x3c/span\x3e\n"},39:function(e,a,c,g,d){var b;return"                          \x3cspan\x3e"+e.escapeExpression((b=null!=(b=c.info||(null!=a?a.info:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"info",hash:{},data:d}):b))+"\x3c/span\x3e\n"},41:function(e,a,c,g,d){return" see-price"},43:function(e,a,c,g,d){return" has-price"},45:function(e,a,c,g,d){return" package-orig-price"},47:function(e,a,c,g,d){var b,f;return'                        \x3csection class\x3d"rv-savings-info" id\x3d"'+e.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:d}):f))+'-rv-savings-info"\x3e\n                            \x3cspan\x3e'+e.escapeExpression(e.lambda(null!=(b=null!=a?a.loc:a)?b.totalSavings:b,a))+' \x3cspan class\x3d"savingsAmount"\x3e'+e.escapeExpression((f=null!=(f=c.packageSavings||(null!=a?a.packageSavings:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"packageSavings",hash:{},data:d}):f))+"\x3c/span\x3e\x3c/span\x3e\n                        \x3c/section\x3e\n"},compiler:[7,"\x3e\x3d 4.0.0"],main:function(e,a,c,g,d){var b,f;return'\x3cdiv id\x3d"'+e.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:d}):f))+'" class\x3d"uitk-col '+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRV:a,{name:"if",hash:{},fn:e.program(1,d,0),inverse:e.program(3,d,0),data:d}))?b:"")+'" '+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.sfid:a,{name:"if",hash:{},fn:e.program(5,d,0),inverse:e.noop,data:d}))?b:"")+' data-rv-type\x3d"'+e.escapeExpression((f=null!=(f=c.rvType||(null!=a?a.rvType:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"rvType",hash:{},data:d}):f))+'" '+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRVH:a,{name:"if",hash:{},fn:e.program(7,d,0),inverse:e.noop,data:d}))?b:"")+" "+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.interactionId:a,{name:"if",hash:{},fn:e.program(9,d,0),inverse:e.noop,data:d}))?b:"")+'\x3e\n    \x3cdiv class\x3d"flex-card has-link '+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRV:a,{name:"if",hash:{},fn:e.program(1,d,0),inverse:e.program(3,d,0),data:d}))?b:"")+'"\x3e\n'+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRV:a,{name:"if",hash:{},fn:e.program(11,d,0),inverse:e.noop,data:d}))?b:"")+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRS:a,{name:"if",hash:{},fn:e.program(13,d,0),inverse:e.noop,data:d}))?b:"")+'            \x3cdiv class\x3d"flex-content"\x3e\n                \x3cdiv class\x3d"flex-area-primary"\x3e\n'+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRSF:a,{name:"if",hash:{},fn:e.program(20,d,0),inverse:e.program(22,d,0),data:d}))?b:"")+"\n"+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.showHotelStars:a,{name:"if",hash:{},fn:e.program(24,d,0),inverse:e.program(26,d,0),data:d}))?b:"")+'\n                    \x3cspan class\x3d"trip-info-city" id\x3d"'+e.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:d}):f))+'-trip-info-city"\x3e\n                        '+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRVH:a,{name:"if",hash:{},fn:e.program(28,d,0),inverse:e.program(30,d,0),data:d}))?b:"")+'\n                    \x3c/span\x3e\n\n                    \x3cspan class\x3d"trip-info-additional" id\x3d"'+e.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:d}):f))+'-trip-info-additional"\x3e\n'+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRVP:a,{name:"if",hash:{},fn:e.program(32,d,0),inverse:e.noop,data:d}))?b:"")+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRSP:a,{name:"if",hash:{},fn:e.program(37,d,0),inverse:e.noop,data:d}))?b:"")+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRSH:a,{name:"if",hash:{},fn:e.program(39,d,0),inverse:e.noop,data:d}))?b:"")+'                    \x3c/span\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"flex-area-secondary "\x3e\n                    \x3csection class\x3d"rv-price-info"  id\x3d"'+e.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:d}):f))+'-rv-price-info"\x3e\n                        \x3cspan class\x3d"flex-price price-info-price'+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.seePrice:a,{name:"if",hash:{},fn:e.program(41,d,0),inverse:e.noop,data:d}))?b:"")+(null!=(b=c.unless.call(null!=a?a:{},null!=a?a.seePrice:a,{name:"unless",hash:{},fn:e.program(43,d,0),inverse:e.noop,data:d}))?b:"")+'" id\x3d"'+e.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:d}):f))+'-price-info-price"\x3e'+e.escapeExpression((f=null!=(f=c.price||(null!=a?a.price:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"price",hash:{},data:d}):f))+'\x3c/span\x3e\n                        \x3cspan class\x3d"price-info-additional'+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.origPrice:a,{name:"if",hash:{},fn:e.program(45,d,0),inverse:e.noop,data:d}))?b:"")+'" id\x3d"'+e.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:d}):f))+'-price-additional"\x3e'+e.escapeExpression((f=null!=(f=c.origPrice||(null!=a?a.origPrice:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"origPrice",hash:{},data:d}):f))+e.escapeExpression((f=null!=(f=c.additionalPriceInfo||(null!=a?a.additionalPriceInfo:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"additionalPriceInfo",hash:{},data:d}):f))+"\x3c/span\x3e\n                    \x3c/section\x3e\n\n"+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.packageSavings:a,{name:"if",hash:{},fn:e.program(47,d,0),inverse:e.noop,data:d}))?b:"")+'                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3ca class\x3d"flex-link" href\x3d"'+e.escapeExpression((f=null!=(f=c.localizedPageUrl||(null!=a?a.localizedPageUrl:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"localizedPageUrl",hash:{},data:d}):f))+'"\x3e'+e.escapeExpression((f=null!=(f=c.hotelName||(null!=a?a.hotelName:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"hotelName",hash:{},data:d}):f))+'\x3c/a\x3e\n\n        \x3cdiv class\x3d"flex-area-tertiary"\x3e\n            \x3cbutton  type\x3d"button" data-control\x3d"remove" data-target-id\x3d"'+e.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:d}):f))+'" data-topic\x3d"remove-rv-box" data-transition\x3d"none" class\x3d"btn-primary btn-close module-close flex-close"\x3e\n                \x3cspan class\x3d"icon icon-close" aria-hidden\x3d"true"\x3e\x3c/span\x3e\n                \x3cspan class\x3d"alt"\x3eClose '+e.escapeExpression((f=null!=(f=c.hotelName||(null!=a?a.hotelName:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"hotelName",hash:{},data:d}):f))+"\x3c/span\x3e\n            \x3c/button\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n"},useData:!0});h.templates=h.templates||{};h.templates["rv-flex-card"]=k;h.partials=h.partials||{};h.partials["rv-flex-card"]=
k});require(["handlebars"],function(h){var k=h.template({1:function(e,a,c,g,d){var b;return null!=(b=e.invokePartial(g["rv-flex-card"],a,{name:"rv-flex-card",data:d,indent:"    ",helpers:c,partials:g,decorators:e.decorators}))?b:""},compiler:[7,"\x3e\x3d 4.0.0"],main:function(e,a,c,g,d){var b,f;return'\n\x3cheader class\x3d"cols-row-header"\x3e\n  \x3ch3 id\x3d"rv-title" class\x3d"rv-title"\x3e\n    '+e.escapeExpression((f=null!=(f=c.rvTitle||(null!=a?a.rvTitle:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"rvTitle",hash:{},data:d}):f))+'\n  \x3c/h3\x3e\n\x3c/header\x3e\n\x3cdiv class\x3d"uitk-grid all-x-gutter-24 desktop-col-1-2 tablet-col-1-1 flex-listing flex-theme-light" data-vtest-area\x3d"set-list-2up"\x3e\n'+(null!=(b=c.each.call(null!=a?a:{},null!=a?a.rvModel:a,{name:"each",hash:{},fn:e.program(1,d,0),inverse:e.noop,data:d}))?b:"")+'\x3c/div\x3e\n\n\n\x3cdiv\x3e\n  \x3cspan id\x3d"rv-legal-msg" class\x3d"rv-legal-msg"\x3e'+e.escapeExpression((f=null!=(f=c.rvLegalMsg||(null!=a?a.rvLegalMsg:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"rvLegalMsg",hash:{},data:d}):f))+"\x3c/span\x3e\n\x3c/div\x3e\n"},usePartial:!0,useData:!0});h.templates=h.templates||{};h.templates["rv-container"]=k;h.partials=h.partials||{};h.partials["rv-container"]=k});define("rv-loc",function(){return{days:"[x] days",nights:"[x] nights",night:"[x] night",freeCancellation:"Free cancellation",multidest:"Multiple destinations",oneway:"One way",othersBooking:"[x] bookings in the last 48 hours",othersBookingSingular:"1 booking in the last 48 hours",othersViewing:"[x] others viewing this hotel now",othersViewingSingular:"1 other viewing this hotel now",packageDealVolumeMessage:"Over 540 deals",perNight:"per night",perPerson:"per person",totalRate:"total rate",roomsLeft:"[x] rooms left",roundtrip:"Roundtrip",rsfTitle:"Flights from [A] to [B]",seeFullSearch:"See full search",seePrice:"See price",singleRoomLeft:"1 room left",to:"[A] to [B]",flightIncluded:"Flight included",flightAndHotelIncluded:"Flight and hotel included",removeHotelFromHF:"Remove [hotelName] from list of recently viewed flight searches",removeHotel:"Remove [hotelName] from list of recently viewed hotels",totalSavings:"Total savings",rvYourTitle:"Your Recent Searches",rvUserTitle:"[signedIn]'s Recent Searches",rvUserTitleV2:"Pick up where you left off",perNightLegalMessage:"Prices vary and will be updated when you view current results. 'Per night’ pricing represents the cheapest average nightly price based on your selected length of stay.",totalRateLegalMessage:"Prices vary and will be updated when you view current results."}});var recentlyViewed=recentlyViewed||{};recentlyViewed.hotelIds=[];recentlyViewed.rvModel=[];recentlyViewed.regionIds=[];recentlyViewed.tlaRegionIdLookup=[];function getRvRequirements(){return"rvModelBuilder rvUrgency uitk rv-loc gc/pageModel handlebars sfAbTest dctk/dctk".split(" ")}define("recentlyViewed",getRvRequirements(),function(h,k,e,a,c,g,d,b){return{init:function(){"localhost"==window.location.hostname&&recentlyViewed.UAD?this.render():$.ajax({dataType:"json",url:"/UserActivityDataAjax/getUserActivityData",success:function(a){"undefined"!==typeof a&&null!=a&&(recentlyViewed.UAD=a,require(["recentlyViewed"],function(a){a.render()}))},complete:function(a,c,d){window.dctk&&b.enabled&&b.logging&&b.logging.logError?b.logging.logMessage("sf-web:rv",{status:c}):require("dctk/clientLogging",function(a){a.logMessage("sf-web:rv",{status:c})})},cache:!1,timeout:5E3})},render:function(){h.getModel();this.renderModel();k.getUrgencyMessages();e.subscribe("remove-rv-box",this.deleteBoxCallback)},renderModel:function(){if(recentlyViewed.rvModel[0]){var b=c.user,e=b.userStatus,g=a.rvYourTitle;("Identified"===e||"AUTHENTICATED"===e)&&"string"===typeof b.firstName&&0<b.firstName.length&&("1"===siteid||"18"===siteid?d.get(14787,!0,function(c){g=1==c.value?a.rvUserTitleV2:a.rvUserTitle.replace("[signedIn]",b.firstName)}):g=a.rvUserTitle.replace("[signedIn]",b.firstName));e={rvTitle:g,rvModel:recentlyViewed.rvModel,rvLegalMsg:recentlyViewed.config.getLegalMsg(a),loc:a};e=(0,Handlebars.partials["rv-container"])(e);$(".rv-container").html(e).find(".uitk-col:odd").addClass("even");this.addPlaceholders()}},addPlaceholders:function(){var a=recentlyViewed.rvModel.length;$(".uitk-col.placeholder-box").remove();$(".rv-container .even").removeClass("even");$(".rv-container").find(".uitk-col:odd").addClass("even");0<a%2&&$("#rv-container .uitk-grid").append("\x3cdiv class\x3d'uitk-col placeholder-box'\x3e \x3cdiv class\x3d'flex-card placeholder even'\x3e\x3c/div\x3e\x3c/div\x3e")},deleteBoxCallback:function(a,b){var c=b.attr("id"),d=b.attr("sfid"),e=b.attr("data-rv-type"),f=b.attr("data-interaction-id");f||(f=d);if(0===e.length)return!1;1===recentlyViewed.rvModel.length?($("#rv-container .uitk-grid").append("\x3cdiv class\x3d'uitk-col placeholder-box'\x3e \x3cdiv class\x3d'flex-card placeholder even'\x3e\x3c/div\x3e\x3c/div\x3e"),recentlyViewed.rvModel.length=0):($.each(recentlyViewed.rvModel,function(a,b){if(c===b.id)return recentlyViewed.rvModel.splice(a,1),!1}),require(["recentlyViewed"],function(a){a.addPlaceholders()}));"rvH"===e?c=c.split("-")[1]:"rvP"===e?c="VP-"+c.split("-")[1]:"rsH"===e?c="SH-"+d:"rsF"===e?c=d:"rsP"===e&&(c="SP-"+d);require(["recentlyViewed"],function(a){a.notInterested(c,f)})},notInterested:function(a,b){var c="";b&&(c="\x26interactionId\x3d"+b);$.ajax({url:"/UserActivityData/notInterested?id\x3d"+a+c,cache:!1})}}});require(["recentlyViewed"],function(h){h.init()});define("rvModelBuilder",["rvTileBuilder"],function(h){return{getModel:function(){recentlyViewed.rvModel=[];recentlyViewed.hotelIds.length=0;this.populateTimeSortedRvModel();return recentlyViewed.rvModel},getDataFromAirportTla:function(h,e){$.ajax({dataType:"jsonp",url:"https://expedia.com/hint/es/v2/sri/en_US/"+h+"?lob\x3dpackages",success:e,cache:!1,timeout:2E3})},sortViewedHotelsByViewDate:function(){recentlyViewed.UAD.viewedHotels=_.sortBy(recentlyViewed.UAD.viewedHotels,"viewedDate").reverse();return recentlyViewed.UAD},populateTimeSortedRvModel:function(){function k(b,c,d,e){b<c&&(b=new Date(d[b].searchedDate||d[b].viewedDate),""===a||b>a)&&(a=b,n=e)}function e(a,b){return-1===a.indexOf("?")?a+"?rfrr\x3dSTF.RSRV.Tile"+b:a+"\x26rfrr\x3dSTF.RSRV.Tile"+b}var a;this.sortViewedHotelsByViewDate();var c=recentlyViewed.UAD,g,d,b,f;var l=g=d=b=f=0;for(var p=c.viewedHotels?c.viewedHotels.length:0,r=c.viewedPackages?c.viewedPackages.length:0,t=c.searchedFlights?c.searchedFlights.length:0,u=c.searchedPackages?c.searchedPackages.length:0,q=0;8>q&&(0>d||b<t||f<u||l<p||g<r);){var n=a="";k(b,t,c.searchedFlights,"rsF");k(f,u,c.searchedPackages,"rsP");k(l,p,c.viewedHotels,"rvH");k(g,r,c.viewedPackages,"rvP");if("rsH"===n)var m=h.convertRSItem(c.searchedHotels[d],"hotel",d++);else if("rsF"===n)m=h.convertRSItem(c.searchedFlights[b],"flight",b++);else if("rsP"===n)m=h.convertRSItem(c.searchedPackages[f],"package",f++);else if("rvH"===n){var v=c.viewedHotels[l];m=h.convertRVItem(v,"hotel",l++);recentlyViewed.hotelIds.push(v.hotelId)}else"rvP"===n&&(m=h.convertRVItem(c.viewedPackages[g],"package",g++));m.localizedPageUrl=e(m.localizedPageUrl,q+1);recentlyViewed.rvModel.push(m);q++}if(0===recentlyViewed.tlaRegionIdLookup.length)uitk&&"function"===typeof uitk.publish&&uitk.publish("tickerRegionIds.ready",{state:"done"});else{uitk.subscribe("regionId-lookup-done",function(a,b){console.log(recentlyViewed.tlaRegionIdLookup);console.log(recentlyViewed.regionIds);uitk.publish("tickerRegionIds.ready",{state:"done"})});var w=function(){setTimeout(function(){var a=!0;console.log(recentlyViewed.tlaRegionIdLookup);console.log(recentlyViewed.regionIds);for(var b=0;b<recentlyViewed.tlaRegionIdLookup.length;b++)if(0!==recentlyViewed.tlaRegionIdLookup[b]){a=!1;break}a?uitk.publish("regionId-lookup-done"):w()},500)};w()}}}});
define("rvTileBuilder",["rvUtils","rv-loc","packageSearchUrl"],function(h,k,e){return{convertRVItem:function(a,c,e){var d={isRV:!0};d.hotelId=a.hotelId;d.interactionId=a.interactionId;d.hotelName=a.hotelName;d.localizedPageUrl=a.localizedPageUrl;d.thumbnail=a.thumbnail?a.thumbnail.replace("_t","_s"):"";d.city=a.regionLongName.substr(0,a.regionLongName.indexOf(","))||a.regionLongName;d.dates=h.formatDatePair(a.checkInDate,a.checkOutDate,c);d.checkIn=a.checkInDate;d.checkOut=a.checkOutDate;d.travelerUnits=a.travelerUnits;"hotel"===c?(d.id="rvH"+e+"-"+a.hotelId,d.rvType="rvH",d.isRVH=!0,d.price=a.price&&a.price.amount?h.formatPrice(a.price.amount,a.price.currency.currencyCode):k.seePrice,d.showHotelStars=!1,d.starsIcon=a.starRating.replace(".","-"),d.stars=a.starRating,a.checkInDate&&a.checkOutDate&&(c=a.localizedPageUrl.indexOf("chkin")+6,e=a.localizedPageUrl.indexOf("chkout"),e=a.localizedPageUrl.indexOf("\x26",e),d.localizedPageUrl=a.localizedPageUrl.substring(0,c)+h.formatDateStandard(a.checkInDate)+"\x26chkout\x3d"+h.formatDateStandard(a.checkOutDate)+a.localizedPageUrl.substring(e))):"package"===c&&(d.id="rvP"+e+"-"+a.hotelId,d.rvType="rvP",d.isRVP=!0,d.price=a.packagePricePerPerson&&a.packagePricePerPerson.amount?h.formatPrice(Math.ceil(a.packagePricePerPerson.amount),a.packagePricePerPerson.currency.currencyCode):k.seePrice,recentlyViewed.config.RVPackageDiscountMessageEnabled&&a.packageSavings&&0<a.packageSavings.amount&&(d.packageSavings=h.formatPrice(Math.round(a.packageSavings.amount),a.packageSavings.currency.currencyCode)),a.origin&&a.origin.city&&a.destination&&a.destination.city&&(d.info=k.to.replace("[A]",a.origin.city).replace("[B]",a.destination.city)));d.price==k.seePrice?d.seePrice=!0:1==d.isRVH?d.additionalPriceInfo=recentlyViewed.config.getTotalRateOrPerNightMessage(k):1==d.isRVP&&(d.additionalPriceInfo=k.perPerson);return d},convertRSItem:function(a,c,g){var d={};if("hotel"!==c)if("flight"===c){var b=a.destination.city+" ("+a.destinationTLA+")";d.hotelName=k.rsfTitle.replace("[A]",a.origin.city+" ("+a.originTLA+")").replace("[B]",b);d.rsfShortName=k.to.replace("[A]",a.originTLA).replace("[B]",a.destinationTLA);d.localizedPageUrl=a.searchUrl;d.dates=h.formatDatePair(a.departureDate,a.returnDate,c);d.rvType="rsF";d.id="rsF"+g;d.isRSF=!0;d.destTLA=a.destinationTLA;d.start=a.departureDate;d.end=a.returnDate;d.city=a.destination.city;d.flightType=a.flightType;if("ROUND_TRIP"===d.flightType){d.flightTypeLocalized=k.roundtrip;g=a.searchUrl.indexOf("departure")+10;c=a.searchUrl.indexOf("TANYT",g);b=a.searchUrl.indexOf("departure",c)+10;var f=a.searchUrl.indexOf("TANYT",b);d.localizedPageUrl=a.searchUrl.substring(0,g)+h.formatDateStandard(a.departureDate)+a.searchUrl.substring(c,b)+h.formatDateStandard(a.returnDate)+a.searchUrl.substring(f)}else"MULTIPLE_DESTINATION"===d.flightType?d.flightTypeLocalized=k.multidest:"ONE_WAY"===d.flightType&&(d.flightTypeLocalized=k.oneway,d.dates=h.formatDate(a.departureDate),g=a.searchUrl.indexOf("departure")+10,c=a.searchUrl.indexOf("TANYT",g),d.localizedPageUrl=a.searchUrl.substring(0,g)+h.formatDateStandard(a.departureDate)+a.searchUrl.substring(c));a.price&&(c=a.price.match(/\d+/g))&&c[0].length&&(a.price=h.formatPrice(a.price));d.travelerUnit=a.travelerUnit}else if("package"===c){d.hotelName=k.to.replace("[A]",a.origin.city).replace("[B]",a.destination.city);d.dates=h.formatDatePair(a.departureDate,a.returnDate,c);d.rvType="rsP";d.id="rsP"+g;d.isRSP=!0;var l=[],p=!0;$.each(a.travelerUnits,function(a,b){var c={};c.adults=b.numberOfAdults;c.children=b.childAges;l.push(c);p=!b.infantInLap});c=h.formatDateStandard(a.departureDate);g=h.formatDateStandard(a.returnDate);c={isPackage:!0,destination:a.destinationTLA,origin:a.originTLA,startDate:c,endDate:g,rooms:l,lapSeat:p?"lap":"seat",lang:recentlyViewed.config.lang};if(a.checkInDate&&a.checkInDate!==a.departureDate||a.checkOutDate&&a.checkOutDate!==a.returnDate)g=h.dateDiffInDays(a.departureDate,a.returnDate),b=h.dateDiffInDays(a.checkInDate,a.checkOutDate),c.isPartialStay=b<g,c.checkin=h.formatDateStandard(a.checkInDate),c.checkout=h.formatDateStandard(a.checkOutDate);d.localizedPageUrl=e(c,"fh")}d.isRS=!0;d.sfid=a.cacheKey;d.price=a.price||k.seePrice;d.price==k.seePrice?(d.seePrice=!0,1==d.isRSP&&(d.price=k.seeFullSearch,d.additionalPriceInfo=k.packageDealVolumeMessage)):1==d.isRSF&&(d.additionalPriceInfo=k.perPerson);return d}}});define("rvUrgency",["rvUtils","rv-loc"],function(h,k){return{getUrgencyMessages:function(){0<recentlyViewed.hotelIds.length&&(this.getFreeCancellation(recentlyViewed.hotelIds),this.getTrendMessageV2(recentlyViewed.hotelIds))},getFreeCancellation:function(e){var a="";$.each(e,function(c,e){a=a+"\x26hotelId\x3d"+e});$.ajax({dataType:"json",url:"/UserActivityDataAjax/getAdditionalHotelAvailInfo?"+a,success:this.freeCancellationCallback,cache:!1,timeout:5E3})},freeCancellationCallback:function(e){if(null!==e){if("string"===typeof e){if("Error"===e.substring(0,5))return recentlyViewed.getTrendMessageV2(recentlyViewed.hotelIds),!1;dataArray=JSON.parse(e)}else dataArray=e;e='\x3cspan class\x3d"price-info-additional free-cancellation" style\x3d"display:none;"\x3e'+k.freeCancellation+"\x3c/span\x3e";for(var a=0;a<dataArray.length;a++){var c=dataArray[a];if(c.freeCancellation)$("[data-hotelId\x3d"+c.hotelId+"] .rv-price-info").append(e);else if(c.numberOfRoomsLeft&&0<parseInt(c.numberOfRoomsLeft)){var g=1<c.numberOfRoomsLeft?k.roomsLeft.replace("[x]",c.numberOfRoomsLeft):k.singleRoomLeft;$("[data-hotelId\x3d"+c.hotelId+"] .rv-price-info").append('\x3cspan class\x3d"price-info-additional number-of-rooms-left" style\x3d"display:none;"\x3e'+g+"\x3c/span\x3e")}}$(".free-cancellation, .number-of-rooms-left").fadeIn(1E3)}},getTrendMessageV2:function(e){"object"===typeof e&&0<e.length&&$.ajax({beforeSend:function(a){a.setRequestHeader("Accept","Application/json")},dataType:"jsonp",url:"https://urgency.expedia.com/urgencyservice/v1/ticker/hotel?clientId\x3dstorefront\x26viewDuration\x3d30m\x26bookingDuration\x3d48h\x26type\x3dview,booking\x26ids\x3d"+e.join(","),success:this.trendMessageCallback,cache:!1,timeout:5E3})},trendMessageCallback:function(e){null!==e&&("string"===typeof e&&(e=JSON.parse(e)),$.each(e.hotelTicker,function(a,c){var e="";c.bookingsCount&&0<parseInt(c.bookingsCount)?e=1==parseInt(c.bookingsCount)?k.othersBookingSingular:k.othersBooking.replace("[x]",c.bookingsCount):c.viewsCount&&0<parseInt(c.viewsCount)&&(e=1==parseInt(c.viewsCount)?k.othersViewingSingular:k.othersViewing.replace("[x]",c.viewsCount));e&&($("[data-hotelId\x3d"+c.id+"] .rv-trip-info .trip-info-additional").html('\x3cspan class\x3d"icon icon-trend" style\x3d"display:none;"\x3e\x3c/span\x3e\x3cspan style\x3d"display:none;"\x3e'+e+"\x3c/span\x3e").addClass("trend-msg"),$("[data-hotelId\x3d"+c.id+"] .flex-card .trip-info-additional").html('\x3cspan class\x3d"icon icon-trend" style\x3d"display:none;"\x3e\x3c/span\x3e\x3cspan style\x3d"display:none;"\x3e'+e+"\x3c/span\x3e").addClass("trend-msg"))}),$(".rv-trip-info .trip-info-additional span").fadeIn(1E3),$(".flex-card .trip-info-additional span").fadeIn(1E3))}}});define("rvUtils",["rv-loc","uitk","uitk_localized_dateApi","uitk_localized_priceApi","uitk_localized_config"],function(h,k){return{formatDate:function(e){return e?k.utils.createLocalizedDate(new Date(e),k.locale).mediumDate():""},dateDiffInDays:function(e,a){var c=new Date(e);c=Math.abs((new Date(a)).getTime()-c.getTime());return Math.ceil(c/864E5)},formatDatePair:function(e,a,c){if(!e||!a)return"";var g=this.dateDiffInDays(e,a);e=this.formatDate(e);a=this.formatDate(a);e=e+" - "+a;a=1===g?h.night:h.nights;return"hotel"===c?a.replace("[x]",g)+" ("+e+")":0===g?e:h.days.replace("[x]",g+1)+" ("+e+")"},formatDateStandard:function(e){return e?k.utils.createLocalizedDate(new Date(e),k.locale).shortDate():null},formatPrice:function(e,a){return"string"===typeof e?e:k.utils.createLocalizedPrice(e.toString(),window.locale,a).format()}}});
//# sourceMappingURL=recentlyViewed-1-en_US.js.map