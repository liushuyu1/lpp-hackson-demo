define("airAttach-moduleLoader",["airAttach-moduleConfig","jquery"],function(c,b){var f=function(){var a=b.Deferred();b.ajax({url:c.endPoint,dataType:"html",timeout:c.timeout}).done(function(b,c,e){200===e.status?a.resolve(b,c,e):a.reject(e,c)}).fail(a.reject);return a.promise()},g=function(){document.getElementById("mad-header-container")&&(document.getElementById("mad-header-container").style.removeProperty("display"),require(["dctk/dctk"],function(a){a.onReady(function(){a.trackEvent({name:"HeaderImpression",rfrr:"GH.Banner.App.PSHEADERMWEB.IMP"})})}))},h=function(){b("body").removeClass("aoa-enabled")},k=function(){require("dctk/dctk",function(a){window.isMobile&&b(c.moduleContainerSelector).hasClass(c.successfullyLoadedClass)&&a.logExperiment({id:c.mipMapExperimentId})})},l=function(a,d){window.isMobile&&2===window.ab25223&&"car"!==window.launchPageType&&b(c.moduleContainerSelector).addClass("hidden");b(c.moduleContainerSelector).removeClass(c.loadingModuleClass).addClass(d).html(a).addClass(c.successfullyLoadedClass)},m=function(){var a=b(c.moduleContainerSelector),d=a.height();a.css("height",0).animate({height:d,opacity:1},1500,function(){b(this).css("height","auto")})},n=function(){require("dctk/dctk",function(a){a.logExperiment({id:c.experimentId})})},p=function(){!b(c.moduleContainerSelector).hasClass(c.successfullyLoadedClass)&&0<b(".aoa-container").length&&b("body").addClass("aoa-enabled")},t=function(){b(c.moduleContainerSelector).hasClass("hidden")||(document.getElementById("car-aoa-banner-link-id")?(q(),r()):2!==window.ab25223&&require(["dctk/dctk","analyticsConfig"],function(a,b){a.onReady(function(){b.isUISPrimeEnabled?require("PlatformAnalytics",function(a){a.getInstance().trackEvent([{schemaName:"events",messageContent:{name:"MIPOffersPresent"}},{schemaName:"events",messageContent:{name:"MIPEligibleHotel"}},{schemaName:"shoppingDealsGlobal",messageContent:{mipBanner:"MIP.HOT.EXPEDIA.STOREFRONT",mipQualified:!0,numMemberOnlyDeals:0,numMip:0}}])}):a.trackEvent({trackVars:{eVar43:"MIP.HOT.EXPEDIA.STOREFRONT"},trackEvents:"event132,event152"})})}))},r=function(){b("#car-aoa-banner-link-id").on("click",function(){require(["dctk/dctk","analyticsConfig"],function(a,b){a.onReady(function(){b.isUISPrimeEnabled?require("PlatformAnalytics",function(a){a.getInstance().trackEvent([{schemaName:"events",messageContent:{name:"MIPBannerClickthrough"}},{schemaName:"referrer",messageContent:{referrerId:"MIP.CAR.SF.BannerClick",linkName:"CarAOABannerLink",eventType:"click"}}])}):a.trackEvent({name:"CarAOABannerLink",rfrr:"MIP.CAR.SF.BannerClick",type:"o",trackEvents:"event158"})})})})},q=function(){require(["dctk/dctk","analyticsConfig"],function(a,b){a.onReady(function(){b.isUISPrimeEnabled?require("PlatformAnalytics",function(a){a.getInstance().trackEvent([{schemaName:"shoppingDealsGlobal",messageContent:{mipBanner:"MIP.CAR.SF.BannerShown",mipQualified:!0,numMemberOnlyDeals:0,numMip:0}},{schemaName:"events",messageContent:{name:"MIPOffersPresent"}},{schemaName:"events",messageContent:{name:"MIPEligibleCar"}}])}):a.trackEvent({trackVars:{eVar43:"MIP.CAR.SF.BannerShown"}})})})},u=function(a,d){b(c.moduleContainerSelector).removeClass(c.loadingModuleClass).addClass(c.failedToLoadClass).addClass(d)},v=function(){b("#mad-header-container").length&&"display: none !important"!==b("#mad-header-container").attr("style")&&"car"!==window.launchPageType&&b("#mad-header-container").hide()},w=function(){require(["dctk/dctk"],function(a){a.onReady(function(){b("#ps-banner-link").length&&(b("#ps-banner-link").on("click",function(){a.trackEvent({rfrr:"GH.Banner.App.Homepage.PSHEADERMWEB.CLICK"})}),b("#ps-banner-close").on("click",function(){a.trackEvent({rfrr:"GH.Banner.App.Homepage.PSHEADERMWEB.CLOSE"})}))})})};return{init:function(){try{f().then(l).then(m).then(n).then(k).then(t).then(h).then(v).fail(g).fail(u).always([p,w])}catch(d){var a=d;console&&(console.error?console.error(a):console.log&&console.log("Error occurred in airAttach-moduleLoader: "+a))}}}});require(["airAttach-moduleLoader","ascQualified"],function(c,b){b.hasASC||c.init()});define("airAttach-moduleConfig",function(){return{experimentId:27735,mipMapExperimentId:25223,endPoint:"/storefront/tripAttachQualificationV2?launchPageType\x3d"+window.launchPageType,moduleContainerSelector:"#airattach-container",timeout:4E3,loadingModuleClass:"loading",failedToLoadClass:"failed-to-load",successfullyLoadedClass:"airattach-module-loaded"}});
//# sourceMappingURL=airAttachBanner.js.map