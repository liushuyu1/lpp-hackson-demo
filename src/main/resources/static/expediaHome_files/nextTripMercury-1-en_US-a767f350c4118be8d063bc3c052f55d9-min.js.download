require(["handlebars"],function(g){var h=g.template({1:function(c,a,f,g,e){var d;return null!=(d=f["if"].call(null!=a?a:{},null!=a?a.name:a,{name:"if",hash:{},fn:c.program(2,e,0),inverse:c.noop,data:e}))?d:""},2:function(c,a,f,g,e){var d,b;return'        \x3csection class\x3d"itin-next-trip" id\x3d"next-trip" style\x3d"margin-top:1em; margin-left: 1em;"\x3e\n            \x3ch4 class\x3d"trip-title"\x3e\n'+(null!=(d=f["if"].call(null!=a?a:{},null!=a?a.isFlight:a,{name:"if",hash:{},fn:c.program(3,e,0),inverse:c.program(5,e,0),data:e}))?d:"")+'            \x3c/h4\x3e\n\n\t\t\x3cspan class\x3d"trip-name-icon"\x3e\n\t\t\t\x3cspan class\x3d"icon icon-'+c.escapeExpression((b=null!=(b=f.lob||(null!=a?a.lob:a))?b:f.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"lob",hash:{},data:e}):b))+'"\x3e\x3c/span\x3e\n            '+c.escapeExpression((b=null!=(b=f.name||(null!=a?a.name:a))?b:f.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"name",hash:{},data:e}):b))+'\n\t\t\x3c/span\x3e\n\n\t\t\x3cspan class\x3d"trip-date"\x3e\n'+(null!=(d=f["if"].call(null!=a?a:{},null!=a?a.isHotel:a,{name:"if",hash:{},fn:c.program(19,e,0),inverse:c.program(21,e,0),data:e}))?d:"")+'        \x3c/span\x3e\n\n            \x3ca class\x3d"trip-link" href\x3d'+c.escapeExpression((b=null!=(b=f.link||(null!=a?a.link:a))?b:f.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"link",hash:{},data:e}):b))+"\x3e"+(null!=(d=c.lambda(null!=(d=null!=a?a.loc:a)?d.seeMyTripLinkText:d,a))?d:"")+"\x3c/a\x3e\n        \x3c/section\x3e\n"},3:function(c,a,f,g,e){var d;return"                "+c.escapeExpression(c.lambda(null!=(d=null!=a?a.loc:a)?d.yourUpcomingFlight:d,a))+"\n"},5:function(c,a,f,g,e){var d;return null!=(d=f["if"].call(null!=a?a:{},null!=a?a.isHotel:a,{name:"if",hash:{},fn:c.program(6,e,0),inverse:c.program(8,e,0),data:e}))?d:""},6:function(c,a,f,g,e){var d;return"                    "+c.escapeExpression(c.lambda(null!=(d=null!=a?a.loc:a)?d.yourUpcomingHotel:d,a))+"\n"},8:function(c,a,f,g,e){var d;return null!=(d=f["if"].call(null!=a?a:{},null!=a?a.isCar:a,{name:"if",hash:{},fn:c.program(9,e,0),inverse:c.program(11,e,0),data:e}))?d:""},9:function(c,a,f,g,e){var d;return"                        "+c.escapeExpression(c.lambda(null!=(d=null!=a?a.loc:a)?d.yourUpcomingCar:d,a))+"\n"},11:function(c,a,f,g,e){var d;return null!=(d=f["if"].call(null!=a?a:{},null!=a?a.isCruise:a,{name:"if",hash:{},fn:c.program(12,e,0),inverse:c.program(14,e,0),data:e}))?d:""},12:function(c,a,f,g,e){var d;return"                            "+c.escapeExpression(c.lambda(null!=(d=null!=a?a.loc:a)?d.yourUpcomingCruise:d,a))+"\n"},14:function(c,a,f,g,e){var d;return null!=(d=f["if"].call(null!=a?a:{},null!=a?a.isActivity:a,{name:"if",hash:{},fn:c.program(15,e,0),inverse:c.program(17,e,0),data:e}))?d:""},15:function(c,a,f,g,e){var d;return"                                "+c.escapeExpression(c.lambda(null!=(d=null!=a?a.loc:a)?d.yourUpcomingActivity:d,a))+"\n"},17:function(c,a,f,g,e){var d;return"                                "+c.escapeExpression(c.lambda(null!=(d=null!=a?a.loc:a)?d.yourUpcomingTrip:d,a))+"\n"},19:function(c,a,f,g,e){var d;return"            "+(null!=(d=c.lambda(null!=(d=null!=a?a.loc:a)?d.checkInTextOnUpcomingTrip:d,a))?d:"")+"\n"},21:function(c,a,f,g,e){var d;return null!=(d=f["if"].call(null!=a?a:{},null!=a?a.isCar:a,{name:"if",hash:{},fn:c.program(22,e,0),inverse:c.program(24,e,0),data:e}))?d:""},22:function(c,a,f,g,e){var d;return"                "+(null!=(d=c.lambda(null!=(d=null!=a?a.loc:a)?d.pickUpTextOnUpcomingTrip:d,a))?d:"")+"\n"},24:function(c,a,f,g,e){var d;return null!=(d=f["if"].call(null!=a?a:{},null!=a?a.isActivity:a,{name:"if",hash:{},fn:c.program(25,e,0),inverse:c.program(27,e,0),data:e}))?d:""},25:function(c,a,f,g,e){var d;return"                    "+(null!=(d=c.lambda(null!=(d=null!=a?a.loc:a)?d.activityStartsTextOnUpcomingTrip:d,a))?d:"")+"\n"},27:function(c,a,f,g,e){var d;return"                    "+(null!=(d=c.lambda(null!=(d=null!=a?a.loc:a)?d.departureTextForUpcomingTrip:d,a))?d:"")+"\n"},compiler:[7,"\x3e\x3d 4.0.0"],main:function(c,a,f,g,e){var d;return null!=(d=f["if"].call(null!=a?a:{},null!=a?a.displayNextTrip:a,{name:"if",hash:{},fn:c.program(1,e,0),inverse:c.noop,data:e}))?d:""},useData:!0});g.templates=g.templates||{};g.templates["next-trip-hbs"]=h;g.partials=g.partials||{};g.partials["next-trip-hbs"]=h});require(["handlebars"],function(g){var h=g.template({1:function(c,a,f,g,e){var d;return null!=(d=c.invokePartial(g["content-flight"],a,{name:"content-flight",data:e,indent:"        ",helpers:f,partials:g,decorators:c.decorators}))?d:""},3:function(c,a,f,g,e){var d;return null!=(d=c.invokePartial(g["content-base"],a,{name:"content-base",data:e,indent:"        ",helpers:f,partials:g,decorators:c.decorators}))?d:""},compiler:[7,"\x3e\x3d 4.0.0"],main:function(c,a,f,g,e){var d,b;return'\x3cheader class\x3d"cols-row-header next-trip-header"\x3e\n  \x3ch3\x3e'+c.escapeExpression(c.lambda(null!=(d=null!=a?a.loc:a)?d.yourUpcomingTrip:d,a))+'\x3c/h3\x3e\n\x3c/header\x3e\n\x3csection class\x3d"next-trip-tile next-trip-'+c.escapeExpression((b=null!=(b=f.lob||(null!=a?a.lob:a))?b:f.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"lob",hash:{},data:e}):b))+" "+c.escapeExpression((b=null!=(b=f.flight_type||(null!=a?a.flight_type:a))?b:f.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"flight_type",hash:{},data:e}):b))+' flex-card has-link"\x3e\n'+(null!=(d=f["if"].call(null!=a?a:{},null!=a?a.flight_legs:a,{name:"if",hash:{},fn:c.program(1,e,0),inverse:c.program(3,e,0),data:e}))?d:"")+'\n    \x3cdiv class\x3d"next-trip-itin-link"\x3e\n        \x3cspan\x3e'+c.escapeExpression(c.lambda(null!=(d=null!=a?a.loc:a)?d.viewItinerary:d,a))+'\x3c/span\x3e\n    \x3c/div\x3e\n    \x3ca class\x3d"flex-link" href\x3d"'+c.escapeExpression((b=null!=(b=f.viewLink||(null!=a?a.viewLink:a))?b:f.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"viewLink",hash:{},data:e}):b))+'" aria-label\x3d"'+c.escapeExpression((b=null!=(b=f.aria_label||(null!=a?a.aria_label:a))?b:f.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"aria_label",hash:{},data:e}):b))+'"\x3e'+c.escapeExpression((b=null!=(b=f.name||(null!=a?a.name:a))?b:f.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"name",hash:{},data:e}):b))+"\x3c/a\x3e\n\x3c/section\x3e\n"},usePartial:!0,useData:!0});g.templates=g.templates||{};g.templates["next-trip-v2"]=h;g.partials=g.partials||{};g.partials["next-trip-v2"]=h});
require(["handlebars"],function(g){var h=g.template({1:function(c,a,f,g,e){var d;return'\x3cspan class\x3d"line-1-sub"\x3e'+c.escapeExpression((d=null!=(d=f.line_1_sub||(null!=a?a.line_1_sub:a))?d:f.helperMissing,"function"===typeof d?d.call(null!=a?a:{},{name:"line_1_sub",hash:{},data:e}):d))+"\x3c/span\x3e"},3:function(c,a,f,g,e){var d;return'\x3cspan class\x3d"next-trip-detail-address address-2"\x3e'+c.escapeExpression((d=null!=(d=f.line_2||(null!=a?a.line_2:a))?d:f.helperMissing,"function"===typeof d?d.call(null!=a?a:{},{name:"line_2",hash:{},data:e}):d))+"\x3c/span\x3e"},compiler:[7,"\x3e\x3d 4.0.0"],main:function(c,a,f,g,e){var d,b;return'\x3cfigure class\x3d"image aspect-ratio4-3" alt\x3d"'+c.escapeExpression((b=null!=(b=f.title||(null!=a?a.title:a))?b:f.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"title",hash:{},data:e}):b))+'" data-media-type\x3d"image" data-lazy\x3d"true" data-src\x3d"'+c.escapeExpression((b=null!=(b=f.thumbnail||(null!=a?a.thumbnail:a))?b:f.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"thumbnail",hash:{},data:e}):b))+'"\x3e\n    \x3cimg alt\x3d"'+c.escapeExpression((b=null!=(b=f.title||(null!=a?a.title:a))?b:f.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"title",hash:{},data:e}):b))+'" class\x3d"tile-media" src\x3d"'+c.escapeExpression((b=null!=(b=f.thumbnail||(null!=a?a.thumbnail:a))?b:f.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"thumbnail",hash:{},data:e}):b))+'"\x3e\n    \x3cnoscript\x3e\n        \x26amp;lt;img src\x3d"'+c.escapeExpression((b=null!=(b=f.thumbnail||(null!=a?a.thumbnail:a))?b:f.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"thumbnail",hash:{},data:e}):b))+'" alt\x3d"missing image alt" class\x3d"tile-media"/\x26amp;gt;\n    \x3c/noscript\x3e\n    \x3cspan class\x3d"media-loader"\x3e\n        \x3cspan class\x3d"loader loader-primary loader-light loader-static loading" aria-hidden\x3d"true" title\x3d"Loading..."\x3e\x3c/span\x3e\n    \x3c/span\x3e\n\x3c/figure\x3e\n\n\x3cdiv class\x3d"next-trip-detail"\x3e\n    \x3cspan class\x3d"next-trip-detail-date"\x3e'+c.escapeExpression((b=null!=(b=f.date||(null!=a?a.date:a))?b:f.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"date",hash:{},data:e}):b))+'\x3c/span\x3e\n    \x3cspan class\x3d"next-trip-detail-title"\x3e'+c.escapeExpression((b=null!=(b=f.title||(null!=a?a.title:a))?b:f.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"title",hash:{},data:e}):b))+'\x3c/span\x3e\n    \x3cspan class\x3d"next-trip-detail-line-1"\x3e'+c.escapeExpression((b=null!=(b=f.line_1||(null!=a?a.line_1:a))?b:f.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"line_1",hash:{},data:e}):b))+(null!=(d=f["if"].call(null!=a?a:{},null!=a?a.line_1_sub:a,{name:"if",hash:{},fn:c.program(1,e,0),inverse:c.noop,data:e}))?d:"")+"\x3c/span\x3e\n    "+(null!=(d=f["if"].call(null!=a?a:{},null!=a?a.line2:a,{name:"if",hash:{},fn:c.program(3,e,0),inverse:c.noop,data:e}))?d:"")+"\n\x3c/div\x3e\n"},useData:!0});g.templates=g.templates||{};g.templates["content-base"]=h;g.partials=g.partials||{};g.partials["content-base"]=h});require(["handlebars"],function(g){var h=g.template({1:function(c,a,f,g,e){var d;return null!=(d=c.invokePartial(g["flight-leg"],a,{name:"flight-leg",data:e,indent:"  ",helpers:f,partials:g,decorators:c.decorators}))?d:""},compiler:[7,"\x3e\x3d 4.0.0"],main:function(c,a,f,g,e){var d;return null!=(d=f.each.call(null!=a?a:{},null!=a?a.flight_legs:a,{name:"each",hash:{},fn:c.program(1,e,0),inverse:c.noop,data:e}))?d:""},usePartial:!0,useData:!0});g.templates=g.templates||{};g.templates["content-flight"]=h;g.partials=g.partials||{};g.partials["content-flight"]=h});require(["handlebars"],function(g){var h=g.template({1:function(c,a,f,g,e){return'\x3cspan class\x3d"next-trip-flight-arrive-next-day"\x3e+1\x3c/span\x3e'},compiler:[7,"\x3e\x3d 4.0.0"],main:function(c,a,f,g,e){var d,b;return'\x3cdiv class\x3d"next-trip-flight-leg"\x3e\n    \x3cspan class\x3d"next-trip-flight-date"\x3e'+c.escapeExpression((b=null!=(b=f.date||(null!=a?a.date:a))?b:f.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"date",hash:{},data:e}):b))+'\x3c/span\x3e\n    \x3cdiv class\x3d"next-trip-flight-logo"\x3e\n      \x3cfigure class\x3d"image aspect-ratio1-1 flex-image" data-media-type\x3d"image" data-aspect-ratio\x3d"1-1" data-class\x3d"tile-media"\n            data-src\x3d"'+c.escapeExpression((b=null!=(b=f.logo_img||(null!=a?a.logo_img:a))?b:f.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"logo_img",hash:{},data:e}):b))+'"\n            data-alt\x3d"'+c.escapeExpression((b=null!=(b=f.carrier_name||(null!=a?a.carrier_name:a))?b:f.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"carrier_name",hash:{},data:e}):b))+' logo"\x3e\n        \x3cimg class\x3d"tile-media"\n            src\x3d"'+c.escapeExpression((b=null!=(b=f.logo_img||(null!=a?a.logo_img:a))?b:f.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"logo_img",hash:{},data:e}):b))+'"\n            alt\x3d"'+c.escapeExpression((b=null!=(b=f.carrier_name||(null!=a?a.carrier_name:a))?b:f.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"carrier_name",hash:{},data:e}):b))+' logo"\x3e\n      \x3c/figure\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"next-trip-flight-tlas-time"\x3e\n      \x3cspan class\x3d"next-trip-flight-tlas"\x3e'+c.escapeExpression((b=null!=(b=f.trip_TLAs||(null!=a?a.trip_TLAs:a))?b:f.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"trip_TLAs",hash:{},data:e}):b))+'\x3c/span\x3e\n      \x3cspan class\x3d"next-trip-flight-time"\x3e'+c.escapeExpression((b=null!=(b=f.time||(null!=a?a.time:a))?b:f.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"time",hash:{},data:e}):b))+(null!=(d=f["if"].call(null!=a?a:{},null!=a?a.arrive_next_day:a,{name:"if",hash:{},fn:c.program(1,e,0),inverse:c.noop,data:e}))?d:"")+"\x3c/span\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n"},useData:!0});g.templates=g.templates||{};g.templates["flight-leg"]=h;g.partials=g.partials||{};g.partials["flight-leg"]=h});define("nextTrip-loc",function(){return{yourUpcomingFlight:"Your upcoming flight",yourUpcomingHotel:"Your upcoming hotel stay",yourUpcomingCar:"Your upcoming car rental",yourUpcomingCruise:"Your upcoming cruise",yourUpcomingActivity:"Your upcoming activity",yourUpcomingTrip:"Your upcoming trip",departureTextForUpcomingTrip:"Depart {{nextTrip.date}}",checkInTextOnUpcomingTrip:"Check in {{nextTrip.date}}",pickUpTextOnUpcomingTrip:"Pick up {{nextTrip.date}}",activityStartsTextOnUpcomingTrip:"On {{nextTrip.date}}",seeMyTripLinkText:"See my trip",viewItinerary:"View itinerary",dateToDate:"{{date1}} to {{date2}}",tlaToTla:"{{tla1}} to {{tla2}}",pickUpAtLocation:"Pick up at {{location}}",departing:"Departing {{date}}",cityVacationTitle:"{{city}} Vacation",roundTripFlightTo:"Roundtrip flight to {{tla}}",ariaLabelFlight:"View itinerary details for your flight from {{city1}} to {{city2}}",ariaLabelHotel:"View itinerary details for your hotel in {{city}}",ariaLabelActivity:"View itinerary details for your activity, {{activityTitle}}",ariaLabelCar:"View itinerary details for your car rental, {{carTitle}}",ariaLabelCruise:"View itinerary details for your cruise, {{cruiseTitle}}",ariaLabelPackage:"View itinerary details for your package to {{city}}"}});require(["nextTrip"],function(g){g.init()});
define("nextTrip","nextTrip-loc uitk handlebars nextTrip-util nextTrip-getModelv1 nextTrip-getModelv2 sfAbTest".split(" "),function(g,h,c,a,f,k,e){return{init:function(){if(-1<window.location.host.indexOf("localhost")){if("undefined"!==typeof nextTripMockData&&a.isDataValid(nextTripMockData))try{f.renderTrip(f.parseTrip(nextTripMockData)),k.renderTrip(k.parseTrip(nextTripMockData))}catch(d){console.log("nextTripErr: "+d)}}else $("#all-in-home-header-link").hasClass("selected-tab")&&this.getUpcomingTrip(window.isMobile)},getUpcomingTrip:function(d){function b(b){if(a.isDataValid(b))try{c().then(function(a){"4"===siteid&&a||d?k.renderTrip(k.parseTrip(b)):f.renderTrip(f.parseTrip(b))})}catch(q){console.log("nextTripErr: "+q)}}var c=this.getAbtestStatus;window.nextTripMockData?b(nextTripMockData):$.ajax({url:"//"+window.location.host+"/api/trips/upcoming",dataType:"json",timeout:3E4}).done(b).fail(function(a,b,d){console.log(a);console.log(b);console.log(d);console.error("Failed to load /api/trips/upcoming: "+d)})},getAbtestStatus:function(){return e.get(24905,!0).then(function(a){return 1===parseInt(a.value,10)})}}});define("nextTrip-util",["underscore"],function(g){var h="flights hotels cars cruises activities packages".split(" ");return{getLineOfBusiness:function(c){if(!(c&&c.responseData&&g.isObject(c.responseData)))return null;c=g.intersection(h,g.keys(c.responseData));return 0<c.length?c[0]:null},isDataValid:function(c){return c&&c.responseData&&c.responseData.title&&c.responseData.startTime&&c.responseData.startTime.localizedFullDate&&c.responseData.webDetailsURL}}});define("nextTrip-getModelv1",["nextTrip-loc","jquery","handlebars","nextTrip-util"],function(g,h,c,a){function f(a){g.departureTextForUpcomingTrip=g.departureTextForUpcomingTrip.replace("{{nextTrip.date}}",a);g.checkInTextOnUpcomingTrip=g.checkInTextOnUpcomingTrip.replace("{{nextTrip.date}}",a);g.pickUpTextOnUpcomingTrip=g.pickUpTextOnUpcomingTrip.replace("{{nextTrip.date}}",a);g.activityStartsTextOnUpcomingTrip=g.activityStartsTextOnUpcomingTrip.replace("{{nextTrip.date}}",a);return!0}var k=h("#next-trip-container");return{parseTrip:function(c){var d=a.getLineOfBusiness(c),b=!1;if(!d)return console.error&&console.error("Next trip: Failed to get lob"),b;try{b={name:c.responseData.title,date:c.responseData.startTime.localizedFullDate.replace(",",""),viewLink:c.responseData.webDetailsURL,lob:d}}catch(p){console.error&&console.error(p)}return b},renderTrip:function(a){if(!a)return console.error&&console.error("Next trip: setCoreWizardData function received null data"),!1;try{f(a.date);var d={name:a.name,date:a.date,link:a.viewLink.split("?")[0]+"?rfrr\x3dsf.nextTrip",lob:a.lob,isFlight:"flights"===a.lob,isHotel:"hotels"===a.lob,isCar:"cars"===a.lob,isCruise:"cruises"===a.lob,isActivity:"activities"===a.lob,loc:g,displayNextTrip:!0},b=(0,c.partials["next-trip-hbs"])(d);k.css("height",0).html(b).animate({height:100,opacity:1},1500,function(){h(this).css("height","auto")})}catch(p){return console.error&&console.error(p),!1}return!0}}});define("nextTrip-getModelv2",["nextTrip-loc","jquery","handlebars","nextTrip-util"],function(g,h,c,a){function f(a){if(!a)return console.error&&console.error("Next trip: getFlightLeg function received null data"),!1;try{var b=["//images.trvl-media.com/media/content/expus/graphics/static_content/fusion/v0.1b/images/airlines/vector/s/",a.segments[0].airlineCode,"_sq.svg"].join(""),d=g.departing.replace("{{date}}",a.legDepartureTime.localizedFullDate),c=a.segments[0].airlineName,f=a.arrivalAirport.code;var e=g.tlaToTla.replace("{{tla1}}",a.departingAirport.code).replace("{{tla2}}",f);return{date:d,logo_img:b,carrier_name:c,trip_TLAs:e,time:[a.legDepartureTime.localizedShortTime,a.legArrivaltime.localizedShortTime].join(" - ").toLowerCase(),arrive_next_day:a.legDepartureTime.localizedShortDate!==a.legArrivaltime.localizedShortDate}}catch(m){return console.error&&console.error(m),!1}}function k(a,d){return g.dateToDate.replace("{{date1}}",a).replace("{{date2}}",d)}var e=h("#next-trip-container-v2"),d={flights:"hp.nextrip.air",hotels:"hp.nextrip.hotel",packages:"hp.nextrip.pkgs",activities:"hp.nextrip.lx",cars:"hp.nextrip.cars",cruises:"hp.nextrip.cruise"};return{parseTrip:function(b){var c=a.getLineOfBusiness(b),e={};if(!c)return console.error&&console.error("Next trip: Failed to get lob"),e;try{if("flights"===c){var h=b.responseData.flights[0],l=[],r=f(h.legs[0]);l.push(r);"ROUND_TRIP"===h.flightType&&(r=f(h.legs[1]),l.push(r));e={lob:c,flight_type:h.flightType,flight_legs:l,aria_label:g.ariaLabelFlight.replace("{{city1}}",h.legs[0].departingAirport.city).replace("{{city2}}",h.legs[0].arrivalAirport.city)}}else if("hotels"===c){var m=b.responseData.hotels[0].hotelPropertyInfo;e={lob:c,date:k(b.responseData.startTime.localizedFullDate,b.responseData.endTime.localizedFullDate),thumbnail:"//images.trvl-media.com/"+m.photoThumbnailURL.replace("_l","_d"),title:m.name,line_1:m.address.addressLine1,line_1_sub:", "+m.address.city,line_2:m.address.city+" "+m.address.countrySubdivisionCode,aria_label:g.ariaLabelHotel.replace("{{city}}",m.address.city)}}else if("activities"===c){var t=b.responseData.activities[0];e={lob:c,date:b.responseData.startTime.localizedFullDate,thumbnail:t.highResImage.url,title:b.responseData.title,line_1:t.activityTitle,aria_label:g.ariaLabelActivity.replace("{{activityTitle}}",b.responseData.title)}}else if("cars"===c){var n=b.responseData.cars[0],u=[n.carVendor.shortName,n.carCategoryLocalized].join(" ");e={lob:c,date:k(b.responseData.startTime.localizedFullDate,b.responseData.endTime.localizedFullDate),thumbnail:n.carCategoryImageURL,title:u,line_1:g.pickUpAtLocation.replace("{{location}}",n.pickupLocation.addressLine1),aria_label:g.ariaLabelCar.replace("{{carTitle}}",u)}}else if("cruises"===c){var v=b.responseData.cruises[0];e={lob:c,date:k(b.responseData.startTime.localizedFullDate,b.responseData.endTime.localizedFullDate),thumbnail:v.shipImageUrl,title:b.responseData.title,line_1:v.cruiseLineName,aria_label:g.ariaLabelCruise.replace("{{cruiseTitle}}",b.responseData.title)}}else"packages"===c&&(l=b.responseData.packages[0],h=[],l.hotels&&h.push(l.hotels[0].hotelPropertyInfo.name),l.flights&&h.push(g.roundTripFlightTo.replace("{{tla}}",l.flights[0].legs[0].arrivalAirport.code)),e={lob:c,date:k(b.responseData.startTime.localizedFullDate,b.responseData.endTime.localizedFullDate),thumbnail:"//images.trvl-media.com/"+l.hotels[0].hotelPropertyInfo.photoThumbnailURL,title:g.cityVacationTitle.replace("{{city}}",b.responseData.title),line_1:h.join(" | "),aria_label:g.ariaLabelPackage.replace("{{city}}",b.responseData.title)});e.viewLink=b.responseData.webDetailsURL.split("?")[0]+"?rfrr\x3d"+d[c]}catch(w){console.error&&console.error(w)}return e},renderTrip:function(a){if(!a)return console.error&&console.error("Next trip: renderTrip function received null data"),!1;try{var b=c.partials["next-trip-v2"];a.loc=g;var d=b(a);e.html(d)}catch(q){return console.error&&console.error(q),!1}return!0}}});
//# sourceMappingURL=nextTripMercury-1-en_US.js.map