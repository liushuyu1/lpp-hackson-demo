/**
 * Universal Typeahead (uTA)
 * Version: 1.241
 * Commit: 59cffd0744b535b0145240c59b91eaabe8f5e27e
 * @preserve
 */
define("typeahead/buildInfo",[],function(){return{commit:"59cffd0744b535b0145240c59b91eaabe8f5e27e",version:"1.241"}}),define("typeahead/core/ABTest",["require","exports","jquery","uitk","typeahead/core/context","typeahead/core/Experiment","typeahead/core/logging/ProblemOrigin","typeahead/core/logging/Severity","typeahead/core/logging/TypeaheadErrorLogger","typeahead/core/plugins/DefaultPluginAssembly","typeahead/core/TypeaheadUtils"],function(n,e,o,t,i,a,r,s,l,c,d){"use strict";e.__esModule=!0;var p=(u.prototype.getAndLog=function(e){return e&&(e.id||e.name)?e.id&&this.hasAbovExp(e.id)?new a.Experiment(e.name,e.id,this.getAbovValue(e.id)):(e.id&&this.hasEvaluatedExp(e.id)?this.logExperimentAsynchronously(e.id):this.lockExperimentToControl(e),this.abTestMap[e.id]):(l.default.log(new Error("Experiment info was unavailable when calling 'getAndLog'"),s.Severity.MustFix,r.ProblemOrigin.UniversalTypeahead),new a.Experiment("",0,0))},u.prototype.override=function(e,t){this.abTestMap[e]?this.abTestMap[e].value=t:this.abTestMap[e]=new a.Experiment("",e,t)},u.prototype.getActiveClientTests=function(){for(var e="",t=0;t<this.loggedTests.length;t++)this.abTestMap[this.loggedTests[t]]&&this.abTestMap[this.loggedTests[t]].id&&(e+=this.abTestMap[this.loggedTests[t]].id+"."+this.abTestMap[this.loggedTests[t]].value+"|");return e?e.slice(0,-1):e},u.prototype.evaluateAllExperiments=function(e,t){0!==Object.keys(t).length?this.setExperimentBuckets(t):this.evaluateExperiments(this.getAllExperimentsAttribute(e.get(c.DefaultPluginAssembly.experimentIdentifier),"name")),this.bucketingDeferred.resolve()},u.prototype.getAllExperimentsAttribute=function(e,t){function o(e){i.indexOf(e[t])<0&&(i.push(e[t]),n.populateIDNameMap(e))}var n=this,i=[];return e&&e.length&&e.forEach(function(e){var t=e.getExperiments();t&&t.length&&t.forEach(o)}),i},u.prototype.getBucketingPromise=function(){return this.bucketingDeferred.promise()},u.prototype.populateIDNameMap=function(e){this.abTestIdNameMap[e.id]||(this.abTestIdNameMap[e.id]=e.name)},u.prototype.getCookieValue=function(){return this.abovCookieValue?this.abovCookieValue:void 0},u.prototype.setExperimentBuckets=function(e){var o=this,n=e||{};n&&Object.keys(n).length&&Object.keys(n).forEach(function(e){var t=Number(e);o.abTestMap[e]=new a.Experiment(o.abTestIdNameMap[e],t,n[e])})},u.prototype.lockExperimentToControl=function(e){var t=new a.Experiment(e.name,e.id,0);this.abTestMap[e.id]=t,this.controlLockedExpMap[e.id]=t,l.default.log(new Error("Locked experiment to control: "+e.id+" "+e.name),s.Severity.Negligible,r.ProblemOrigin.UniversalTypeahead)},u.prototype.hasEvaluatedExp=function(e){var t=String(e);return this.abTestMap.hasOwnProperty(t)&&"number"==typeof this.abTestMap[e].value},u.prototype.hasAbovExp=function(e){return void 0!==this.abovMap[e]},u.prototype.getAbovValue=function(e){if(this.hasAbovExp(e)){if(this.hasEvaluatedExp(e))return this.abovMap[e];l.default.log(new Error("Experiment "+e+"is not being bucketed. Override would be ignored."),s.Severity.MustFix,r.ProblemOrigin.UniversalTypeahead)}return 0},u.prototype.hasControlLockedExp=function(e){var t=String(e);return this.controlLockedExpMap.hasOwnProperty(t)},u.prototype.logExperimentAsynchronously=function(e){var t=this;setTimeout(function(){t.logExperiment(e)})},u.prototype.logExperiment=function(t){var o=this,e=String(t);!this.hasControlLockedExp(t)&&this.loggedTests.indexOf(e)<0&&(this.loggedTests.push(e),n(["dctk/dctk"],function(e){e.evaluateExperimentAndLog(o.getDctkParams(t,!0,void 0))}))},u.prototype.evaluateExperiments=function(e){var t=this;e&&e.length&&o.ajax({contentType:"application/json; charset=UTF-8",data:JSON.stringify(this.getAbacusParams(e)),dataType:"json",type:"POST",url:"/api/bucketing/v1/evaluateExperiments"}).done(function(e){e&&e.evaluatedExperiments&&e.evaluatedExperiments.length&&e.evaluatedExperiments.forEach(function(e){t.abTestMap[e.name]=new a.Experiment(e.name,e.id,e.message?void 0:e.value)})}).fail(function(){l.default.log(new Error("Unable to call abacus api to evaluate experiments at page load"),s.Severity.Excusable,r.ProblemOrigin.UniversalTypeahead)})},u.prototype.getDctkParams=function(e,t,o){return{callback:o,eapid:d.TypeaheadUtils.getSiteParamValue(d.SiteParam.eapid),guid:d.TypeaheadUtils.getGuid(),id:e,logToOmniture:t,overrides:this.getCookieValue(),tpid:d.TypeaheadUtils.getSiteParamValue(d.SiteParam.tpid)}},u.prototype.getAbacusParams=function(e){return{eapid:d.TypeaheadUtils.getSiteParamValue(d.SiteParam.eapid),guid:d.TypeaheadUtils.getGuid(),name:e,overrides:this.getCookieValue(),tpid:d.TypeaheadUtils.getSiteParamValue(d.SiteParam.tpid),verbose:!0}},u);function u(e){void 0===e&&(e=null),this.bucketingDeferred=o.Deferred(),this.persistentCookie=t.createBrowserStorage?t.createBrowserStorage("persistentCookies"):void 0,this.abovCookieValue=d.TypeaheadUtils.getCookie("abov"),this.abovMap=null!=e?e:d.TypeaheadUtils.getAbovMapFromCookie(this.abovCookieValue),this.abTestMap={},this.abTestIdNameMap={},this.loggedTests=[],this.controlLockedExpMap={}}e.ABTest=p}),define("typeahead/core/ConfigurableFeature",["require","exports","typeahead/core/plugins/ExecutionHelper"],function(e,t,o){"use strict";t.__esModule=!0;var n=(i.getFeatureOverrides=function(e){var t={},o=e.data("feature-overrides");if(o){var n=o.split("|");if(n)for(var i=0,a=n;i<a.length;i++){var r=a[i],s=r.indexOf(":");if(-1!==s){var l=r.substring(0,s),c=r.substring(s+1,r.length);t[l]=c}}}return t},i.prototype.shouldOverride=function(e){var t=this.getOverrideValue(e);if(!t)return!1;if(this.isOverrideToOn(t))return!0;if(this.isOverrideToOff(t))return!1;if(-1!==t.indexOf("=")){var o=t.split("=");if(2===o.length){var n=o[0],i=o[1];switch(n){case"@experiment":return this.checkExperiment(i)}}}return!1},i.prototype.isOverrideToOn=function(e){return"on"===e},i.prototype.isOverrideToOff=function(e){return"off"===e},i.prototype.checkExperiment=function(e){var t={id:0,name:e};return o.evaluateExperiment(t)},i.prototype.getOverrideValue=function(e){return e&&e.featureOverrides&&this.featureName&&e.featureOverrides[this.featureName]},i);function i(){}t.ConfigurableFeature=n});var __extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();define("typeahead/core/DynamicDropdownSuggestion",["require","exports","typeahead/core/IListItem","typeahead/core/Suggestion"],function(e,t,o,n){"use strict";t.__esModule=!0;var i,a=(i=n.Suggestion,__extends(r,i),r.prototype.getDisplayText=function(){return this.displayText},r.prototype.shouldTriggerDomElementChangeOnSelection=function(){return!0},r);function r(e){var t=i.call(this,{category:"DynamicDropdownSuggestion",coordinates:void 0,index:"0",listItemType:o.ListItemType.Suggestion,regionNames:void 0,type:"DynamicDropdownSuggestion"})||this;return t.displayText=e,t}t.DynamicDropdownSuggestion=a}),define("typeahead/core/EssDataProvider",["require","exports","jquery"],function(e,t,i){"use strict";var o,n;t.__esModule=!0,(n=o=t.GoogleRequestType||(t.GoogleRequestType={}))[n.GOOGLE_AUTOCOMPLETE=0]="GOOGLE_AUTOCOMPLETE",n[n.ADDRESS_AUTOCOMPLETE=1]="ADDRESS_AUTOCOMPLETE";var a=(r.isReferralToGoogleMaps=function(e){return-1<[o[o.ADDRESS_AUTOCOMPLETE],o[o.GOOGLE_AUTOCOMPLETE]].indexOf(e)},r.prototype.fetchData=function(e){var t=e.requestGenerator,o=e.context,n=t.makeRequest(e.srchText,e,o);return e.overrideDataRequest&&"function"==typeof e.overrideDataRequest?e.overrideDataRequest(e.srchText).then(this.singleSourceResponseHandler):e.ignoreResults?n.then(i.noop):n.then(this.singleSourceResponseHandler)},r.prototype.singleSourceResponseHandler=function(e){var t=e.sr||e.r||[],o=e.q;return e&&e.homeAirport&&(e.homeAirport.category="HOMEAIRPORT",t=t.concat(e.homeAirport)),{activeABTests:e.activeABTests,isReferralToGoogleMaps:r.isReferralToGoogleMaps(e.rc),overriddenABTests:e.overriddenABTests,query:o,requestId:e.rid,responseCode:e.rc,results:t||[]}},r);function r(){}t.EssDataProvider=a,t.overrideJQuery=function(e){i=e}}),define("typeahead/core/plugins/EssEndpointProvider",["require","exports","typeahead/core/plugins/DefaultPluginAssembly"],function(e,t,o){"use strict";t.__esModule=!0;var n=(i.prototype.getEssEndpoint=function(e){return this.essEndPointProvider&&0<this.essEndPointProvider.length?this.essEndPointProvider[0].getEssEndpoint(e):e.serviceUrl},i);function i(e){this.essEndPointProvider=e.get(o.DefaultPluginAssembly.essEndpointProviderIdentifier)}t.EssEndpointProvider=n});__extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();define("typeahead/core/EssSuggestion",["require","exports","typeahead/core/Suggestion","typeahead/core/util/Optional"],function(e,t,o,n){"use strict";t.__esModule=!0;var i,a=(i=o.Suggestion,__extends(r,i),r.prototype.getSourceName=function(){return n.Optional.ofNullable(this.getEssId().isPresent()?this.getEssId().get().sourceName:void 0)},r.prototype.getSourceId=function(){return n.Optional.ofNullable(this.getEssId().isPresent()?this.getEssId().get().sourceId:void 0)},r.prototype.getCityId=function(){return n.Optional.ofNullable(this.data.cityId)},r.prototype.getRegionId=function(){return this.data.gaiaId?n.Optional.ofNullable(this.data.gaiaId):this.getCityId()},r.prototype.getTla=function(){return n.Optional.ofNullable(this.data.hierarchyInfo&&this.data.hierarchyInfo.airport?this.data.hierarchyInfo.airport.airportCode:void 0)},r.prototype.getAirportId=function(){return n.Optional.ofNullable(this.data.hierarchyInfo&&this.data.hierarchyInfo.airport?this.data.hierarchyInfo.airport.airportId:void 0)},r.prototype.getRelateTo=function(){return n.Optional.ofNullable(this.data.hierarchyInfo?this.data.hierarchyInfo.relateTo:void 0)},r.prototype.getSuggestionHierarchyType=function(){return n.Optional.of(this.data.hierarchyInfo&&"true"===this.data.hierarchyInfo.isChild?"child":"parent")},r.prototype.getRelationInfo=function(){return n.Optional.of(this.data.hierarchyInfo&&this.data.hierarchyInfo.relation&&0<this.data.hierarchyInfo.relation.length?this.data.hierarchyInfo.relation[0]:"-")},r.prototype.getHotelId=function(){return n.Optional.ofNullable(this.getEssId().isPresent()&&"LCM"===this.getEssId().get().sourceName?this.getEssId().get().sourceId:void 0)},r.prototype.getTypeId=function(){return n.Optional.of(this.data.essId&&this.data.essId.sourceId?this.data.essId.sourceId:"-")},r.prototype.getCity=function(){return n.Optional.ofNullable(this.data.hotelAddress?this.data.hotelAddress.city:void 0)},r.prototype.getMultiCity=function(){return n.Optional.of(this.data.hierarchyInfo.airport?this.data.hierarchyInfo.airport.multicity:this.data.hierarchyInfo.multicity)},r.prototype.getSubType=function(){return n.Optional.ofNullable(this.data.subtype)},r.prototype.getStationCode=function(){return n.Optional.ofNullable(this.data.hierarchyInfo&&this.data.hierarchyInfo.rails?this.data.hierarchyInfo.rails.stationCode:void 0)},r.prototype.getPointOfSupply=function(){return n.Optional.ofNullable(this.data.hierarchyInfo&&this.data.hierarchyInfo.rails?this.data.hierarchyInfo.rails.pointOfSupply:void 0)},r.prototype.getCountryName=function(){return n.Optional.ofNullable(this.data.hierarchyInfo&&this.data.hierarchyInfo.country?this.data.hierarchyInfo.country.name:void 0)},r.prototype.getCountryIsoCode2=function(){return n.Optional.ofNullable(this.data.hierarchyInfo&&this.data.hierarchyInfo.country?this.data.hierarchyInfo.country.isoCode2:void 0)},r.prototype.getCountryIsoCode3=function(){return n.Optional.ofNullable(this.data.hierarchyInfo&&this.data.hierarchyInfo.country?this.data.hierarchyInfo.country.isoCode3:void 0)},r.prototype.getIsHeds=function(){return this.getEssId().isPresent()&&"TREX"===this.getEssId().get().sourceName?n.Optional.ofNullable("true"):n.Optional.empty()},r.prototype.shouldTriggerDomElementChangeOnSelection=function(){return!0},r.prototype.getExtraSearchParams=function(){var e=[];return[].push.apply(e,this.data.extraSearchParams),this.getHotelFilterParams()&&e.push(this.getHotelFilterParams()),this.getHotelId().isPresent()&&e.push({field:"searchPriorityOverride",value:"213"}),n.Optional.ofNullable(e.length?e:void 0)},r.prototype.getRedirectPath=function(){return n.Optional.ofNullable(this.data.regionMetadata?this.data.regionMetadata.redirect:void 0)},r.prototype.getConcepts=function(){return n.Optional.ofNullable(this.data.concepts?this.data.concepts:void 0)},r.prototype.getNext=function(){return n.Optional.ofNullable(this.data.next)},r.prototype.getHotelFilterParams=function(){var e=this.data.hierarchyInfo&&this.data.hierarchyInfo.hotels?this.data.hierarchyInfo.hotels.hotelFilterId:void 0;if(e){var t=e.replace("AM","");if(t)return{field:"amenities",value:t}}},r.prototype.getEssId=function(){return n.Optional.ofNullable(this.data.essId)},r);function r(){return null!==i&&i.apply(this,arguments)||this}t.EssSuggestion=a});__extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();define("typeahead/core/ExpediaSuggestServiceRequestGenerator",["require","exports","jquery","typeahead/core/RequestGenerator","typeahead/core/TypeaheadUtils"],function(e,t,r,o,s){"use strict";var a={canTrack:!(t.__esModule=!0),no:!1,set:!1,source:"meta",yes:!1};function l(e){return{CARS:["postal_code"],HOTELS:["contextual_ta","postal_code"],NONE:["unspecified_area"]}[e]}function i(e,t,o){var n=[];if(t.features=t.features&&t.features.length&&t.features||[],"hotel"!==e.tab&&"flight"!==e.tab||(t.personalize=!0),"HOTELS"===e.lob){n=l("HOTELS");t.mask|=32}else"CARS"===e.lob?n=l("CARS"):"NONE"===e.lob&&(n=l("NONE"));!function(e){s.TypeaheadUtils.isWithinMobileBreakpoint()&&e.push("mobile_breakpoint")}(n),n.push("uta_client"),"Hotels.Search"===e.clientId&&(t.rid=o.searchRegionId);for(var i=0,a=n;i<a.length;i++){var r=a[i];t.features.indexOf(r)<0&&t.features.push(r)}return t}function c(e,t,o,n){return o=function(e,t){if(t.pairedinputid){var o=r("#"+t.pairedinputid);if(0<o.length){var n=o.attr("data-ta_element"),i=r("#"+n);if(0<i.length)try{var a=JSON.parse(i.val());e.originRegionId=a.regionId}catch(e){}else o.attr("data-id")&&(e.originRegionId=o.attr("data-id"));e.originSearchString=o.val()}}return e}(o=i(t,o,n),n),0<e.length&&e.map(function(e){return e.modifyParameters(o,t,n)}),o}function d(e){var t=0;if(e&&0!==e.length){for(var o=0;o<e.length;o++)t=(t<<5)-t+e.charCodeAt(o),t|=0;if(t<0)return-1*(t+1)}return t}e(["oip"],function(e){a=e}),t.hash=d;var p,n=(p=o.RequestGenerator,__extends(u,p),u.prototype.buildQueryStringParams=function(e,t,o){var n=function(e){var t={};return t.mask=e.mask,t.ab=e.abtest,t.format=e.format,t.dest=e.dest,t.maxresults=e.maxresults,t.features=e.features||[],t.device=window.utag_data?window.utag_data.device_type:"Unavailable",t.browser=e.browser,t.rid=e.filter_region_id,t.personalize=e.personalize,t.packageType=e.packageType,t}(t),i=r.extend({},t);return function(e,t){var o={};return o.client=t.clientId,o.siteid=t.siteid,o.guid=t.guid,o.lob=t.lob,o.locale=t.locale,o.expuserid=t.expuserid,o.regiontype=e.mask,o.ab=e.ab,o.dest=e.dest,o.maxresults=e.maxresults,o.features=e.features.join("|"),o.rid=e.rid,o.sortcriteria=e.sortcriteria,o.categories=e.categories,o.pt=e.packageType,o.originRegionId=e.originRegionId,o.originSearchString=e.originSearchString,o.next=e.next,o.format="jsonp",o.device=e.device,o.browser=e.browser,o.personalize=!(!a.canTrack||!e.personalize),o}(c(this.requestParamModifiers,o,n,i),o)},u.prototype.makeRequest=function(e,t,o){var n;return n=t.isSecondary?function(e,t){return[e.additionalDataSourceUrl,encodeURIComponent(t)].join("")}(t,e):this.constructEssUrl(e),r.ajax({beforeSend:function(e,t){window.utaTestHooks.latestEssRequest=t.url},cache:!0,data:this.buildQueryStringParams(e,t,o),dataType:"jsonp",jsonpCallback:"cb_"+u.sessionId+"_"+d(e),type:"GET",url:n})},u.sessionId=Date.now(),u);function u(e,t,o,n,i){return p.call(this,e,t,o,n,i)||this}t.ExpediaSuggestServiceRequestGenerator=n,t.overrideJQuery=function(e){r=e}}),define("typeahead/core/Experiment",["require","exports"],function(e,t){"use strict";t.__esModule=!0;function o(e,t,o){this.name=e,this.id=t,this.value=o}t.Experiment=o}),define("typeahead/core/IListItem",["require","exports"],function(e,t){"use strict";var o,n;t.__esModule=!0,(n=o=t.ListItemType||(t.ListItemType={}))[n.Label=0]="Label",n[n.Suggestion=1]="Suggestion";function i(e,t){this.html=e,this.category=t,this.listItemType=o.Label,this.category=t}t.LabelTypeListItem=i}),define("typeahead/core/IOverrideParams",["require","exports"],function(e,t){"use strict";t.__esModule=!0});__extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();define("typeahead/core/OnFocusSuggester",["require","exports","typeahead/core/SuggestionsAggregator"],function(e,t,o){"use strict";t.__esModule=!0;var n,i=(n=o.SuggestionsAggregator,__extends(a,n),a.prototype.getEssOnFocusPersonalizedSuggesterConfig=function(){return{isEnabled:!0,rank:2}},a.prototype.getCurrentLocationSuggesterConfig=function(){return{isEnabled:!0,rank:1}},a.prototype.getId=function(){return o.SuggesterId.OnFocusSuggester},a);function a(){return null!==n&&n.apply(this,arguments)||this}t.OnFocusSuggester=i}),define("typeahead/core/RequestGenerator",["require","exports","jquery","typeahead/core/plugins/DefaultPluginAssembly"],function(e,t,o,a){"use strict";t.__esModule=!0;var n=(i.defaultVariantAssigner=function(e){},i.prototype.getVariantAssignment=function(e){if("function"==typeof this.variantAssigner){var t=this.variantAssigner(e);return void 0===t?void 0:"".concat(e,".",t)}},i.prototype.generateAbacusParameter=function(){var n=this,i=[];return o(this.essAbacusIds).each(function(e,t){var o=function(e){return"function"==typeof n.getVariantAssignment?n.getVariantAssignment(e):void 0}(t);o&&i.push(o)}),0<i.length?i.join("|"):""},i.prototype.constructEssUrl=function(e){return this.suggestServiceUrlOptions.suggestServiceUrl,this.suggestServiceUrlOptions.overrideServiceUrl?[this.suggestServiceUrlOptions.overrideServiceUrl,encodeURIComponent(e)].join(""):[this.suggestServiceUrlOptions.serviceUrl,"/api/v4/typeahead/",encodeURIComponent(e),"?callback=?"].join("")},i.ESS_ABACUS_IDS=[],i);function i(e,t,o,n,i){this.requestParamModifiers=[],this.essAbacusIds=e,this.variantAssigner=t,this.suggestServiceUrlOptions=o,i&&(this.requestParamModifiers=i.get(a.DefaultPluginAssembly.requestParamModifierIdentifier))}t.RequestGenerator=n,t.overrideJQuery=function(e){o=e}}),define("typeahead/core/SearchParametersUpdater",["require","exports","typeahead/core/logging/ProblemOrigin","typeahead/core/logging/Severity","typeahead/core/logging/TypeaheadErrorLogger"],function(e,t,r,s,l){"use strict";t.__esModule=!0;var a={airport_code_element:"getTla",category_element:"getCategory",city_element:"getCity",country_code_element:"getCountryIsoCode2",heds_element:"getIsHeds",hotel_id_element:"getHotelId",lat_long_element:"getLatLong",point_of_supply_element:"getPointOfSupply",region_id_element:"getRegionId",region_type_element:"getType",station_code_element:"getStationCode",ta_element:"getSuggestionData"};function c(e,t,o){var n=$("#"+t),i="";if(0<n.length){if(e)if("function"==typeof e[o]){var a=e[o]();a.isPresent()&&(i=a.get())}else l.default.log(new Error(o+" is not a method of Suggestion"),s.Severity.MustFix,r.ProblemOrigin.UniversalTypeahead);i!==n.val()&&(n.val(i),p(e,n))}}function d(e,t,o,n){var i=$("#"+o);t&&t.getSearchName().isPresent()?(i.val(t.getSearchName().get()),g(i),u(n,o)):(u(o,n),i.val("")),p(t,i)}function p(e,t){e&&!e.shouldTriggerDomElementChangeOnSelection()||t.trigger("change")}function u(e,t){var o=$("#"+e),n=$("#"+t);o.length&&n.length&&!n.attr("data-gcw-storeable-name")&&(n.attr("name",o.attr("name")),n.attr("data-gcw-storeable-name",o.attr("data-gcw-storeable-name")),n.data("gcw-storeable-name",o.data("gcw-storeable-name")),n.addClass("gcw-storeable"),g(o))}function g(e){e.removeAttr("name"),e.removeAttr("data-gcw-storeable-name"),e.removeData("gcw-storeable-name"),e.removeClass("gcw-storeable")}function h(e,t){e&&e.getExtraSearchParams().isPresent()?function(e,i){e.forEach(function(e){var t=$("<input>",{type:"hidden",class:"uta-extra-search-param"}),o=e.field;t.attr("name",e.field),t.attr("value",e.value);var n=$("input[name*="+o+"]");0!==n.length?($(n).attr("value",e.value),$(n).addClass("uta-extra-search-param")):t.appendTo($("#"+i).parents("form:visible"))})}(e.getExtraSearchParams().get(),t):function(e){var t=$(".uta-extra-search-param");0<t.length&&$(t).each(function(e,t){var o=!!$(t).attr("id");o?($(t).attr("value",""),$(t).removeClass("uta-extra-search-param")):$(t).remove()})}()}t.updateForSuggestion=function(e,t,o,n){for(var i in a)a.hasOwnProperty(i)&&c(t,o[i],a[i]);d(0,t,o.search_name_element,n),function(e){var t=$("input[id$=search_name][data-gcw-storeable-name=gcw-destination]");if(1===t.length&&e!==t.attr("id")){var o=t.parent().find("input[data-provide=utypeahead]");d(0,void 0,t.attr("id"),o.attr("id"))}}(o.search_name_element),h(t,n)}}),define("typeahead/core/StaticDataProvider",["require","exports","jquery","typeahead/core/loc","typeahead/core/IListItem","typeahead/core/TypeaheadUtils"],function(e,t,a,o,n,i){"use strict";t.__esModule=!0;var r=(s.getHotelNotFoundStaticSuggestion=function(){var e=o.typeaheadTextHotelNotPresent?o.typeaheadTextHotelNotPresent:"My hotel/stay is not in this list";return{category:"DEFAULT",icon:"info",index:"0",listItemType:n.ListItemType.Suggestion,regionNames:{displayName:e,fullName:e,lastSearchName:e},type:"HOTELNOTPRESENT"}},s.getStaticSuggestions=function(e){var t=[];return"LX.Checkout"===i.TypeaheadUtils.getClientId()&&"lx-pickup-uta"===e.inputElem.attr("id")&&t.push(s.getHotelNotFoundStaticSuggestion()),t},s.mergeESSStaticSuggestions=function(e,t){var o={activeABTests:e.activeABTests,isReferralToGoogleMaps:e.isReferralToGoogleMaps,overriddenABTests:e.overriddenABTests,query:e.query,requestId:e.requestId,responseCode:e.responseCode,results:e.results},n=e.results&&0<e.results.length?e.results.length:0;return o=s.updateCombinedResults(o,t,n)},s.updateCombinedResults=function(t,e,o){var n=o;return e.results.forEach(function(e){0<n&&(e.index=n+++""),t.results=t.results.concat(e)}),t},s.prototype.fetchData=function(e,t){var o=a.Deferred(),n={results:s.getStaticSuggestions(e)},i=s.mergeESSStaticSuggestions(t,n);return o.resolve(i),o.promise()},s);function s(){}t.StaticDataProvider=r}),define("typeahead/core/StripingConfiguration",["require","exports"],function(e,t){"use strict";t.__esModule=!0,t.getExperiments=function(e){return e&&e.length?e.map(function(e){return e.experiment}).filter(function(e){return!!e}):[]}});__extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();define("typeahead/core/SuggestServiceParamModifier",["require","exports","typeahead/core/ConfigurableFeature","typeahead/core/plugins/ExecutionHelper"],function(e,t,o,n){"use strict";t.__esModule=!0;var i,a=(i=o.ConfigurableFeature,__extends(r,i),r.prototype.modifyParameters=function(e,t,o){return this.precondition&&(this.shouldOverride(o)||n.shouldExecute(t,this.configuration))&&this.modify(e,t,o),e},r.prototype.addFeatureFlag=function(e,t){e.features=e.features&&e.features.length&&e.features.push&&e.features||[],e.features.indexOf(t)<0&&e.features.push(t)},r.prototype.addRegionType=function(e,t){e.mask|=t},r.prototype.precondition=function(e,t,o){return void 0!==e},r);function r(){return null!==i&&i.apply(this,arguments)||this}t.SuggestServiceParamModifier=a}),define("typeahead/core/Suggestion",["require","exports","typeahead/core/util/Optional"],function(e,t,o){"use strict";var n;t.__esModule=!0,(n=t.SuggestionCategory||(t.SuggestionCategory={}))[n.GEOLOCATION=0]="GEOLOCATION",n[n.USERHISTORY=1]="USERHISTORY",n[n.FLIGHTSBOOKING=2]="FLIGHTSBOOKING",n[n.GOOGLEMAPS=3]="GOOGLEMAPS",n[n.HOMEAIRPORT=4]="HOMEAIRPORT",n[n.NEARBY_LOCATION=5]="NEARBY_LOCATION";var i=(a.prototype.getSourceName=function(){return o.Optional.ofNullable(void 0)},a.prototype.getSourceId=function(){return o.Optional.ofNullable(void 0)},a.prototype.getRegionId=function(){return o.Optional.ofNullable(void 0)},a.prototype.getTla=function(){return o.Optional.ofNullable(void 0)},a.prototype.getAirportId=function(){return o.Optional.ofNullable(void 0)},a.prototype.getRelateTo=function(){return o.Optional.ofNullable(void 0)},a.prototype.getType=function(){return o.Optional.ofNullable(this.data.type)},a.prototype.getRegionNames=function(){return o.Optional.ofNullable(this.data.regionNames)},a.prototype.getFullName=function(){return o.Optional.ofNullable(this.getRegionNames().orElse({}).fullName)},a.prototype.getLastSearchName=function(){return o.Optional.ofNullable(this.getRegionNames().orElse({}).lastSearchName)},a.prototype.getDisplayName=function(){return o.Optional.ofNullable(this.getRegionNames().orElse({}).displayName)},a.prototype.getDisplayText=function(){return this.getLastSearchName().orElse(this.getDisplayName().orElse(""))},a.prototype.getIndex=function(){return parseInt(this.data.index,10)},a.prototype.getPosition=function(){return this.data.parentPosition?parseInt(this.data.parentPosition,10):this.data.positionInDropDown?parseInt(this.data.positionInDropDown,10)+1:this.getIndex()+1},a.prototype.getSuggestionHierarchyType=function(){return o.Optional.of("parent")},a.prototype.getHierarchyCode=function(){return("child"===this.getSuggestionHierarchyType().get()?"C":"parent"===this.getSuggestionHierarchyType().get()&&this.hasChild?"P":"D")+"L#"+(isNaN(this.getPosition())?"-":this.getPosition())},a.prototype.getRelationInfo=function(){return o.Optional.of("-")},a.prototype.getHotelId=function(){return o.Optional.ofNullable(void 0)},a.prototype.getLatLong=function(){return o.Optional.ofNullable(this.data.coordinates?this.data.coordinates.lat+","+this.data.coordinates.long:void 0)},a.prototype.getTypeId=function(){return o.Optional.of("-")},a.prototype.getCity=function(){return o.Optional.ofNullable(void 0)},a.prototype.getMultiCity=function(){return o.Optional.ofNullable(void 0)},a.prototype.getSubType=function(){return o.Optional.ofNullable(void 0)},a.prototype.getHasChild=function(){return o.Optional.of(this.hasChild)},a.prototype.getCategory=function(){return o.Optional.ofNullable(this.data.category)},a.prototype.getStationCode=function(){return o.Optional.ofNullable(void 0)},a.prototype.getPointOfSupply=function(){return o.Optional.ofNullable(void 0)},a.prototype.getCountryName=function(){return o.Optional.ofNullable(void 0)},a.prototype.getCountryIsoCode2=function(){return o.Optional.ofNullable(void 0)},a.prototype.getCountryIsoCode3=function(){return o.Optional.ofNullable(void 0)},a.prototype.getIsHeds=function(){return o.Optional.empty()},a.prototype.isAddrAutoComplete=function(){return!1},a.prototype.getExtraSearchParams=function(){return o.Optional.ofNullable(void 0)},a.prototype.getSearchName=function(){return"hotelfilter"===this.getRelationInfo().orElse("")?this.getFullName():o.Optional.ofNullable(void 0)},a.prototype.getRedirectPath=function(){return o.Optional.ofNullable(void 0)},a.prototype.getConcepts=function(){return o.Optional.ofNullable(void 0)},a.prototype.getNext=function(){return o.Optional.ofNullable(void 0)},a.prototype.getSuggestionData=function(){return o.Optional.of(JSON.stringify({airportCode:this.getTla().orElse(void 0),category:this.getCategory().orElse(void 0),city:this.getCity().orElse(void 0),concepts:this.getConcepts().orElse(void 0),coordinates:this.data.coordinates,countryCode:this.getCountryIsoCode2().orElse(void 0),extraSearchParams:this.getExtraSearchParams().orElse(void 0),fullName:this.getFullName().orElse(void 0),heds:this.getIsHeds().orElse(void 0),hotelId:this.getHotelId().orElse(void 0),pointOfSupply:this.getPointOfSupply().orElse(void 0),redirectPath:this.getRedirectPath().orElse(void 0),regionId:this.getRegionId().orElse(void 0),regionType:this.getType().orElse(void 0),stationCode:this.getStationCode().orElse(void 0)}))},a.prototype.getSearchedRegion=function(){return this.getRelateTo().orElse(this.getSourceId().orElse("-"))},a.prototype.getSelectedRegion=function(){return this.getRelateTo().orElse("")?this.getSourceId().orElse("-"):this.getAirportId().orElse("-")},a);function a(e,t){void 0===t&&(t=!1),this.data=e,this.hasChild=t}t.Suggestion=i}),define("typeahead/core/SuggestionFactory",["require","exports","typeahead/core/EssSuggestion","typeahead/core/geolocation/GeolocationSuggestion","typeahead/core/google/GoogleMapsSuggestion","typeahead/core/Suggestion"],function(e,t,o,n,i,a){"use strict";t.__esModule=!0,t.createSuggestion=function(e,t){return void 0===t&&(t=!1),a.SuggestionCategory[a.SuggestionCategory.GEOLOCATION]===e.category?new n.GeolocationSuggestion(e):a.SuggestionCategory[a.SuggestionCategory.GOOGLEMAPS]===e.category?new i.GoogleMapsSuggestion(e):new o.EssSuggestion(e,t)}});__extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();define("typeahead/core/SuggestionModifier",["require","exports","typeahead/core/ConfigurableFeature","typeahead/core/plugins/ExecutionHelper"],function(e,t,o,n){"use strict";t.__esModule=!0;var i,a=(i=o.ConfigurableFeature,__extends(r,i),r.prototype.modifySuggestions=function(e,t,o){return this.precondition(e,t)&&(this.shouldOverride(o)||n.shouldExecute(t,this.configuration))&&this.modify(e,t),e},r.prototype.precondition=function(e,t){return e&&0<e.length},r);function r(){return null!==i&&i.apply(this,arguments)||this}t.SuggestionModifier=a}),define("typeahead/core/SuggestionsAggregator",["require","exports"],function(e,t){"use strict";var o,n;t.__esModule=!0,(n=o=t.SuggesterId||(t.SuggesterId={}))[n.CurrentLocationSuggester=0]="CurrentLocationSuggester",n[n.EssOnFocusPersonalizedSuggester=1]="EssOnFocusPersonalizedSuggester",n[n.OnFocusSuggester=2]="OnFocusSuggester";var i=(a.prototype.suggest=function(t,o){var n=$.Deferred(),i=this;if(this.suggesters&&this.suggesters.length){var e=this.suggesters.map(function(e){return e.suggest(t,o)});$.when.apply($,e).done(function(){var e=Array.prototype.slice.call(arguments);n.resolve(i.aggregate(e))})}else n.resolve(this.emptySuggesterResponse);return n.promise()},a.prototype.getSuggesterConfig=function(e){return this.suggesterConfig[e.id]?this.suggesterConfig[e.id]:{rank:a.LOWEST_RANK,isEnabled:!1}},a.prototype.aggregate=function(e){return e&&(e=this.filter(e),this.sort(e)),{activeABTests:this.getAggregatedABTests(e,"activeABTests"),id:this.getId(),overriddenABTests:this.getAggregatedABTests(e,"overriddenABTests"),requestId:this.getAggregatedSuggestionsRequestId(e),results:this.getAggregatedSuggestionResults(e)}},a.prototype.filter=function(e){var t=this;return e?e.filter(function(e){return t.getSuggesterConfig(e).isEnabled}):e},a.prototype.sort=function(e){var o=this;e&&e.sort(function(e,t){return o.getSuggesterConfig(e).rank-o.getSuggesterConfig(t).rank})},a.prototype.getAggregatedABTests=function(e,t){var o="";return e&&e.forEach(function(e){e[t]&&0<e[t].length&&(0<o.length&&(o+="|"),o+=e[t])}),o},a.prototype.getAggregatedSuggestionResults=function(e){var t=[];if(e){e.forEach(function(e){Array.prototype.push.apply(t,e.results)});for(var o=0;o<t.length;o++)t[o].index=o+""}return t},a.prototype.getAggregatedSuggestionsRequestId=function(e){if(e)for(var t=0;t<e.length;t++)if(e[t].requestId)return e[t].requestId;return""},a.LOWEST_RANK=999,a);function a(e){var t;this.suggesters=e,this.suggesterConfig=((t={})[o.CurrentLocationSuggester]=this.getCurrentLocationSuggesterConfig(),t[o.EssOnFocusPersonalizedSuggester]=this.getEssOnFocusPersonalizedSuggesterConfig(),t),this.emptySuggesterResponse={id:this.getId(),results:[],requestId:""}}t.SuggestionsAggregator=i});var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};define("typeahead/core/TypeaheadUtils",["require","exports","typeahead/core/loc","typeahead/core/context","uitk","typeahead/core/logging/ProblemOrigin","typeahead/core/logging/Severity","typeahead/core/logging/TypeaheadErrorLogger"],function(s,t,e,o,n,a,r,l){"use strict";var c,i,d,p,u,g,h,f,y,m;t.__esModule=!0,(i=c=t.FlightType||(t.FlightType={}))[i.OneWay=0]="OneWay",i[i.RoundTrip=1]="RoundTrip",i[i.MultiDestination=2]="MultiDestination",i[i.Unknown=3]="Unknown",(p=d=t.Lob||(t.Lob={}))[p.Flight=0]="Flight",p[p.Hotel=1]="Hotel",p[p.Package=2]="Package",p[p.Car=3]="Car",p[p.Cruise=4]="Cruise",p[p.Activity=5]="Activity",p[p.Rail=6]="Rail",p[p.VacationRental=7]="VacationRental",p[p.OpenSearch=8]="OpenSearch",p[p.Unknown=9]="Unknown",(g=u=t.PackageType||(t.PackageType={}))[g.FlightHotel=0]="FlightHotel",g[g.FlightHotelCar=1]="FlightHotelCar",g[g.FlightCar=2]="FlightCar",g[g.HotelCar=3]="HotelCar",g[g.Unknown=4]="Unknown",(f=h=t.RailType||(t.RailType={}))[f.OneWay=0]="OneWay",f[f.RoundTrip=1]="RoundTrip",f[f.Unknown=2]="Unknown",(m=y=t.SiteParam||(t.SiteParam={}))[m.eapid=0]="eapid",m[m.tpid=1]="tpid",t.MercuryWizardLandingPagesPackageTypes=["packageFlightHotel","flightHotel","packageFlightHotelCar","flightHotelCar","carHotelFlight","packageFlightCar","flightCar","carFlight","packageHotelCar","hotelCar","carHotel"];var v=(b.getCookie=function(e){var t=("; "+document.cookie).split("; "+e+"=");return 2===t.length?t.pop().split(";").shift():""},b.getAbovMapFromCookie=function(e){function o(e){return/^\d+$/.test(e)}var n={};return"string"==typeof e&&e.split(":").forEach(function(e){var t=e.split("|");3===t.length&&0<t[0].length&&0<t[2].length&&o(t[0])&&o(t[2])&&(n[parseInt(t[0],10)]=parseInt(t[2],10))}),n},b.getGuid=function(){var t=window.dctk&&window.dctk.logging&&window.dctk.logging.guid?window.dctk.logging.guid:void 0;if(void 0===t&&(t=window.utag_data&&window.utag_data.guid?window.utag_data.guid:void 0),void 0===t)try{s(["gc/pageModel"],function(e){e&&e.user&&(t=e.user.guid)})}catch(e){}if(void 0===t){var e=this.getCookie("MC1"),o=e&&e.split("=");t=$.isArray(o)&&2===o.length?o[1]:""}return void 0===t?l.default.log(new Error("ERROR: Unable to get 'guid'"),r.Severity.MustFix,a.ProblemOrigin.ClientOfUniversalTypeahead):t=t.replace(/-/g,""),t},b.getSiteParamValue=function(e){var t,o=y[e];if(window.utag_data&&window.utag_data.context&&window.utag_data.context.site&&void 0!==window.utag_data.context.site[o])t=window.utag_data.context.site[o];else try{s(["gc/pageModel"],function(e){e&&e.site&&void 0!==e.site[o]&&(t=e.site[o])})}catch(e){}if(void 0===t){var n=this.getCookie({eapid:{cookieName:"iEAPID"},tpid:{cookieName:"tpid"}}[o].cookieName);if(void 0!==n){var i=n.split(",");t=parseInt(1<i.length?i[1]:i[0],10)}}return"number"==typeof t&&!isNaN(t)||l.default.log(new Error("Unable to get "+o+" from utag_data/cookies/gcPageModel"),r.Severity.Excusable,a.ProblemOrigin.ClientOfUniversalTypeahead),t},b.getPointOfSale=function(){return window.location.hostname},b.getLocale=function(){return o.locale},b.getSiteId=function(){return o.siteid+""},b.getPageId=function(){return b.defaultPageIdGetter()},b.getDeviceType=function(){return b.deviceType||(b.deviceType=window.utag_data&&window.utag_data.device_type?window.utag_data.device_type:b.evaluateDeviceType()),b.deviceType},b.getBrowser=function(){var e=window.utag_data&&window.utag_data.context&&window.utag_data.context.clientInfo&&window.utag_data.context.clientInfo.deviceCharacteristics?window.utag_data.context.clientInfo.deviceCharacteristics.mobileBrowser:void 0;return e||(e=b.evaluateBrowserName()),e},b.getClientId=function(){var e=$("input[data-provide=utypeahead]").data("clientId");return e||(e=$("meta[name=essClientId]").attr("content")||b.clientIdByPageId[b.defaultPageIdGetter()]||b.clientIdByPath[window.location.pathname],e=-1<["Hotels.Search","Flights.Search"].indexOf(e)&&-1<window.location.search.indexOf("packageType=")?"Packages.Search":e),e||(l.default.log(new Error("Could not determine client id"),r.Severity.Excusable,a.ProblemOrigin.UniversalTypeahead),e=b.TEST_CLIENT_ID),e||"Unknown"},b.setClientId=function(e){b.TEST_CLIENT_ID=e},b.isStorefrontClient=function(){return-1<["Homepage","AWSHomepage","LXLandingPage","CarsLandingPage","FlightsLandingPage","HotelsLandingPage","PackageLandingPage","RailsLandingPage"].indexOf(b.getClientId())},b.getLob=function(){if("OpenSearchPage"===b.getClientId())return d.OpenSearch;var e=$("div.wizard-tabs").find("button.on").data("lob");if("string"==typeof(e=(e=e||$("input[data-provide=utypeahead]:visible").data("lob"))||b.LOB_ATTRIBUTE.TEST)){if(-1<(e=e.toLowerCase()).indexOf("pack")||-1<t.MercuryWizardLandingPagesPackageTypes.map(function(e){return e.toLowerCase()}).indexOf(e))return d.Package;if(-1<e.indexOf("flight"))return d.Flight;if(-1<e.indexOf("hotel"))return d.Hotel;if(-1<e.indexOf("vacationrental"))return d.VacationRental;if(-1<e.indexOf("car"))return d.Car;if(-1<e.indexOf("cru"))return d.Cruise;if(-1<e.indexOf("lx")||-1<e.indexOf("activit"))return d.Activity;if(-1<e.indexOf("train")||-1<e.indexOf("rail"))return d.Rail;if(-1<e.indexOf("open"))return d.OpenSearch}return d.Unknown},b.setLob=function(e){b.LOB_ATTRIBUTE.TEST=e},b.getFlightType=function(e){if(e===d.Flight){var t=$("input[name=route-type], input[name=flight-type]").filter(":checked:visible").attr("id");if(t=t||b.TEST_FLIGHT_TYPE_ID){if(-1<(t=t.toLowerCase()).indexOf("one"))return c.OneWay;if(-1<t.indexOf("round"))return c.RoundTrip;if(-1<t.indexOf("multi"))return c.MultiDestination;l.default.log(new Error("Could not determine flight type with dom element id - "+t),r.Severity.Excusable,a.ProblemOrigin.ClientOfUniversalTypeahead)}}return c.Unknown},b.setFlightElementId=function(e){b.TEST_FLIGHT_TYPE_ID=e},b.getRailType=function(e){if(e===d.Rail){var t=$("input[name=journeyType]").filter(":checked").attr("id");if(t=t||b.TEST_RAIL_TYPE_ID){if(-1<(t=t.toLowerCase()).indexOf("one"))return h.OneWay;if(-1<t.indexOf("round"))return h.RoundTrip;l.default.log(new Error("Could not determine rail journey type with dom element id - "+t),r.Severity.MustFix,a.ProblemOrigin.ClientOfUniversalTypeahead)}l.default.log(new Error("Unable to find journeyType dom element to determine rail journey type"),r.Severity.MustFix,a.ProblemOrigin.ClientOfUniversalTypeahead)}return h.Unknown},b.setRailTypeId=function(e){b.TEST_RAIL_TYPE_ID=e},b.getPackageType=function(e){var t=(e?e.data("package-type"):void 0)||$("input[name=package-lob], input[name=package-type]").filter(":visible:checked").attr("value")||$("div.wizard-tabs").find("button.on").data("lob")||b.TEST_PACKAGE_TYPE_VALUE;if(t){var o=this.packageTypes[t.toLowerCase()];if(o)return o}return b.getLob()===d.Package?u.FlightHotel:u.Unknown},b.getShortPackageType=function(e){switch(b.getPackageType(e)){case u.FlightCar:return"FC";case u.FlightHotel:return"FH";case u.FlightHotelCar:return"FHC";case u.HotelCar:return"HC";default:return}},b.setPackageTypeValue=function(e){b.TEST_PACKAGE_TYPE_VALUE=e},b.submitToOmniture=function(o,n,t){var i=this,e=b.getLob(),a=b.getFlightType(e);if(e!==d.Flight||a!==c.MultiDestination){var r=!1;s(["PlatformAnalytics"],function(e){r=!0;var t=[];t.push(i.getReferrerEvent(n.eVar28,o,"click")),t.push.apply(t,i.extractTrackingDataEvents(n)),t.push.apply(t,i.extractSelectedSuggestionEvents(n)),(e.getInstance()||e.newInstance()).trackEvent(t)}),setTimeout(function(){r||s(["dctk/dctk"],function(e){t&&e.addExperiments(t),e.trackEvent("o",o,n,n.eventString)})},0)}},b.isWithinMobileBreakpoint=function(){return n&&n.mediaquery&&n.mediaquery.getMediaQueries()&&n.mediaquery.getMediaQueries().mobile&&n.mediaquery.getMediaQueries().mobile.matches},b.isTouchDevice=function(){return Modernizr&&Modernizr.touch},b.getExpUserId=function(){var t=$("#scratchpad-badge-expuserid").attr("data-id");return t||s(["gc/pageModel"],function(e){t=e.user?e.user.expUserId:void 0}),t||"-1"},b.iconOverride=function(e,t){var o=__assign({},e);return o.icon=t,o},b.getOverrideIcon=function(e,t){return"string"==typeof t&&(e=e+"|"+t),b.categoryIconOverrides[e]},b.isNearBySuggestion=function(e){return-1<(e.hierarchyInfo&&e.hierarchyInfo.relation||[]).indexOf("nearby")},b.isChildSuggestion=function(e,t){var o=e.hierarchyInfo&&e.hierarchyInfo.relation||[],n="alt"===o[0]&&"focus"===t;return-1<["child","lxcategory","nearby"].indexOf(o[0])||n},b.getURLParameter=function(e,t){return void 0===t&&(t=location.search),decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(t)||[null,""])[1].replace(/\+/g,"%20"))||null},b.getUtaBundleUrl=function(){return $("script[src*='universal_typeahead_bundle']").attr("src")},b.getUserLocation=function(){var o;try{s(["storefrontPageModel"],function(e){if(e.userInteraction&&e.userInteraction.context&&e.userInteraction.context.clientInfo&&e.userInteraction.context.clientInfo.coords){var t=e.userInteraction.context.clientInfo.coords;if(t.latitude&&t.longitude)return void(o=t.latitude+"|"+t.longitude)}})}catch(e){}return o},b.isStatusCodeInRange=function(e,t,o){var n=Number(e);return!isNaN(n)&&t<=n&&n<=o},b.getEssAbTestVariant=function(e,t){if(t)for(var o=t.split("|"),n=0;n<o.length;n++)if(-1<o[n].indexOf(e)){var i=o[n].split(".");if(1<i.length)return i[1]}},b.isRtl=function(){return void 0!==n.isRtl?n.isRtl:"rtl"===$("html").attr("dir")},b.evaluateDeviceType=function(){return/iPad|Transformer|ME173X|KOOF|Nook|IMM76D|Nexus 10|Nexus 7|Tablet/i.test(navigator.userAgent)||/HP Slate|PG09410|PG41200|Mediapad|Kindle|Tab|Xoom|TegraNote|SCH-I800/i.test(navigator.userAgent)?"Tablet":/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"Mobile":"Desktop"},b.evaluateBrowserName=function(){var e,t=navigator.userAgent,o=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(o[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],"IE"):"Chrome"===o[1]&&null!=(e=t.match(/\bOPR\/(\d+)/))?"Opera":(o=o[2]?[o[1],o[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&o.splice(1,1,e[1]),o[0])},b.defaultPageIdGetter=function(){var t=window.xPageId||window.pageName||window.dctk&&window.dctk.logging&&window.dctk.logging.pageName||$("#pageId").val();return t||s(["pageData"],function(e){t=e.pageId}),t||""},b.getReferrerEvent=function(e,t,o){return{messageContent:{eventType:o,linkName:t,referrerId:e},schemaName:"referrer"}},b.extractTrackingDataEvents=function(e){for(var t=[],o=0,n=e.eventString.split(",");o<n.length;o++){var i=n[o];if(i){var a=i.split("=");switch(a[0]){case"event44":var r=parseInt(a[1],10);t.push(this.getStandardEvent("TypeaheadSelectionDepth",r));break;case"event45":t.push(this.getStandardEvent("TypeaheadSearch",0));break;case"event46":var s=parseInt(a[1],10);t.push(this.getStandardEvent("TypeaheadCharactersTyped",s))}}}return t},b.getStandardEvent=function(e,t){return{messageContent:{name:e,value:t},schemaName:"events"}},b.extractSelectedSuggestionEvents=function(e){var t=[],o=e.prop73.split("|"),n=e.eVar48.split("|"),i=e.prop74.split("|");return this.addSelectedSuggestionEvent(o,n,i,t),t},b.addSelectedSuggestionEvent=function(e,t,o,n){var i,a=[];5<=e.length&&2<=o.length&&2<=(i=e[0].split(":")).length&&a.push({essRequestId:o[1],lastSearchName:e[4],relation:e[2].replace("R#",""),searchField:"origin",sourceId:parseInt(i[1],10)||-1,sourceName:"-"!==i[0]?i[0]:"UNKNOWN",suggestionType:"-"!==e[1]?e[1]:"UNKNOWN",userTypedQuery:o[0].split('"').join("")}),5<=t.length&&2<=o.length&&2<=(i=t[0].split(":")).length&&a.push({essRequestId:o[1],lastSearchName:t[4],relation:t[2].replace("R#",""),searchField:"dest",sourceId:parseInt(i[1],10)||-1,sourceName:"-"!==i[0]?i[0]:"UNKNOWN",suggestionType:"-"!==t[1]?t[1]:"UNKNOWN",userTypedQuery:o[0].split('"').join("")}),a.length&&n.push({messageContent:{selectedSuggestions:a},schemaName:"allSelectedSuggestions"})},b.ZERO_RESULTS_CAUSED_BY_EXCEPTION="ZERO_RESULTS_CAUSED_BY_EXCEPTION",b.responsiveTAClasses={autoCompleteClass:"autocomplete",centerClass:"pin-center",dropdownClass:"autocomplete-dropdown",hlClass:"highlight",leftClass:"pin-left",openClass:"autocomplete-open",rightClass:"pin-right"},b.defaultMask=(b.bitMaskFlags={ADDRESS:32,AIRPORT:1,CITY:2,HOTEL:128,METROCODE:64,METROSTATION:1024,MULTICITY:4,MULTIREGION:256,NEIGHBORHOOD:8,POI:16,TRAINSTATION:512}).AIRPORT|b.bitMaskFlags.CITY|b.bitMaskFlags.MULTICITY|b.bitMaskFlags.NEIGHBORHOOD|b.bitMaskFlags.POI,b.LOB_ATTRIBUTE={ACTIVITIES:"ACTIVITIES",CARS:"CARS",FLIGHTS:"FLIGHTS",HOTELS:"HOTELS",PACKAGES:"PACKAGES",RAILS:"RAILS",TEST:"",VACATIONRENTALS:"VACATIONRENTALS"},b.CATEGORIES={ADDRESS:{icon:"location",id:4,name:e.taCategoryNameAddress},AIRPORT:{icon:"flights",id:2,name:e.taCategoryNameAirports},AMENITY:{icon:"tag",id:14,name:e.taCategoryNameAmenities},ATTRACTION:{icon:"location",id:1,name:e.taCategoryNameAttractions},BESTFILTER:{icon:"search",id:17},CITY:{icon:"location",id:0,name:e.taCategoryNameRegionCity},DEALS:{icon:"location",id:13,name:e.taCategoryNameDeals},GEOLOCATION:{icon:"geolocation",id:16,name:void 0},HOTEL:{icon:"hotels",id:3,name:e.taCategoryNameHotels},LIST:{icon:"list",id:18},METROCODE:{icon:"location",id:9,name:e.taCategoryNameRegionCity},METROSTATION:{icon:"train",id:6,name:e.taCategoryNameMetros},MULTICITY:{icon:"location",id:7,name:e.taCategoryNameRegionCity},NEIGHBORHOOD:{icon:"location",id:8,name:e.taCategoryNameRegionCity},POI:{icon:"location",id:11,name:e.taCategoryNameAttractions},RENTAL:{icon:"cars",id:12,name:e.taCategoryNameRentals},TRAINSTATION:{icon:"train",id:5,name:e.taCategoryNameTrains},USERHISTORY:{icon:"notime",id:15,name:e.taCategoryNameRecentSearch}},b.categoryIconOverrides={"ADDRESS|RENTALLOCATION":b.CATEGORIES.RENTAL.icon,"NEIGHBORHOOD|AIRNBH":"flights"},b.TEST_CLIENT_ID="Unknown",b.TEST_FLIGHT_TYPE_ID="Unknown",b.TEST_PACKAGE_TYPE_VALUE="Unknown",b.TEST_RAIL_TYPE_ID="Unknown",b.clientIdByPageId={Homepage:"Homepage",activity:"LXLandingPage",aws_Homepage:"Homepage",car:"CarsLandingPage",cruise:"Unknown",flight:"FlightsLandingPage",homepage:"Homepage",hotel:"HotelsLandingPage",package:"PackageLandingPage","page.Account.MyAccount":"UserAccountPage","page.Activities":"LXLandingPage","page.Cars":"CarsLandingPage","page.Cars.Infosite.Information":"Cars.Search","page.Checkout.Payment":"Unknown","page.Domestic":"HotelsLandingPage","page.Flight-Search-Oneway":"Flights.Search","page.Flight-Search-Roundtrip.Out":"Flights.Search","page.Flight-Search.MDest":"Flights.Search","page.Flights":"FlightsLandingPage","page.Hotel-Search":"Hotels.Search","page.Hotels":"HotelsLandingPage","page.Hotels.Search":"Hotels.Search","page.Package.FC.Flight-Search-Roundtrip.Out":"Packages.Search","page.Package.FH.Hotel-Search":"Packages.Search","page.Package.FHC.Hotel-Search":"Packages.Search","page.Package.HC.Hotel-Search":"Packages.Search","page.Packages":"PackageLandingPage","page.Rails":"RailsLandingPage","page.car.search.list.aws":"Cars.Search","page.car.search.list.dropOff.aws":"Cars.Search","page.open-search":"OpenSearchPage",threepp:"Unknown"},b.clientIdByPath={"/":"Homepage","/Activities":"LXLandingPage","/Activities/":"LXLandingPage","/Cars":"CarsLandingPage","/Cars/":"CarsLandingPage","/Cruises":"Unknown","/Cruises/":"Unknown","/Flights":"FlightsLandingPage","/Flights-Search":"Flights.Search","/Flights-Search/":"Flights.Search","/Flights/":"FlightsLandingPage","/Holidays":"PackageLandingPage","/Holidays/":"PackageLandingPage","/Hotel-Search":"Hotels.Search","/Hotel-Search/":"Hotels.Search","/Hotels":"HotelsLandingPage","/Hotels/":"HotelsLandingPage","/MultiItemCheckout":"Unknown","/MultiItemCheckout/":"Unknown","/Vacation-Packages":"PackageLandingPage","/Vacation-Packages/":"PackageLandingPage","/carsearch":"Cars.Search","/carsearch/":"Cars.Search","/carsearch/dropoff":"Cars.Search","/search-results":"OpenSearchPage","/trains":"RailsLandingPage"},b.packageTypes=Object.freeze({carflight:u.FlightCar,carhotel:u.HotelCar,carhotelflight:u.FlightHotelCar,fc:u.FlightCar,fh:u.FlightHotel,fhc:u.FlightHotelCar,"flight-car":u.FlightCar,"flight-hotel":u.FlightHotel,"flight-hotel-car":u.FlightHotelCar,flightcar:u.FlightCar,flighthotel:u.FlightHotel,flighthotelcar:u.FlightHotelCar,hc:u.HotelCar,"hotel-car":u.HotelCar,hotelcar:u.HotelCar,packageflightcar:u.FlightCar,packageflighthotel:u.FlightHotel,packageflighthotelcar:u.FlightHotelCar,packagehotelcar:u.HotelCar}),b);function b(){}t.TypeaheadUtils=v});var utaScriptLoadingStartedTimestamp=Date.now();if(require("universalTypeahead",function(r){window.utaModuleReadyTimeStamp=Date.now(),r.handlePageLoad();$("body").on("focus.typeahead input.typeahead change.typeahead","[data-provide=utypeahead]",function(e,t){var o,n,i,a=$(this);a.attr("data-typeahead")||(o="#"+a.attr("id"),n=a.data("template"),a.data("jsTheme"),i=a.data(),r.initTA(o,n,i),a.attr("data-typeahead","uTA-attached"))})}),require(["typeahead/core/presentation/SvgIcons"],function(e){e.SvgIcons.init()}),define&&define.amd)try{define("require",function(){return require})}catch(e){}!function(e){e.prototype.indexOf||(e.prototype.indexOf=function(e,t){var o;if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(0==i)return-1;var a=+t||0;if(Math.abs(a)===1/0&&(a=0),i<=a)return-1;for(o=Math.max(0<=a?a:i-Math.abs(a),0);o<i;){if(o in n&&n[o]===e)return o;o++}return-1})}(Array),define("universalTypeahead",["require","exports","jquery","uitk","uitk_i18n","typeahead/core/loc","typeahead/core/context","typeahead/client/ClientHandlerRegistry","typeahead/core/ConfigurableFeature","typeahead/core/EssDataProvider","typeahead/core/plugins/EssEndpointProvider","typeahead/core/ExpediaSuggestServiceRequestGenerator","typeahead/core/google/GoogleMapsDataProvider","typeahead/core/logging/OmnitureLogger","typeahead/core/logging/PerformanceMetricsLogger","typeahead/core/logging/ProblemOrigin","typeahead/core/logging/ScanabilityLogger","typeahead/core/logging/SelectionToSubmissionLogger","typeahead/core/logging/Severity","typeahead/core/logging/SuggestionEngagementLogger","typeahead/core/logging/TypeaheadErrorLogger","typeahead/core/logging/TypeaheadInteractionLogger","typeahead/core/message/ElementFocusedMessage","typeahead/core/message/EssErrorMessage","typeahead/core/message/InputClearedMessage","typeahead/core/message/InputValueEditedMessage","typeahead/core/message/MoreSuggestionsClickedMessage","typeahead/core/message/SuggestionListSelectedMessage","typeahead/core/message/SuggestionReadyMessage","typeahead/core/message/SuggestionSelectedMessage","typeahead/core/message/SuggestionShownMessage","typeahead/core/message/TypeaheadMessage","typeahead/core/message/UserExitedMessage","typeahead/core/OnFocusSuggester","typeahead/core/plugins/CompositePageLoadHandler","typeahead/core/plugins/DefaultPluginAssembly","typeahead/core/plugins/SuggestionsProvider","typeahead/core/presentation/DisplayGroupHandler","typeahead/core/presentation/DropdownContentHandlersAssembly","typeahead/core/presentation/DropDownHideHandlersAssembly","typeahead/core/presentation/DropDownShowHandlersAssembly","typeahead/core/presentation/IInputElementFocusByHumanOrScriptHandler","typeahead/core/presentation/IInputElementFocusHandler","typeahead/core/presentation/TypeaheadDropdownBuilder","typeahead/core/SearchParametersUpdater","typeahead/core/StaticDataProvider","typeahead/core/SuggestionFactory","typeahead/core/TypeaheadUtils","typeahead/core/util/Functional","typeahead/dataprovider/IClientSideCacheStatusChecker","uitk_tooltip"],function(e,t,h,f,y,l,i,o,a,r,s,n,c,d,p,u,g,m,v,b,T,S,E,x,C,_,M,I,P,w,k,O,L,A,H,R,F,D,U,N,G,q,B,$,V,z,j,W,Y,Q){"use strict";t.__esModule=!0;var J=(X.initOmnitureLogger=function(){X.oLogger=new d.OmnitureLogger},X.getOmnitureLogger=function(){return X.oLogger},X.prototype.getCategory=function(e){if("USERHISTORY"===e.category)return W.TypeaheadUtils.CATEGORIES.USERHISTORY;if(e.hierarchyInfo&&e.hierarchyInfo.relation&&"hotelfilter"===e.hierarchyInfo.relation[0])return W.TypeaheadUtils.CATEGORIES.BESTFILTER;if(void 0===e.type)return void 0!==e.t?W.TypeaheadUtils.CATEGORIES[e.t]:void 0;var t=W.TypeaheadUtils.getOverrideIcon(e.type,e.subtype);return"string"==typeof t?W.TypeaheadUtils.iconOverride(W.TypeaheadUtils.CATEGORIES[e.type],t):W.TypeaheadUtils.CATEGORIES[e.type]},X.prototype.addIndexToItems=function(e){e.forEach(function(e,t){e.index=t})},X.prototype.updateSearchSuggestions=function(e,t,o,n,i){var a=this,r=this.suggestionsProvider.modifySuggestions(e,o,this.opts,i);h.each(r,function(e,t){var o=a.getCategory(t);t.categoryName=o?o.name:"Other",t.icon||function(e,t){e.icon=n||(t?t.icon:"location")}(t,o),function(e){void 0!==e.regionNames&&(void 0!==e.regionNames.lastSearchName?e.regionNames.lastSearchName=e.regionNames.lastSearchName.replace(/'/g,"&#39;"):void 0!==e.regionNames.fullName&&(e.regionNames.fullName=e.regionNames.fullName.replace(/'/g,"&#39;"),e.regionNames.lastSearchName=e.regionNames.fullName))}(t),function(e){e.categoryVM={displayName:"",fullName:""},"regionNames"in e?(e.categoryVM.displayName=e.regionNames.displayName,e.categoryVM.fullName=e.regionNames.fullName,e.categoryVM.lastSearchName=e.regionNames.lastSearchName):"d"in e&&(e.categoryVM.displayName=e.d,e.categoryVM.fullName=e.l)}(t)})},X.prototype.constructContext=function(e){return{clientId:e.clientId,deviceType:W.TypeaheadUtils.getDeviceType(),expuserid:W.TypeaheadUtils.getExpUserId(),getShortPackageType:function(){return W.TypeaheadUtils.getShortPackageType()},guid:e.guid,lob:e.lob,locale:e.locale,serviceUrl:e.serviceUrl,siteid:e.siteid.toString(10),tab:o.ClientHandlerRegistry.getTab()}},X.prototype.constructSuggestionServiceUrlOptions=function(e){return{locale:e.locale,overrideServiceUrl:e.overrideServiceUrl,serviceUrl:e.serviceUrl,suggestServiceUrl:e.suggestServiceUrl}},X.prototype.constructRequestGenerator=function(e,t){return new n.ExpediaSuggestServiceRequestGenerator(n.ExpediaSuggestServiceRequestGenerator.ESS_ABACUS_IDS,"function"==typeof n.ExpediaSuggestServiceRequestGenerator.defaultVariantAssigner?n.ExpediaSuggestServiceRequestGenerator.defaultVariantAssigner:void 0,this.constructSuggestionServiceUrlOptions(e),e.siteid,t)},X.prototype.getDomElementId=function(){return this.$input.attr("id")},X.prototype.showPopup=function(e,t){this.$popupContent.is(":hidden")&&(this.$popupContent.off("mousedown").off("mouseup").off("mouseenter").off("mouseleave").on("mousedown",h.proxy(this.clickOn,this)).on("mouseup",h.proxy(this.clickOff,this)).on("mouseenter","a",h.proxy(this.mouseEnter,this)).on("mouseleave","a",h.proxy(this.mouseLeave,this)),this.$popupContent.closest("."+W.TypeaheadUtils.responsiveTAClasses.autoCompleteClass).addClass(W.TypeaheadUtils.responsiveTAClasses.openClass),this.$popupContent.show(),this.dropDownShowHandlersAssembly.runHandlers(this.$popupContent,this.$input,this.context)),this.dropdownContentHandlersAssembly.runHandlers(this.$popupContent,this.$input,this.context,e,t)},X.prototype.startRequest=function(){var e=this,t="number"==typeof this.opts.minchar?this.opts.minchar:1,o=this.$input.val();if(o.length>=t){var n=this.cache[o];n?this.clientSideCacheStatusChecker&&this.clientSideCacheStatusChecker.length&&this.clientSideCacheStatusChecker[0].isClientSideCacheDisabled(this.context)?this.dataRequest(o):e.render(n.query,n.requestId,n.results,n.activeABTests,n.overriddenABTests,n.responseCode):this.dataRequest(o)}else""===o?this.$input.triggerHandler("focus",!0):this.close()},X.prototype.createTypeaheadOptions=function(e){return h.extend(!0,{},this.opts,{context:this.context,inputElementId:this.getDomElementId(),requestGenerator:this.requestGenerator,srchText:e})},X.prototype.dataRequest=function(e){this.essDataProvider.fetchData(this.createTypeaheadOptions(e)).then(h.proxy(this.essResponseResolver,this)).fail(function(e){T.default.log(e,v.Severity.MustFix,u.ProblemOrigin.ExpediaSuggestService),O.TypeaheadMessage.publish(new x.EssErrorMessage(e.status))})},X.prototype.essResponseResolver=function(e){var o=this;if(e){var t=h.extend(!0,{},this.opts,{activeEssTests:e.activeABTests,inputElem:this.$input,overriddenEssTests:e.overriddenABTests,requestType:e.responseCode,srchText:e.query});this.staticDataProvider.fetchData(t,e).then(function(e){if(e.isReferralToGoogleMaps){var t=h.extend(!0,{},o.opts,{activeEssTests:e.activeABTests,domElementId:o.getDomElementId(),overriddenEssTests:e.overriddenABTests,requestId:e.requestId,requestType:e.responseCode,srchText:e.query});o.googleMapsDataProvider.fetchData(t,e).then(function(e){e?o.renderSuggestionsForResponse(e):o.close()})}else(o.cache[e.query]=e).results?o.render(e.query,e.requestId,e.results,e.activeABTests,e.overriddenABTests,e.responseCode):o.close()})}},X.prototype.renderSuggestionsForResponse=function(e){(this.cache[e.query]=e).results&&0<e.results.length?this.render(e.query,e.requestId,e.results,e.activeABTests,e.overriddenABTests,e.responseCode):this.close()},X.prototype.appendUserTypedText=function(e,t){var o,n=!0,i={};this.opts.playBackText&&"defaultResponse"!==t&&(h.each(e,function(e,t){-1===t.id&&(n=!1)}),n&&(t=t.replace(/<script[\s\S]+?script\s*>?/gi,""),o=(o=this.opts.playBackText).replace(/\d/,t),i.l=t,i.d=o,i.id=-1,i.i=-1,"HOTELS"===this.opts.lob&&(i.t="HOTEL"),e.push(i)))},X.prototype.render=function(e,t,o,n,i,a){""===e?h.extend(this.opts,{renderTrigger:"focus"}):h.extend(this.opts,{renderTrigger:"type"});var r=Date.now();if(!e||this.$input.val()===e||this.opts.openDefaultTa){var s,l,c,d,p=h.extend(!0,[],o);if(0===p.length)return this.close(),void this.publishSuggestionReadyMessage(e,o,n,this.getDomElementId(),a);if(h(document.activeElement).attr("id")===this.$input.attr("id")){if(this.appendUserTypedText(p,e),this.addIndexToItems(p),this.opts.preRenderTransform&&"function"==typeof this.opts.preRenderTransform&&(!(p=this.opts.preRenderTransform(e,p))||!Array.isArray(p)))throw new Error("preRenderTransform callback must return a valid array.");var u=n||"";this.updateSearchSuggestions(p,this.suggestionsProvider,this.context,this.opts.forceicon,u),this.addIndexToItems(p),s=this.displayGroupHandler.getResultsByDisplayGroup(p),d={closeText:this.opts.closetext,resultsByDisplayGroup:s},"android"in Modernizr&&Modernizr.android||(d.ariaOwns=this.ariaOwns),this.renderedData.query=e,this.renderedData.results=h.extend(!0,[],p),this.$popupContent.html($.TypeaheadDropdownBuilder.getHtml(d)),this.$popupContent.attr("data-request_id",t),this.showPopup(e,u),this.$label.addClass("focused"),c=p.length,l=1===c?"typeahead_results_displayed_one":"typeahead_results_displayed_other",conditionizr.safari?setTimeout(function(){f.utils.liveAnnounce(y.t(l,{arg0:c}),"polite"),setTimeout(function(){f.utils.liveAnnounce("","polite")},200)},800):f.utils.liveAnnounce(y.t(l,{arg0:c}),"polite");var g=Date.now()-r;O.TypeaheadMessage.publish(new k.SuggestionShownMessage(this.renderedData.results,e,n,this.opts.lob,g,this.getDomElementId())),this.publishSuggestionReadyMessage(e,o,n,this.getDomElementId(),a),window.utaTestHooks.latestEssResults=this.renderedData.results}}else this.publishSuggestionReadyMessage(e,o,n,this.getDomElementId(),a)},X.prototype.close=function(){var t=this;this.$popupContent.off("mousedown",h.proxy(this.clickOn,this)).off("mouseup",h.proxy(this.clickOff,this)).off("mouseenter","a",h.proxy(this.mouseEnter,this)).off("mouseleave","a",h.proxy(this.mouseLeave,this)),this.$popupContent.is(":hidden")||setTimeout(function(){t.$label.removeClass("focused"),t.$popupContent.closest("."+W.TypeaheadUtils.responsiveTAClasses.autoCompleteClass).removeClass(W.TypeaheadUtils.responsiveTAClasses.openClass),t.removeActiveDescendant(),t.$popupContent.unbind("mousedown",h.proxy(t.cancelEvent,t)),h(document.body).unbind("mousedown",h.proxy(t.close,t)),t.dropDownHideHandlersAssembly.runHandlers(t.$popupContent,t.$input,t.context);var e=h(document.body).scrollTop();h(document.body).scrollTop(e),t.$popupContent.hide(),t.$popupContent.html("")},0)},X.prototype.removeActiveDescendant=function(){var e=h("input[aria-activedescendant]");0<e.length&&e.removeAttr("aria-activedescendant")},X.prototype.getVisibleSuggestionLinks=function(){return this.$popupContent.find("a").filter(function(){return"none"!==h(this).parent().css("display")})},X.prototype.prev=function(){var e=this.getVisibleSuggestionLinks(),t=this.$popupContent.find("."+W.TypeaheadUtils.responsiveTAClasses.hlClass).removeClass(W.TypeaheadUtils.responsiveTAClasses.hlClass),o=e.index(t)-1,n=e[o],i=h(n),a=h(n).attr("id"),r=e.length-1,s="";o<-1&&(n=e[r],i=h(n)),n?(h(n).addClass(W.TypeaheadUtils.responsiveTAClasses.hlClass),this.opts.onItemSelectionChanged&&"function"==typeof this.opts.onItemSelectionChanged&&this.opts.onItemSelectionChanged(i),h(n).hasClass("close")?f.utils.liveAnnounce(l.closeSuggestions||y.t("close"),"assertive"):h(n).hasClass("feedbackYes")?f.utils.liveAnnounce(l.areSuggestionsHelpfulMessage+" "+l.agreeMessage,"polite"):h(n).hasClass("feedbackNo")?f.utils.liveAnnounce(l.areSuggestionsHelpfulMessage+" "+l.disagreeMessage,"polite"):h(n).hasClass("sorryButton")?f.utils.liveAnnounce(l.helpImproveTypeaheadMessage,"polite"):(s=h(n).attr("data-value"),conditionizr.firefox||f.utils.liveAnnounce(s,"polite"),this.$input.attr("aria-activedescendant",a))):(this.$input.removeAttr("aria-activedescendant"),f.utils.liveAnnounce(this.$input.val(),"polite"))},X.prototype.next=function(){var e=this.getVisibleSuggestionLinks(),t=this.$popupContent.find("."+W.TypeaheadUtils.responsiveTAClasses.hlClass).removeClass(W.TypeaheadUtils.responsiveTAClasses.hlClass),o=e.index(t),n=e[o+1],i=h(n),a=h(n).attr("id");n?(i.addClass(W.TypeaheadUtils.responsiveTAClasses.hlClass),this.opts.onItemSelectionChanged&&"function"==typeof this.opts.onItemSelectionChanged&&this.opts.onItemSelectionChanged(i),h(n).hasClass("close")?f.utils.liveAnnounce(l.closeSuggestions||y.t("close"),"assertive"):h(n).hasClass("feedbackYes")?f.utils.liveAnnounce(l.areSuggestionsHelpfulMessage+" "+l.agreeMessage):h(n).hasClass("feedbackNo")?f.utils.liveAnnounce(l.areSuggestionsHelpfulMessage+" "+l.disagreeMessage):h(n).hasClass("sorryButton")?f.utils.liveAnnounce(l.helpImproveTypeaheadMessage,"polite"):(this.$input.attr("aria-activedescendant",a),conditionizr.firefox||f.utils.liveAnnounce(h(n).attr("data-value"),"polite"))):f.utils.liveAnnounce(this.$input.val(),"polite")},X.prototype.removeHighlights=function(){this.$popupContent.find("."+W.TypeaheadUtils.responsiveTAClasses.hlClass).removeClass(W.TypeaheadUtils.responsiveTAClasses.hlClass)},X.prototype.getSelectedSuggestion=function(e){if(this.renderedData.results&&e){var t=e.substring(e.lastIndexOf("-")+1),o=parseInt(t,10)+1,n=!1;if(o<this.renderedData.results.length){var i=this.renderedData.results[o];n=i.hierarchyInfo&&"true"===i.hierarchyInfo.isChild}return j.createSuggestion(this.renderedData.results[t],n)}return null},X.prototype.selectHighlighted=function(e,t){var o,n,i=this.$popupContent.find("."+W.TypeaheadUtils.responsiveTAClasses.hlClass),a=i.text(),r=h(e.target);if(r.hasClass("chevron-icon"))O.TypeaheadMessage.publish(new M.MoreSuggestionsClickedMessage(e,this.renderedData.results,this.opts.lob));else if(t=t||r.hasClass("close")||r.parent().hasClass("close")||i.hasClass("close"),i.hasClass("feedbackYes")||i.hasClass("feedbackNo")||i.hasClass("sorryButton"))i.trigger("click");else if(f.isTouchDevice&&!a&&(i=r.closest(".results-item").find("a")),i&&i.attr("id")&&"LIST"===(n=this.getSelectedSuggestion(i.attr("id"))).getType().orElse(""))O.TypeaheadMessage.publish(new I.SuggestionListSelectedMessage(n,this.opts.lob,this.getDomElementId()));else{if(o=a.replace(/(^\s+|\s+$)/g,""),this.updateTextField(i),i.removeClass(W.TypeaheadUtils.responsiveTAClasses.hlClass),!0===t)i.text().replace(/(^\s+|\s+$)/g,""),f.utils.liveAnnounce(y.t("close_button_menu_closed")),this.close();else{var s=y.t("item_selected_menu_closed",{arg0:o});f.utils.liveAnnounce(s,"assertive")}if(n){V.updateForSuggestion(this.$input.val(),n,this.opts,this.getDomElementId());var l=this.$popupContent.attr("data-request_id")||"";O.TypeaheadMessage.publish(new w.SuggestionSelectedMessage(n,l,e,this.opts.lob,this.getDomElementId()))}i.context=this.$input;var c={element:i,suggestionSelected:n};n&&f.publish("typeahead.resultSelected",c),"function"==typeof this.opts.selectioncallback?this.opts.selectioncallback(i):"function"==typeof window[this.opts.selectioncallback]&&window[this.opts.selectioncallback](i)}},X.prototype.updateTextField=function(e){var t,o,n,i,a=e.attr("id");if(e&&a){if(t=a.lastIndexOf("-"),o=+a.substring(t+1),n=this.renderedData.results[o],i=e.attr("data-value")){i=i.replace(/&#39;/g,"'"),this.$input.val(i),"GEOLOCATION"!==n.category&&this.$input.trigger("change");var r=e.attr("data-id");r&&this.$input.attr("data-id",r)}f.prepFields(),this.close()}},X.prototype.showOnFocusSuggestions=function(){var t=this;if("ja_JP"!==this.context.locale||this.$input.closest("div.col").hasClass("typeahead-overlay")||this.$input.closest("div.col").hasClass("typeahead-non-mobile-overlay-autocomplete-parent")){var o=this.$input.val();this.onFocusSuggester.suggest(this.createTypeaheadOptions(""),this.context).done(h.proxy(function(e){e&&(t.$input.val()&&o!==t.$input.val()||t.render("",e.requestId,e.results,e.activeABTests?e.activeABTests:"",e.overriddenABTests?e.overriddenABTests:""))},this))}else this.close()},X.prototype.focus=function(e,t){e&&e.currentTarget&&"true"===h(e.currentTarget).attr("data-hasfocus")&&!t||(Y.mapMethodByName(this.inputElementFocusByHumanOrScriptHandlers,"handleInputElementFocusByHumanOrScript",this.$input,this.context),e.isTrigger&&!t||(O.TypeaheadMessage.publish(new E.ElementFocusedMessage(this.$input.val(),this.context,this.getDomElementId())),Y.mapMethodByName(this.inputElementFocusHandlers,"handleInputElementFocus",this.$input,this.context),this.showOnFocusSuggestions(),this.opts.onInputFocus&&"function"==typeof this.opts.onInputFocus&&this.opts.onInputFocus(e))),e&&e.currentTarget&&h(e.currentTarget).attr("data-hasfocus","true"),this.opts.packageType=W.TypeaheadUtils.getShortPackageType(this.$input)},X.prototype.blur=function(e){if(this.opts.onInputBlur&&"function"==typeof this.opts.onInputBlur&&this.opts.onInputBlur(e),(!window.navigator.msPointerEnabled||window.PointerEvent)&&(this.isClickOn&&this.$popupContent.bind("mousedown",h.proxy(this.cancelEvent,this)),!h("#userFeedbackToolModal").length&&!h("#appreciationModal").length)){e&&e.currentTarget&&h(e.currentTarget).removeAttr("data-hasfocus");var t=this.$popupContent.attr("data-request_id")||"";O.TypeaheadMessage.publish(new L.UserExitedMessage(this.context,this.getDomElementId(),e,t))}},X.prototype.keyDown=function(e){var t;switch(e||(e=window.event),t=e.keyCode){case 27:this.close(),e.stopPropagation();break;case 9:case 13:if(this.opts.selectFirstElementByDefault&&this.$popupContent.find(".highlight").length<=0&&this.$label.hasClass("focused")){var o=this.$popupContent.find("li.category-item");if(o&&0!==o.length||(o=this.$popupContent.find("li.results-item")),o){var n=o.first();n&&n.find("a").addClass("highlight")}}this.$popupContent.find(".highlight").length&&(e.stopPropagation(),13===t&&e.preventDefault(),this.selectHighlighted(e,this.$popupContent.find(".highlight").hasClass("close")));break;case 32:this.$popupContent.find(".highlight").hasClass("close")&&(e.stopPropagation(),e.preventDefault());break;case 37:case 39:(W.TypeaheadUtils.isRtl()&&37===t||!W.TypeaheadUtils.isRtl()&&39===t)&&this.$popupContent.find(".highlight").length&&(this.ignoreNext=!0,e.stopPropagation(),this.selectHighlighted(e,!1));break;case 38:e.preventDefault(),e.stopPropagation(),this.prev();break;case 40:e.stopPropagation(),e.preventDefault(),this.next()}},X.prototype.keyPress=function(e){e||(e=window.event),13===e.keyCode&&this.close()},X.prototype.keyUp=function(e){if(this.ignoreNext)this.ignoreNext=!1;else switch(e||(e=window.event),e.keyCode){case 37:W.TypeaheadUtils.isRtl()||this.removeHighlights();break;case 39:W.TypeaheadUtils.isRtl()&&this.removeHighlights();break;case 38:e.preventDefault(),e.stopPropagation();break;case 40:e.stopPropagation(),e.preventDefault();break;case 13:break;case 32:this.$popupContent.find(".highlight").hasClass("close")&&(e.stopPropagation(),e.preventDefault(),this.selectHighlighted(e,this.$popupContent.find(".highlight").hasClass("close")))}},X.prototype.input=function(e){var t=this;O.TypeaheadMessage.publish(new _.InputValueEditedMessage(this.$input.val(),this.opts.lob,this.getDomElementId())),this.$input.val()!==this.oldInputVal&&(this.oldInputVal=this.$input.val(),this.startRequest(),setTimeout(function(){V.updateForSuggestion(t.$input.val(),void 0,t.opts,t.getDomElementId())}),this.opts.onInputEdited&&this.opts.onInputEdited(this.$input.val()))},X.prototype.clickOn=function(e){var t=h(e.target);t.hasClass("close")||t.parent().hasClass("close")||(this.isClickOn=!0),this.click(e)},X.prototype.clickOff=function(){this.isClickOn=!1},X.prototype.click=function(e){e.stopPropagation(),e.preventDefault(),0!==e.button&&!f.isTouchDevice||this.selectHighlighted(e,!1)},X.prototype.mouseEnter=function(e){var t=e.target;h(t).is("a.feedbackNo, a.feedbackYes, a.sorryButton, a.close")||(this.removeHighlights(),h(e.currentTarget).addClass("highlight"))},X.prototype.mouseLeave=function(e){this.removeHighlights()},X.prototype.cancelEvent=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1},X.prototype.remove=function(){this.$input.autocomplete="on",this.$input.closest("form").attr("autocomplete","on"),this.$input.off("focus",h.proxy(this.focus,this)).off("keydown",h.proxy(this.keyDown,this)).off("keyup",h.proxy(this.keyUp,this)).off("keypress",h.proxy(this.keyPress,this)).off("input",h.proxy(this.input,this)).off("blur",h.proxy(this.blur,this)),this.$popupContent.off("mousedown",h.proxy(this.clickOn,this)).off("mouseup",h.proxy(this.clickOff,this)).off("mouseenter","a",h.proxy(this.mouseEnter,this)).remove()},X.prototype.setPinClass=function(e){e.hasClass(W.TypeaheadUtils.responsiveTAClasses.leftClass)||e.hasClass(W.TypeaheadUtils.responsiveTAClasses.rightClass)||e.hasClass(W.TypeaheadUtils.responsiveTAClasses.centerClass)||e.addClass(W.TypeaheadUtils.responsiveTAClasses.leftClass)},X.prototype.publishSuggestionReadyMessage=function(e,t,o,n,i){this.ESS_EXCEPTION_RESPONSE_CODES.indexOf(i)<0?O.TypeaheadMessage.publish(new P.SuggestionReadyMessage(e,t,o,n)):O.TypeaheadMessage.publish(new x.EssErrorMessage(i))},X.pluginAssembly=new R.DefaultPluginAssembly,X);function X(e,t,o){var n=this;this.essDataProvider=new r.EssDataProvider,this.suggestionsProvider=new F.SuggestionsProvider(X.pluginAssembly),this.googleMapsDataProvider=new c.GoogleMapsDataProvider,this.staticDataProvider=new z.StaticDataProvider,this.defaultEssOptions={abtest:"",additionalDataSourceUrl:"",dest:!1,features:[],lob:W.TypeaheadUtils.LOB_ATTRIBUTE.FLIGHTS,locale:"en_US",mask:W.TypeaheadUtils.defaultMask,maxitems:20,maxresults:10,overrideDataRequest:null,overrideServiceUrl:"",serviceUrl:"//suggest.expedia.com",version:"v2"},this.defaultTAOptions={closetext:l.closetext,continuetext:l.continuetext,forceicon:!1,minchar:1,onInputBlur:null,onInputFocus:null,onItemSelected:null,onItemSelectionChanged:null,onPopupClosed:null,onPopupOpened:null,openDefaultTa:!1,playBackText:"",preRenderTransform:null,selectFirstElementByDefault:!0,tooltip:!0},this.defaultOptions=h.extend({},this.defaultTAOptions,this.defaultEssOptions),this.displayGroupHandler=new D.DisplayGroupHandler,this.dropdownContentHandlersAssembly=new U.DropdownContentHandlersAssembly(X.pluginAssembly),this.dropDownShowHandlersAssembly=new G.DropDownShowHandlersAssembly(X.pluginAssembly),this.dropDownHideHandlersAssembly=new N.DropDownHideHandlersAssembly(X.pluginAssembly),this.inputElementFocusByHumanOrScriptHandlers=X.pluginAssembly.get(q.isInputElementFocusByHumanOrScriptHandler),this.inputElementFocusHandlers=X.pluginAssembly.get(B.isInputElementFocusHandler),this.onFocusSuggester=new A.OnFocusSuggester(X.pluginAssembly.get(R.DefaultPluginAssembly.onFocusSuggestionsProviderIdentifier)),this.clientSideCacheStatusChecker=X.pluginAssembly.get(Q.isClientSideCacheDisabled),this.essEndpointProvider=new s.EssEndpointProvider(X.pluginAssembly),this.ESS_EXCEPTION_RESPONSE_CODES=[W.TypeaheadUtils.ZERO_RESULTS_CAUSED_BY_EXCEPTION],this.$input=h(e),this.$parent=this.$input.closest("."+W.TypeaheadUtils.responsiveTAClasses.autoCompleteClass),this.$label=this.$input.closest("label"),this.setPinClass(this.$parent),this.opts=h.extend(!0,{},this.defaultOptions,o,{browser:W.TypeaheadUtils.getBrowser(),device:W.TypeaheadUtils.getDeviceType(),guid:W.TypeaheadUtils.getGuid(),locale:i.locale,serviceUrl:this.essEndpointProvider.getEssEndpoint(i),siteid:i.siteid}),this.requestGenerator=this.constructRequestGenerator(this.opts,X.pluginAssembly),this.opts.clientId||(this.opts.clientId=W.TypeaheadUtils.getClientId()),this.opts.packageType=W.TypeaheadUtils.getShortPackageType(this.$input),this.context=this.constructContext(this.opts),this.opts.featureOverrides=a.ConfigurableFeature.getFeatureOverrides(this.$input),this.ariaOwns=this.$input.attr("aria-owns")||"backwards",this.templateUsed=t,this.firstItemFlag=!0,this.lastItemFlag=!0,this.searchType=null,this.cache={},this.ignoreNext=!1,this.isClickOn=!1,this.$input.autocomplete="off",this.$input.on("focus",h.proxy(this.focus,this)).on("keydown",h.proxy(this.keyDown,this)).on("keyup",h.proxy(this.keyUp,this)).on("keypress",h.proxy(this.keyPress,this)).on("input",h.proxy(this.input,this)).on("blur",h.proxy(this.blur,this)),this.$popupContent=this.$input.closest("."+W.TypeaheadUtils.responsiveTAClasses.autoCompleteClass).children("."+W.TypeaheadUtils.responsiveTAClasses.dropdownClass),this.$input.data("typeahead",this),this.opts.openDefaultTa&&this.dataRequest("defaultResponse"),this.renderedData={query:"",results:[]},X.seLogger||(X.seLogger=new b.SuggestionEngagementLogger),X.interactionLogger||(X.interactionLogger=new S.TypeaheadInteractionLogger),X.scanabilityLogger||(X.scanabilityLogger=new g.ScanabilityLogger),X.selectionToSubmissionLogger||(X.selectionToSubmissionLogger=new m.SelectionToSubmissionLogger),X.oLogger||(X.oLogger=new d.OmnitureLogger),X.performanceMetricsLogger||(X.performanceMetricsLogger=new p.PerformanceMetricsLogger),O.TypeaheadMessage.subscribe(C.InputClearedMessage.getTopic(),function(e,t){if(t&&t.$elem){var o=t.$elem.attr("id");n.$input.attr("id")===o&&n.input(null)}}),h(document.body).bind("mousedown",function(e){!h(e.target).is(n.$input)&&h(e.target).parents("#userFeedbackToolModal, #appreciationModal").length<1&&n.close()})}t.handlePageLoad=function(){window.utaTestHooks={},J.initOmnitureLogger(),setTimeout(function(){W.TypeaheadUtils.isStorefrontClient()?e(["gc/pageModel"],function(e){H.CompositePageLoadHandler.getInstance().handlePageLoad(J.pluginAssembly)}):H.CompositePageLoadHandler.getInstance().handlePageLoad(J.pluginAssembly)},0)},t.initTA=function(e,t,o){return new J(e,t,o)},t.registerPlugin=function(e){J.pluginAssembly.registerPlugin(e)}}),define("typeahead/core/geolocation/GeolocationDataProvider",["require","exports","typeahead/core/loc","typeahead/core/geolocation/message/GeolocationClearedMessage","typeahead/core/geolocation/message/GeolocationRequestMessage","typeahead/core/geolocation/message/GeolocationResponseMessage","typeahead/core/IListItem","typeahead/core/message/TypeaheadMessage"],function(e,t,o,a,r,s,n,l){"use strict";t.__esModule=!0;var i=(c.objectifyPosition=function(e){return{coords:e.coords?{accuracy:e.coords.accuracy,altitude:e.coords.altitude,altitudeAccuracy:e.coords.altitudeAccuracy,heading:e.coords.heading,latitude:e.coords.latitude,longitude:e.coords.longitude,speed:e.coords.speed}:void 0,timestamp:e.timestamp}},c.objectifyPositionError=function(e){return{code:e.code,message:e.message}},c.prototype.fetchData=function(e){return $.Deferred().resolve({results:[this.getGeolocationResult()]}).promise()},c.prototype.findGeolocation=function(t,o){var n=this,i=!1;l.TypeaheadMessage.publish(new r.GeolocationRequestMessage(t)),navigator.geolocation.getCurrentPosition(function(e){i=!0,n.setGeolocation(e),l.TypeaheadMessage.publish(new s.GeolocationResponseMessage(t,c.objectifyPosition(e),void 0,n.getGeolocationResult(),o)),setTimeout(function(){n.setGeolocation(void 0),l.TypeaheadMessage.publish(new a.GeolocationClearedMessage(t,n.getGeolocationResult()))},c.TTL_IN_MILLISEC)},function(e){i||(i=!0,l.TypeaheadMessage.publish(new s.GeolocationResponseMessage(t,void 0,c.objectifyPositionError(e),n.getGeolocationResult())))},{enableHighAccuracy:!0,maximumAge:0,timeout:c.TIMEOUT_IN_MILLISEC}),setTimeout(function(){i||(i=!0,l.TypeaheadMessage.publish(new s.GeolocationResponseMessage(t,void 0,{code:3,message:"Fallback timeout expired"},n.getGeolocationResult())))},c.TIMEOUT_IN_MILLISEC+15e3)},c.prototype.getGeolocationResult=function(){return this.geolocationResult},c.prototype.setGeolocation=function(e){e&&e.coords?this.geolocationResult.coordinates={lat:e.coords.latitude+"",long:e.coords.longitude+""}:this.geolocationResult.coordinates=void 0},c.CATEGORY="GEOLOCATION",c.TIMEOUT_IN_MILLISEC=6e3,c.TTL_IN_MILLISEC=18e4,c.MESSAGES={DISPLAY_TEXT:o.geolocationDisplayText||"Your current location",SUGGESTION_TEXT:o.geolocationSuggestionText||"Use your current location"},c);function c(){this.geolocationResult={category:c.CATEGORY,listItemType:n.ListItemType.Suggestion,regionNames:{displayName:c.MESSAGES.SUGGESTION_TEXT,lastSearchName:c.MESSAGES.DISPLAY_TEXT},type:c.CATEGORY}}t.GeolocationDataProvider=i}),define("typeahead/core/geolocation/GeolocationIcon",["require","exports"],function(e,t){"use strict";t.__esModule=!0,t.locationIcon="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjE2cHgiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDE2IDE2IiB3aWR0aD0iMTZweCIgDQp4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnNrZXRjaD0iaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoL25zIiANCnhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48dGl0bGUvPjxkZWZzLz48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIA0KaWQ9Ikljb25zIHdpdGggbnVtYmVycyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiPjxnIGZpbGw9IiMwMDY1YjgiIGlkPSJHcm91cCIgDQp0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTQ0LjAwMDAwMCwgLTE5Mi4wMDAwMDApIj4NCjxwYXRoIGQ9Ik0xNDQuMDE3NDU2LDIwMCBMMTYwLjAxOTY1MywxOTIuMDQzMDkxIEwxNTIsMjA4LjA4ODYyMyBMMTUyLDIwMCBMMTQ0LjAxNzQ1NiwyMDAgWiBNMTQ0LjAxNzQ1NiwyMDAiIA0KaWQ9IlBhdGggMjIxIi8+PC9nPjwvZz48L3N2Zz4="});__extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();define("typeahead/core/geolocation/GeolocationSuggestion",["require","exports","typeahead/core/Suggestion"],function(e,t,o){"use strict";t.__esModule=!0;var n,i=(n=o.Suggestion,__extends(a,n),a.prototype.shouldTriggerDomElementChangeOnSelection=function(){return!1},a);function a(){return null!==n&&n.apply(this,arguments)||this}t.GeolocationSuggestion=i}),define("typeahead/core/geolocation/GeolocationViewController",["require","exports","typeahead/core/loc","typeahead/core/geolocation/GeolocationDataProvider","typeahead/core/geolocation/message/GeolocationRequestMessage","typeahead/core/geolocation/message/GeolocationResponseMessage","typeahead/core/message/ElementFocusedMessage","typeahead/core/message/SuggestionSelectedMessage","typeahead/core/message/TypeaheadMessage"],function(e,t,o,n,i,a,r,s,l){"use strict";t.__esModule=!0;var c=(d.prototype.handleGeolocationResponse=function(e){this.hideInterstitial(),e.getPositionError()?(this.showErrorModal(e.getPositionError().code,e.getDomElementId()),$("#"+e.getDomElementId()).val("")):(this.updateSearchParameters(e.getGeolocationResult(),$("#"+e.getDomElementId())),e.getSubmitButton()&&e.getSubmitButton().trigger("click"))},d.prototype.getErrorMessage=function(e){return this.errorConfigMap[e]?this.errorConfigMap[e].message:this.errorConfigMap[4].message},d.prototype.showInterstitial=function(e){$("#"+e).blur(),uitk.publish("results.changed",{contentId:this.interstitialContentSelector,disable:!0,message:"<p>"+d.MESSAGES.FINDING_GEOLOCATION+"</p>",scrollToTop:!1,showLoader:!0})},d.prototype.hideInterstitial=function(){uitk.publish("results.complete",{ariaLevel:"polite",contentId:this.interstitialContentSelector})},d.prototype.showErrorModal=function(o,n){var i=this,a=uitk.modal.create({content:"<p>"+this.getErrorMessage(o)+"</p>",focusClose:n,modalId:"geolocationErrorModal",title:d.MESSAGES.ERROR_TITLE});uitk.subscribe("modal.close",function(e,t){t===a&&(i.errorConfigMap[o].closeTypeahead||$("#"+n).trigger("focus",!0))})},d.MESSAGES={ERROR_TITLE:o.geolocationErrorTitle||"We are unable to determine your current location",FINDING_GEOLOCATION:o.geolocationFindingMessage||"Finding your current location",PERMISSION_DENIED:o.geolocationPermissionDeniedMessage||"Please turn on the location services on your device so we can determine your location or type in a destination.",POSITION_UNAVAILABLE:o.geolocationPositionUnavailableMessage||"Please type in a destination.",TIMEOUT:o.geolocationTimeoutMessage||"Please retry or type in a destination.",UNKNOWN_ERROR:o.geolocationUnknownErrorMessage||"Please retry or type in a destination."},d);function d(e){var o=this;this.geolocationDataProvider=e,this.errorConfigMap={1:{code:1,closeTypeahead:!0,message:d.MESSAGES.PERMISSION_DENIED},2:{code:2,closeTypeahead:!0,message:d.MESSAGES.POSITION_UNAVAILABLE},3:{code:3,closeTypeahead:!1,message:d.MESSAGES.TIMEOUT},4:{code:4,closeTypeahead:!1,message:d.MESSAGES.UNKNOWN_ERROR}},this.interstitialContentSelector=".wrap",l.TypeaheadMessage.subscribe(r.ElementFocusedMessage.getTopic(),function(e,t){o.domElementId=t.getDomElementId()}),l.TypeaheadMessage.subscribe(s.SuggestionSelectedMessage.getTopic(),function(e,t){n.GeolocationDataProvider.CATEGORY!==t.getSuggestion().getCategory().orElse("")||o.isGeolocationAvailable()||o.geolocationDataProvider.findGeolocation(t.getDomElementId())}),l.TypeaheadMessage.subscribe(i.GeolocationRequestMessage.getTopic(),function(e,t){o.showInterstitial(t.getDomElementId())}),l.TypeaheadMessage.subscribe(a.GeolocationResponseMessage.getTopic(),function(e,t){o.handleGeolocationResponse(t)})}t.GeolocationViewController=c});__extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();define("typeahead/core/geolocation/MercuryGeolocationViewController",["require","exports","typeahead/core/loc","typeahead/core/geolocation/GeolocationDataProvider","typeahead/core/geolocation/GeolocationViewController","typeahead/core/geolocation/message/GeolocationClearedMessage","typeahead/core/message/FormSubmittedMessage","typeahead/core/message/SubmitClickedMessage","typeahead/core/message/SuggestionAutoSelectedMessage","typeahead/core/message/TypeaheadMessage","typeahead/core/SearchParametersUpdater","typeahead/core/SuggestionFactory"],function(e,t,o,n,i,a,r,s,l,c,d,p){"use strict";t.__esModule=!0;var u,g=(u=i.GeolocationViewController,__extends(h,u),h.prototype.handlePageLoad=function(i,a){var r=this;this.geolocationDataProvider.fetchData(void 0).done(function(e){var t=e.results[0],o=$("form[data-lob-form="+i.tab+"]").find("input[data-gcw-storeable-name=gcw-destination]"),n=o.closest("div.autocomplete");n.length&&(!a&&("activity"===i.tab||!r.isGeolocationCategory(n)&&o.val())||r.populateCurrentLocationSearchContext(o,t))})},h.prototype.isGeolocationAvailable=function(){return this.getVisibleTypeaheadDivElement().find("[id*=lat_long]").val()},h.prototype.updateSearchParameters=function(e,t){d.updateForSuggestion(void 0,p.createSuggestion(e),t.data(),t.attr("id"))},h.prototype.isGeolocationCategory=function(e){return n.GeolocationDataProvider.CATEGORY===e.find("[id*=category]").val()},h.prototype.isGeolocationSuggestionSelected=function(e){return n.GeolocationDataProvider.CATEGORY===e.find("[id*=region_type]").val()},h.prototype.getVisibleTypeaheadDivElement=function(){return $("div.autocomplete:visible")},h.prototype.disableLocalStorage=function(){this.getVisibleTypeaheadDivElement().find(".gcw-storeable").not("[id*=category]").each(function(e,t){$(t).removeClass("gcw-storeable")})},h.prototype.populateCurrentLocationSearchContext=function(e,t){e.val(t.regionNames.lastSearchName),this.updateSearchParameters(t,e),c.TypeaheadMessage.publish(new l.SuggestionAutoSelectedMessage(p.createSuggestion(t),e.attr("id")))},h);function h(e){var o=u.call(this,e)||this;return o.geolocationDataProvider=e,c.TypeaheadMessage.subscribe(s.SubmitClickedMessage.getTopic(),function(e,t){o.isGeolocationSuggestionSelected(o.getVisibleTypeaheadDivElement())&&(o.isGeolocationAvailable()?o.disableLocalStorage():(t.getEvent()&&t.getEvent().preventDefault(),o.geolocationDataProvider.findGeolocation(o.getVisibleTypeaheadDivElement().find("input[data-gcw-storeable-name=gcw-destination]").attr("id"),$(t.getEvent().currentTarget))))}),c.TypeaheadMessage.subscribe(r.FormSubmittedMessage.getTopic(),function(e,t){t.isFormValid()&&o.isGeolocationSuggestionSelected(o.getVisibleTypeaheadDivElement())&&$("form:has(input[data-provide=utypeahead]):visible").append($("<input>").attr("type","hidden").attr("name","sort").val("distance"))}),c.TypeaheadMessage.subscribe(a.GeolocationClearedMessage.getTopic(),function(e,t){o.updateSearchParameters(t.getGeolocationResult(),$("#"+t.getDomElementId()))}),o}t.MercuryGeolocationViewController=g});__extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();define("typeahead/core/google/AddressAutocompleteFailureMetric",["require","exports","typeahead/core/logging/TypeaheadMetric"],function(e,t,o){"use strict";t.__esModule=!0;var r,n=(r=o.TypeaheadMetric,__extends(i,r),i);function i(e,t,o,n,i){var a=r.call(this,e,t,"AddressAutocompleteFailure",i)||this;return a.userTypedQuery=o,a.status=n,a}t.AddressAutocompleteFailureMetric=n}),define("typeahead/core/google/GoogleMapsDataProvider",["require","exports","typeahead/core/EssDataProvider","typeahead/core/google/AddressAutocompleteFailureMetric","typeahead/core/google/PoweredByGoogleLogo","typeahead/core/IListItem","typeahead/core/logging/CollectorTransport","typeahead/core/logging/ProblemOrigin","typeahead/core/logging/Severity","typeahead/core/logging/TypeaheadErrorLogger","typeahead/core/Suggestion","typeahead/core/TypeaheadUtils"],function(e,t,r,d,o,n,p,s,l,c,i,a){"use strict";t.__esModule=!0;var u=a.TypeaheadUtils.getLocale().replace("_","-"),g=(h.getSuggestionResult=function(e,t){return{category:i.SuggestionCategory[i.SuggestionCategory.GOOGLEMAPS],coordinates:void 0,index:t,listItemType:n.ListItemType.Suggestion,regionNames:{displayName:h.boldMatchedSubStringInPrediction(e),fullName:e.description,lastSearchName:e.description},sourceId:e.place_id,sourceName:"GPA",type:"ADDRESS"}},h.boldMatchedSubStringInPrediction=function(e){for(var t,o=e.description,n="",i=0,a=e.matched_substrings,r=0;r<a.length;r++)t=a[r],n+=o.slice(i,t.offset),n+="<B>"+o.slice(t.offset,t.offset+t.length)+"</B>",i=t.offset+t.length;return n+o.slice(i)},h.mergeResponsesFromGoogleEss=function(e,t){var o={activeABTests:t.activeABTests,isReferralToGoogleMaps:t.isReferralToGoogleMaps,overriddenABTests:t.overriddenABTests,query:t.query,requestId:t.requestId,responseCode:t.responseCode,results:t.results},n=t.results&&0<t.results.length?t.results.length:0;return o=h.updateCombinedResponseResults(o,e,n)},h.updateCombinedResponseResults=function(t,e,o){var n=o;return e.results.forEach(function(e){0<n&&(e.index=n+++""),t.results=t.results.concat(e)}),t},h.prototype.fetchData=function(o,n){var i=this,a=$.Deferred(),e={input:o.srchText,types:r.GoogleRequestType[r.GoogleRequestType.ADDRESS_AUTOCOMPLETE]===o.requestType?["geocode"]:void 0};return google&&google.maps&&google.maps.places&&google.maps.places.AutocompleteService?this.getGoogleAutocompleteService().getPlacePredictions(e,function(e,t){i.handlePredictionsResponse(e,t,o,n,a)}):c.default.log(new Error("Google maps script not loaded"),l.Severity.Excusable,s.ProblemOrigin.UniversalTypeahead),a.promise()},h.prototype.getGoogleAutocompleteService=function(){return this.googleAutocompleteService||(this.googleAutocompleteService=new google.maps.places.AutocompleteService),this.googleAutocompleteService},h.prototype.handlePredictionsResponse=function(e,t,o,n,i){var a=[];if(t===google.maps.places.PlacesServiceStatus.OK){if(e)for(var r=Math.min(h.MAX_RESULTS,e.length),s=0;s<r;s++)a.push(h.getSuggestionResult(e[s],s))}else(new p.CollectorTransport).log(new d.AddressAutocompleteFailureMetric(o.lob,o.domElementId,o.srchText,google.maps.places.PlacesServiceStatus[t],o.activeEssTests),"typeahead_client_metrics");a&&a.length&&a.push(this.getPoweredByGoogleListItem());var l={query:o.srchText,results:a},c=h.mergeResponsesFromGoogleEss(l,n);i.resolve(c)},h.prototype.getPoweredByGoogleListItem=function(){return new n.LabelTypeListItem("<div class='powered_by_google' style='text-align:right;position:relative;top:0.5em;'><img src='"+o.POWERED_BY_GOOGLE_LOGO+"'/></div>","GOOGLEMAPS")},h.isGoogleMapsScriptAdded=!1,h.MAX_RESULTS=5,h);function h(e){void 0===e&&(e=!1),h.isGoogleMapsScriptAdded||e||($.getScript("https://maps.googleapis.com/maps/api/js?client=gme-expedia&channel=ess&libraries=places&language="+u+"&key=AIzaSyCWOZQsnLi-ZUxhocNm3jjhjX9kX_qBpaU"),h.isGoogleMapsScriptAdded=!0)}t.GoogleMapsDataProvider=g});__extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();define("typeahead/core/google/GoogleMapsSuggestion",["require","exports","typeahead/core/Suggestion","typeahead/core/util/Optional"],function(e,t,o,n){"use strict";t.__esModule=!0;var i,a=(i=o.Suggestion,__extends(r,i),r.prototype.getSourceName=function(){return n.Optional.of(this.data.sourceName)},r.prototype.getSourceId=function(){return n.Optional.of(this.data.sourceId)},r.prototype.shouldTriggerDomElementChangeOnSelection=function(){return!0},r.prototype.isAddrAutoComplete=function(){return!0},r);function r(){return null!==i&&i.apply(this,arguments)||this}t.GoogleMapsSuggestion=a}),define("typeahead/core/google/PoweredByGoogleLogo",["require","exports"],function(e,t){"use strict";t.__esModule=!0,t.POWERED_BY_GOOGLE_LOGO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAAASCAYAAAC0PldrAAAIHElEQVR4Ae3ZBXDbWB7H8efglpmZGW0HlhzJDpSZmZkZ3W3s2DpmZmbmKx0zM/NdoGhotxTf9x9LHY027paW85v5bBRQopn32weqasqzk5Jw7BE9nHijHo5/Rw/HfqaHYl/keldZ8GJ7qBeqZ/6PNGlPUT5DeVKNqkyc18PJ6VDPtfEfnvUJz0dmpbwfmzMW6k5YFy96pBRTkCnL4MUDiy94oS0F+ZVZlD/5qxLLfNFkz0D0fBtfKOkpCcffrFfG6vVQ4hDUc6ypQLdDFmMdMiWIcjywaOHEB8zynPEFa1pCOWnHLw2Bej5oKtDzqEC+cGyoWZ5YaTDeGer57r4LRPLRCi40liy0QR4eVB5CG2QhU3KQneG+TM/qQhvk424L1Bwt73P22d9QoFD8bVB3KxVUWTX+gqW1mvvLtbr7Z7V+z6frNM/UlFIuKAD83I2v5y69eiL3y9dPZP/s2tdyPn39ZN7UVEq5oCz8x+WvjC/SQrEv8/u/z/O9siSUKNfC8agWSbrRaIH+p3lH1Pg976jxe38gz8JzzLM/g2QhpmIuIjCwB/0cg6HjGAxEsQQtIZmCtbBnLbY4BngZptkGaQmiMHAUhbCyEJMxCxGsh6QFltruOwIv7BmEfTAQwWwsvYMCTcMqGKat6AJJCXYjD1ZcWIdZsEdK8K50gZLroez4+l4G8j1PURlfAJWaMye7Vvd+otbvTVVr7hvVmvc/ci0YyNdAidTHVPa1EzmfuH4iN0WBbnD9H7lu8PXc10CJYDCVxanvffI8nAZvloQTNenZMXYt/YyJ5Y3tgar9nkCt5n2y4Tl073+5TprPEIYSknW2ARpkWosQOkFSiijK0BtuHME2ZGMMDLSDpBMMU29bYaIYBxfW4wBGojcmw8BIWM8Vwjq40QMubMR+231TYGAYJN1QhVUYgEHYgMgdFCiCBeiLYdiJI2iO9og6St4XBgZnKpAWjm2AsmNZO+E8jdlnqzrdvS49aO4fndWLekDVlbmHMoB/MQewAorCrDML86P6E816QD35lbyhzER/SZcouwJKq0oskd9PSX9aVnm5F1RJVbKQr13IVKCU251b7Xf/WwpcqxfMkVnngm9MW+sZ6gJeD24N1BHkwUouDmI28hDGBNjTDwZGIR9hFEOiYyu2YRIkY1GFhzAABvrCnpVYbyvQAeTAyiBHKa2sNUnmY5/jvnwcvYMCbXDMmG1QBR2SJdhu+5l52NXYMsqA7EsXI/5OKBvEhnMKK7LwtePpgYy9HIpB+lbDIGmFbihLTcAzs6FAuueDUJTkW0hdO5XrhrJc/1reTPk6BfsgZMY7iZS/KumFsmihxIFMBaoNeHxmiT/6H5+7Y41esJcl7K/pmdD9N64n4tZALYQzs7EDvTMMmgtBW7GWYyUk26DDj/1wYYHt+z7bUhixMXDMVqDFznG5zX1HIdmDGbDnTvdAGpzZhGWO/2n6ojnCKIIzDNClwQ1LRmU8ETCS3aEysU5r7FHmQckAyUD9sWJgPpSlNlA4SL7O0vJNqGtfz/6bFKX+SyofyvLk1/IGNcxAX8v9JpS8QpDfX/Ha+nwoC8vplIwFYq/TUFbN+w9Zxqr93vpq3fOFWn/BJFlioYQ1UEvgzHxsRQ8Y6NdIgY6jDBI3wugGA53QxVa+IAogeQwR9EB3h27IVGwfqjLc1xWSnZgNZ5bdQYECcGabrcgubMUCPIZjtztQWPsOZpjvPRq52A7KSatKTpV3QfxcXenL61tASUFk8M7q7gIoiywl6UF1fwBKCmLONAVQlhsn8+aYX/8AVEll4pQ8h7x7grLIRj9TgWo0z8Ppsnqv1eqeyP98hX2hZClrrEDH0QpWWuIYJiMbQcx1TNWjYWCQbY8TwQbshJXdWI+obdPdEwbGwJ7ipylQH2vZdN5nK9AMHEVzx1JUeQcF2uVY+rojimJYGY8q7MdEZIy8MGTwfmHuhf5JkTbJex/fyxJdtcpLDzNob5JNrbn/mQMl2ECvNpeKn1sDV6MVjGEz/U9zWSmFYuO82tzr/PzK6fy+UFdP5o6hNP9M742ySyFL1VJrDxSIXu4NJUunvAXPVCApCfufP5p7rg1y2pMZkeswX/u+zIawF0jtwyOmvThiK5UXBhbDgwkIY7mjVKthoBRWymE0MngLbXsrN+bbS5WhQC4sRggVjvtGQ9IWQexGMR7BfjxxBwV6AptRgBIcxU7kwkoODiOCtrhtZOZhkD52m3/KiFGs+VCAdYT3fsicAer5WIcU4DGghPzcta/nfKjhFPa13HrUybW5fBlQQk5hWmXi/fL3rNnuTk5hdX6Pl79/wTwNXrJOYbIXOh9w98atgVqAx7EPx7AUHWDPSGy2la0MOY38zCp0gZWuWNXIbJONAPYhhK0YDSsTocGZbJRmuM9KJ6zAceyHD489zYyxCGMwGYdts24LOLMWi3DHkQ0sg/QqWU5KwvEf4HPMDHseDcc6QTnJUiH7EGajz8g7GPYiH2EWKoOyk/c9vAeax6zzGcryAz5+5PrJ7DIoO37QxTufhRT0C+zLvst11FrC5JQG5f7IrJd5Pjzzx56Pzh4CJc76CnryHugVPMe3OcqfYTkLymkMCpk30RnTlG62jfQLIr5gKkf+wVY29lAWWULTM2HsMah70VSgu888bIULL4hw2pqRPhEmfiMbadmbyWzE/utqSSj2nznBVB7UvWgq0N2lLSIYhxdOWL5k+Xzq/it2mdcGAah7ZV00eQlgxvFRpNfJeyc+Bn2RK32h7sf/AesqcHB02e65AAAAAElFTkSuQmCC"}),define("typeahead/core/logging/CollectorTransport",["require","exports"],function(e,t){"use strict";t.__esModule=!0;var o=(n.prototype.log=function(e,t){var o=!0;Array.isArray(e)||(o=!1);var n="//"+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/cl/data/"+t+".json?stream=true&persist=true&batch="+(o?"true":"false");$.ajax({contentType:"application/json; charset=UTF-8",data:JSON.stringify(e),dataType:"json",type:"POST",url:n})},n);function n(){}t.CollectorTransport=o}),define("typeahead/core/logging/DctkClientLogErrorTransport",["require","exports","typeahead/core/logging/ProblemOrigin","typeahead/core/logging/Severity"],function(r,e,s,l){"use strict";e.__esModule=!0;var t=(o.prototype.log=function(o,n,e,i){var a=this;void 0===i&&(i={});try{if("object"!=typeof i){var t=i;(i={}).additional_info=t}n in[0,1,2]&&(i.severity=l.Severity[n]),e&&(i.problemOrigin=s.ProblemOrigin[e]),l.Severity.MustFix!==n&&o&&(i.message=o.message,i.name=o.name,i.stack=o.stack),r(["dctk/clientLogging","dctk/dctk"],function(e){a.isPlatformAnalyticsEnabled||(a.isDctkEnabled=!0,a.doDctkClientLogging(o,n,i,e))}),r(["PlatformAnalytics"],function(e){if(!a.isDctkEnabled){a.isPlatformAnalyticsEnabled=!0;var t=e.getInstance()||e.newInstance();a.doPlatformAnalyticsClientLogging(o,n,i,t.getClientLog())}})}catch(o){}},o.prototype.doDctkClientLogging=function(e,t,o,n){l.Severity.MustFix===t?n.logError(this.UTA_LABEL,e,o):n.logMessage(this.UTA_LABEL,o)},o.prototype.doPlatformAnalyticsClientLogging=function(e,t,o,n){o&&"guid"in o&&delete o.guid;var i=Object.keys(o).map(function(e){return e+"="+o[e]});l.Severity.MustFix===t?n.logError(this.UTA_LABEL,e,i):n.logMessage(this.UTA_LABEL,void 0,i)},o);function o(){this.UTA_LABEL="UniversalTypeahead",this.isDctkEnabled=!1,this.isPlatformAnalyticsEnabled=!1}e.DctkClientLogErrorTransport=t}),define("typeahead/core/logging/Element",["require","exports","typeahead/core/Suggestion","typeahead/core/util/Optional","typeahead/core/IListItem"],function(e,t,o,n,i){"use strict";t.__esModule=!0;var a=(r.prototype.setElementFocused=function(){this.elementFocused=!0},r.prototype.setSuggestionShown=function(e){this.suggestionShown=!0,e&&e.length&&"POPULAR"===e[0].category||this.setSuggestionCount(e)},r.prototype.setSuggestionSelected=function(e,t){this.suggestionSelected=!0,this.mostRecentSelection=n.Optional.of(e),this.value=e.getDisplayText(),this.requestId=t},r.prototype.setMostRecentInputValue=function(e){this.suggestionSelected=!1,this.mostRecentInputValue=e,this.mostRecentSelection=n.Optional.empty(),this.value=e},r.prototype.isSuggestionShown=function(){return this.suggestionShown},r.prototype.isSuggestionSelected=function(){return this.suggestionSelected},r.prototype.getMostRecentInputValue=function(){return this.mostRecentInputValue},r.prototype.getEssSuggestionCount=function(){return this.essSuggestionCount},r.prototype.getMostRecentSelection=function(){return this.mostRecentSelection},r.prototype.getVal=function(){return this.value},r.prototype.getElemId=function(){return this.elementID},r.prototype.getRequestId=function(){return this.requestId},r.prototype.setSuggestionCount=function(e){var t=this;this.userHistorySuggestionCount=0,this.essSuggestionCount=0,e&&e.forEach(function(e){if(i.ListItemType.Label!==e.listItemType)switch(e.category){case o.SuggestionCategory[o.SuggestionCategory.USERHISTORY]:t.userHistorySuggestionCount++;break;case o.SuggestionCategory[o.SuggestionCategory.GEOLOCATION]:case o.SuggestionCategory[o.SuggestionCategory.GOOGLEMAPS]:break;default:t.essSuggestionCount++}})},r);function r(e){void 0===e&&(e=""),this.domElementId=e,this.value="",this.mostRecentSelection=n.Optional.empty(),this.mostRecentInputValue="",this.essSuggestionCount=0,this.userHistorySuggestionCount=0,this.elementFocused=!1,this.suggestionShown=!1,this.suggestionSelected=!1,this.requestId="",e&&(this.value=$("#"+e).val()||"",this.elementID=e)}t.Element=a}),define("typeahead/core/logging/ErrorLogger",["require","exports"],function(e,t){"use strict";t.__esModule=!0;var o=(n.prototype.log=function(e,t,o,n){void 0===n&&(n={});try{this.transport.log(e,t,o,n)}catch(e){}},n);function n(e){this.transport=e}t.ErrorLogger=o}),define("typeahead/core/logging/ErrorTransport",["require","exports"],function(e,t){"use strict";t.__esModule=!0}),define("typeahead/core/logging/Leg",["require","exports","typeahead/core/logging/Element","typeahead/core/logging/ProblemOrigin","typeahead/core/logging/Severity","typeahead/core/logging/TypeaheadErrorLogger"],function(e,t,n,i,a,r){"use strict";t.__esModule=!0;var o=(s.isOrigin=function(e){return-1<(e=e.toLowerCase()).indexOf("origin")||-1<e.indexOf("from")||-1<e.indexOf("departure")||-1<e.indexOf("drop")},s.isDestination=function(e){return-1<(e=e.toLowerCase()).indexOf("dest")||-1<e.indexOf("to")||-1<e.indexOf("arrival")||-1<e.indexOf("near")||-1<e.indexOf("pick")||0===e.indexOf("location")||-1<e.indexOf("uta-search-input")||-1<e.indexOf("opensearch")},s.prototype.getElement=function(e){var t=s.isOrigin(e),o=s.isDestination(e);if(e){if(t)return this.origin||(this.origin=new n.Element(e)),this.origin;if(o)return this.destination||(this.destination=new n.Element(e)),this.destination}return t||o||r.default.log(new Error("Could not determine origin or destination type for domElementId - "+e),a.Severity.MustFix,i.ProblemOrigin.ClientOfUniversalTypeahead),e?new n.Element(e):new n.Element},s.prototype.getOriginElement=function(){return this.origin?this.origin:this.getElement("origin")},s.prototype.getDestinationElement=function(){return this.destination?this.destination:this.getElement("destination")},s);function s(){}t.Leg=o}),define("typeahead/core/logging/OmnitureLogger",["require","exports","typeahead/core/logging/Element","typeahead/core/logging/Leg","typeahead/core/logging/ProblemOrigin","typeahead/core/logging/Severity","typeahead/core/logging/TypeaheadErrorLogger","typeahead/core/message/ElementFocusedMessage","typeahead/core/message/FormSubmittedMessage","typeahead/core/message/InputValueEditedMessage","typeahead/core/message/SubmitClickedMessage","typeahead/core/message/SuggestionAutoSelectedMessage","typeahead/core/message/SuggestionSelectedMessage","typeahead/core/message/SuggestionShownMessage","typeahead/core/message/TypeaheadMessage","typeahead/core/message/UserExitedMessage","typeahead/core/Suggestion","typeahead/core/TypeaheadUtils","typeahead/core/util/Optional"],function(e,t,o,n,i,a,r,s,l,c,d,p,u,g,h,f,y,m,v){"use strict";var b,T;t.__esModule=!0,(T=b=t.TrackingDataTriggers||(t.TrackingDataTriggers={})).blur="blur",T.submit="submit";var S=(E.getLegIndex=function(e){var t=e.replace(/\D/g,"");return t?parseInt(t,10)-1:0},E.getBasicReport=function(e,t,o,n,i,a,r,s){return[E.getLaunchView(a),E.getWizardName(e,a),E.getTab(t),E.getShortLob(t,o,n,i),r,s].filter(Boolean).join("|")},E.getWizardName=function(e,t){var o;if(e)switch(e){case"FLT.SR|UpdateSearch":case"HOT.SR|UpdateSearch":case"Open.Search|UpdateSearch":o="UpdateSearch";break;default:o="CoreWzd"}else if(t)switch(t){case"Flights.Search":case"Hotels.Search":o="UpdateSearch";break;default:o="CoreWzd"}return o},E.getShortLob=function(e,t,o,n){switch(e){case m.Lob.Flight:switch(t){case m.FlightType.OneWay:return"F.OW";case m.FlightType.RoundTrip:return"F.RT";case m.FlightType.MultiDestination:return"F.MD";default:return"-"}case m.Lob.Hotel:return"H";case m.Lob.VacationRental:return"VR";case m.Lob.Package:switch(o){case m.PackageType.FlightHotelCar:return"FHC";case m.PackageType.HotelCar:return"HC";case m.PackageType.FlightCar:return"FC";case m.PackageType.FlightHotel:return"FH";default:return"-"}case m.Lob.Activity:return"LX";case m.Lob.Rail:switch(n){case m.RailType.OneWay:return"R.OW";case m.RailType.RoundTrip:return"R.RT";default:return"-"}case m.Lob.Cruise:return"CR";case m.Lob.Car:return"C";case m.Lob.OpenSearch:return"OS";default:return"-"}},E.getLaunchView=function(e){return-1<(e=e.toLowerCase()).indexOf("home")?"Home":-1<e.indexOf("flight")?"FLT":-1<e.indexOf("hotels.search")?"HOT.SR":-1<e.indexOf("hotel")?"HTL":-1<e.indexOf("vacationrental")?"VR":-1<e.indexOf("pack")?"PKG":-1<e.indexOf("car")?"CAR":-1<e.indexOf("cru")?"CRU":-1<e.indexOf("lx")?"LX":-1<e.indexOf("rail")?"RAIL":-1<e.indexOf("open")?"OPEN":e},E.getTab=function(e){switch(e){case m.Lob.Flight:return"Flights";case m.Lob.Hotel:return"Hotels";case m.Lob.Package:return"Package";case m.Lob.Car:return"Car";case m.Lob.Cruise:return"Cruise";case m.Lob.Activity:return"Activity";case m.Lob.Rail:return"Rails";case m.Lob.VacationRental:return"VacationRental";case m.Lob.OpenSearch:return"OpenSearch";default:return"Unknown"}},E.getSuggestionInfo=function(e){var t=e.getSearchedRegion(),o=e.getSelectedRegion();return t===o&&(o="-"),e.getSourceName().orElse("-")+":"+t+"|"+e.getType().orElse("-")+"|R#"+e.getRelationInfo().orElse("-")+"|"+o+"|"+e.getRegionNames().orElse(E.emptyRegionNames).lastSearchName+(E.isSuggestionInCategory(e,y.SuggestionCategory.USERHISTORY)?"|"+y.SuggestionCategory[y.SuggestionCategory.USERHISTORY]:E.isSuggestionInCategory(e,y.SuggestionCategory.HOMEAIRPORT)?"|"+y.SuggestionCategory[y.SuggestionCategory.HOMEAIRPORT]:E.isSuggestionInCategory(e,y.SuggestionCategory.NEARBY_LOCATION)?"|"+y.SuggestionCategory[y.SuggestionCategory.NEARBY_LOCATION]:"")},E.isSuggestionInCategory=function(e,t){return y.SuggestionCategory[t]===e.getCategory().orElse("")},E.getMultiFlightSuggestionInfo=function(e){return e.getSourceName().orElse("-")+":"+e.getSourceId().orElse("-")+"|"+e.getType().orElse("-")},E.isFlightInvolved=function(e,t){return m.Lob.Flight===e||m.Lob.Package===e&&(m.PackageType.FlightCar===t||m.PackageType.FlightHotelCar===t||m.PackageType.FlightHotel===t)},E.prototype.setMostRecentElementInteracted=function(e){this.mostRecentElementInteracted=e},E.prototype.getElement=function(e){var t=E.getLegIndex(e);return this.legs[t]||(this.legs[t]=new n.Leg),this.legs[t].getElement(e)},E.prototype.getEvar48=function(e,t){if(e===m.Lob.Flight&&t===m.FlightType.MultiDestination)return this.getMultiFlightEvar48();var o=this.legs[0].getDestinationElement();if(o.getMostRecentSelection().isPresent()){var n=o.getMostRecentSelection().get();if(this.shouldGetSuggestionInfo(n))return E.getSuggestionInfo(n)}return"-:-|-|R#-|-|"+(o.getVal()||"TANoneSelected")},E.prototype.getProp73=function(e,t,o){if(m.Lob.Flight===e&&t===m.FlightType.MultiDestination)return this.getMultiFlightProp73();if(E.isFlightInvolved(e,o)||m.Lob.Car===e||m.Lob.Rail===e){var n=this.legs[0].getOriginElement();return n.getMostRecentSelection().isPresent()?E.getSuggestionInfo(n.getMostRecentSelection().get()):"-:-|-|R#-|-|"+(n.getVal()||"TANoneSelected")}return m.Lob.Hotel===e||m.Lob.Activity===e||m.Lob.Package===e&&o===m.PackageType.HotelCar?"-:-|-|R#-|-|OriginNotApplicable":""},E.prototype.getProp74=function(e,t,o){var n=this.mostRecentElementInteracted.orElse(E.emptyElement),i='"'+n.getMostRecentInputValue()+'"';if(v.Optional.ofNullable(o).isPresent()?i=i+"|"+o:n.getRequestId()&&(i=i+"|"+n.getRequestId()),e===m.Lob.Flight&&t===m.FlightType.MultiDestination){for(var a=[],r=[],s=0,l=this.legs;s<l.length;s++){var c=l[s];a.push(c.getOriginElement().getVal()),r.push(c.getDestinationElement().getVal())}i+="|"+a.join("#")+"|"+r.join("#")}return i},E.prototype.getTypeaheadTrigger=function(){var e="";return this.mostRecentElementInteracted.isPresent()?this.mostRecentElementInteracted.get().isSuggestionShown()?(e="TAShow",this.mostRecentElementInteracted.get().isSuggestionSelected()?this.mostRecentElementInteracted.get().getMostRecentInputValue()?e+=".TASelection":e+=".TAFocus":this.mostRecentElementInteracted.get().getMostRecentInputValue()||!this.mostRecentElementInteracted.get().getVal()?e+=".TANoSelection":e+=".TAPrevSearch"):this.isNearbyCurrentLocationSelection()?e="TANoShow.TAAutoSelection":(e="TANoShow",this.mostRecentElementInteracted.get().getMostRecentInputValue()||(e+=".TAPrevSearch")):e=this.isAutoSelected?"TANoShow.TAAutoSelection":"TANoShow.TAPrevSearch",e},E.prototype.getEventString=function(){if(this.mostRecentElementInteracted.isPresent()&&this.mostRecentElementInteracted.get().isSuggestionShown()){var e=this.mostRecentElementInteracted.get().getMostRecentInputValue(),t="event45";return t=e?"event46="+e.length+","+t:"event46=0,"+t,this.mostRecentElementInteracted.get().getMostRecentSelection().isPresent()&&(t="event44="+this.mostRecentElementInteracted.get().getMostRecentSelection().get().getPosition()+","+t),t}return""},E.prototype.getHierarchyCode=function(){return this.mostRecentElementInteracted.orElse(E.emptyElement).getMostRecentSelection().isPresent()?this.mostRecentElementInteracted.get().getMostRecentSelection().get().getHierarchyCode():"DL#-"},E.prototype.getSelectedSuggestionPostion=function(){return this.mostRecentElementInteracted.orElse(E.emptyElement).getMostRecentSelection().isPresent()?this.mostRecentElementInteracted.get().getMostRecentSelection().get().getPosition().toString():"-"},E.prototype.getInstrumentationValue=function(e){return[-1<[m.Lob.Flight,m.Lob.Hotel].indexOf(e)?this.getHierarchyCode():"L#"+this.getSelectedSuggestionPostion(),"ESS#"+this.mostRecentElementInteracted.orElse(E.emptyElement).getEssSuggestionCount()].filter(Boolean).join("|")},E.prototype.getTADetails=function(e,t){var o=[this.getTypeaheadTrigger(),this.getInstrumentationValue(e)];return b.blur===t&&o.push(this.mostRecentElementInteracted.get().getElemId()),o.filter(Boolean).join("|")},E.prototype.getTrackingData=function(e,t,o,n){var i=m.TypeaheadUtils.getLob(),a=m.TypeaheadUtils.getFlightType(i),r=m.TypeaheadUtils.getRailType(i),s=m.TypeaheadUtils.getPackageType(),l=m.TypeaheadUtils.getClientId();return e||b.blur===o?this.getValidFormTrackingdata(t,i,a,s,r,l,o,n):this.getInvalidFormTrackingdata(t,i,a,s,r,l)},E.prototype.resetLoggerState=function(){this.mostRecentElementInteracted=v.Optional.empty(),this.legs=[new n.Leg],this.activeESSTests=""},E.prototype.submitTrackingData=function(e,t){try{if(t){var o=this.getTrackingData(!0,e,b.submit);m.TypeaheadUtils.submitToOmniture("wizard-submit",o,this.activeESSTests),this.resetLoggerState()}else o=this.getTrackingData(!1,e,b.submit),m.TypeaheadUtils.submitToOmniture("wizard-submit",o,null),this.resetLoggerState()}catch(e){r.default.log(new Error("Error occurred while submitting typeahead tracking data to Omniture"),a.Severity.Excusable,i.ProblemOrigin.UniversalTypeahead),console.error("Error occurred while submitting typeahead tracking data to Omniture.\nCause:\n"+e.stack)}},E.prototype.blurTrackingData=function(e){var t=e.getContext(),o=m.TypeaheadUtils.getClientId(),n=e.getDomElementId(),i=e.getRequestId();if(E.blurTrackingApplicableClients[o]&&n){var a=this.getTrackingData(void 0,t,b.blur,i);m.TypeaheadUtils.submitToOmniture("typeahead-blur",a,null);var r=a.eVar28.substring(0,a.prop16.lastIndexOf("|"));a.eVar28=r,a.prop16=r}},E.prototype.getValidFormTrackingdata=function(e,t,o,n,i,a,r,s){this.populateNonInteractedElements();var l=(this.rfrrIdPrefix?this.rfrrIdPrefix+"|"+E.getTab(t)+"|"+E.getShortLob(t,o,n,i)+"|"+e.locale+"|"+e.siteid:E.getBasicReport(this.rfrrIdPrefix,t,o,n,i,a,e.locale,e.siteid))+"|"+this.getTADetails(t,r);return{eVar28:l,eVar48:this.getEvar48(t,o),eventString:this.getEventString(),prop16:l,prop73:this.getProp73(t,o,n),prop74:this.getProp74(t,o,s)}},E.prototype.getInvalidFormTrackingdata=function(e,t,o,n,i,a){var r;return this.rfrrIdPrefix?{eVar28:r=this.rfrrIdPrefix+"|"+E.getShortLob(t,o,n,i)+"|"+e.locale+"|"+e.siteid+"|Form-Invalid",prop16:r}:{eVar28:r=E.getBasicReport(this.rfrrIdPrefix,t,o,n,i,a,e.locale,e.siteid)+"|Form-Invalid",prop16:r}},E.prototype.getMultiFlightEvar48=function(){for(var e="",t=0,o=this.legs;t<o.length;t++){var n=o[t];e+=(n.getDestinationElement().getMostRecentSelection().isPresent()?E.getMultiFlightSuggestionInfo(n.getDestinationElement().getMostRecentSelection().get()):"-:-|-")+"#"}return e.slice(0,-1)},E.prototype.getMultiFlightProp73=function(){for(var e="",t=0,o=this.legs;t<o.length;t++){var n=o[t];e+=(n.getOriginElement().getMostRecentSelection().isPresent()?E.getMultiFlightSuggestionInfo(n.getOriginElement().getMostRecentSelection().get()):"-:-|-")+"#"}return e.slice(0,-1)},E.prototype.populateNonInteractedElements=function(){var n=this;$("input[data-provide=utypeahead]:visible").each(function(e,t){var o=$(t).attr("id");n.getElement(o)})},E.prototype.areTypeaheadInputsNonEmpty=function(e){return 0===e.find("input.gcw-required[data-provide=utypeahead]:visible").filter(function(e,t){return!$(t).val()}).length},E.prototype.isNearbyCurrentLocationSelection=function(){return!!this.isAutoSelected&&!!this.mostRecentElementInteracted.isPresent()&&!!this.mostRecentElementInteracted.get().getMostRecentSelection().isPresent()&&m.TypeaheadUtils.getLob()===m.Lob.Activity&&this.isNearbyLocationSuggestion(this.mostRecentElementInteracted.get().getMostRecentSelection().get())},E.prototype.isNearbyLocationSuggestion=function(e){return e&&e.getCategory().isPresent()&&"NEARBY_LOCATION"===e.getCategory().get()},E.prototype.shouldGetSuggestionInfo=function(e){return m.TypeaheadUtils.getLob()===m.Lob.Activity||!this.isNearbyLocationSuggestion(e)},E.emptyRegionNames={fullName:"-",lastSearchName:"-"},E.blurTrackingApplicableClients={AWSHomepage:!0,"Cars.Search":!0,CarsLandingPage:!0,"Flights.Search":!0,FlightsLandingPage:!0,Homepage:!0,"Hotels.Search":!0,HotelsLandingPage:!0,"LX.Search":!0,LXLandingPage:!0,OpenSearchPage:!0,PackageLandingPage:!0,RailsLandingPage:!0},E.emptyElement=new o.Element,E);function E(){var o=this;this.rfrrIdPrefix="",this.isAutoSelected=!1,this.resetLoggerState(),h.TypeaheadMessage.subscribe(s.ElementFocusedMessage.getTopic(),function(e,t){o.getElement(t.getDomElementId()).setElementFocused()}),h.TypeaheadMessage.subscribe(g.SuggestionShownMessage.getTopic(),function(e,t){o.getElement(t.getDomElementId()).setSuggestionShown(t.getShownSuggestions()),o.mostRecentElementInteracted=v.Optional.of(o.getElement(t.getDomElementId())),o.activeESSTests=t.getActiveESSTests()}),h.TypeaheadMessage.subscribe(c.InputValueEditedMessage.getTopic(),function(e,t){o.getElement(t.getDomElementId()).setMostRecentInputValue(t.getNewInputValue()),t.getNewInputValue()&&(o.mostRecentElementInteracted=v.Optional.of(o.getElement(t.getDomElementId())))}),h.TypeaheadMessage.subscribe(p.SuggestionAutoSelectedMessage.getTopic(),function(e,t){o.getElement(t.getDomElementId()).setSuggestionSelected(t.getSuggestion(),""),o.isAutoSelected=!0}),h.TypeaheadMessage.subscribe(u.SuggestionSelectedMessage.getTopic(),function(e,t){o.getElement(t.getDomElementId()).setSuggestionSelected(t.getSuggestion(),t.getRequestId()),o.mostRecentElementInteracted=v.Optional.of(o.getElement(t.getDomElementId()))}),h.TypeaheadMessage.subscribe(d.SubmitClickedMessage.getTopic(),function(e,t){o.rfrrIdPrefix=t.getRfrrIdPrefix(),m.TypeaheadUtils.isStorefrontClient()&&o.areTypeaheadInputsNonEmpty($(t.getEvent().target).parents("form:first"))&&o.submitTrackingData(t.getContext(),!0)}),h.TypeaheadMessage.subscribe(l.FormSubmittedMessage.getTopic(),function(e,t){m.TypeaheadUtils.isStorefrontClient()||o.submitTrackingData(t.getContext(),t.isFormValid())}),h.TypeaheadMessage.subscribe(f.UserExitedMessage.getTopic(),function(e,t){t.getDomElementId()&&(o.mostRecentElementInteracted=v.Optional.of(o.getElement(t.getDomElementId()))),o.blurTrackingData(t)})}t.OmnitureLogger=S}),define("typeahead/core/logging/PerformanceMetrics",["require","exports","typeahead/core/plugins/ExecutionHelper","typeahead/core/TypeaheadUtils"],function(e,t,r,s){"use strict";t.__esModule=!0;var o=(l.logServiceEndpoint=function(e){l.serviceEndpointId||(l.serviceEndpointId=""===e?"akamai":"ess")},l.getAdditionalMetric=function(){return{deviceType:s.TypeaheadUtils.getDeviceType(),guid:s.TypeaheadUtils.getGuid(),lob:s.Lob[s.TypeaheadUtils.getLob()],locale:s.TypeaheadUtils.getLocale(),pageId:s.TypeaheadUtils.getPageId(),pointOfSale:s.TypeaheadUtils.getPointOfSale(),serviceEndpointId:l.serviceEndpointId,siteId:s.TypeaheadUtils.getSiteId(),userAgent:navigator.userAgent}},l.prototype.logRequest=function(e,t,o){var n={inputElementId:t,query:o,timestamp:Date.now(),triggerType:e};this.entries.push({request:n})},l.prototype.logResponse=function(e,t,o,n){var i=this.getRequestMetricEntry(e,t);if(i){var a=Date.now();i.response={inputElementId:e,latency:a-i.request.timestamp,query:t,suggestionCount:o,timestamp:a},!this.activeEssTests&&n&&(this.activeEssTests=n)}},l.prototype.logError=function(e){s.TypeaheadUtils.ZERO_RESULTS_CAUSED_BY_EXCEPTION===e?this.countZeroResultsByException++:s.TypeaheadUtils.isStatusCodeInRange(e,200,299)||this.essErrorCount++},l.prototype.getAggregatedMetric=function(){if(this.entries.length){for(var e={},t=this.MAX_TRIGGER_COUNT_FOR_AGGREGATED_LOGGING<this.entries.length?this.MAX_TRIGGER_COUNT_FOR_AGGREGATED_LOGGING:this.entries.length,o=0;o<t;o++){var n=this.entries[o];n.response&&(e["latency"+o]=n.response.latency)}e.latencyMedian=this.getMedianLatency();var i=this.getWorstLatencyMetric();e.queryWorst=i?this.getWorstLatencyMetric().response.query:void 0,e.latencyWorst=i?this.getWorstLatencyMetric().response.latency:void 0;var a=this.entries[this.entries.length-1];return e.queryLast=a.request.query,e.latencyLast=a.response?a.response.latency:void 0,e.totalTriggers=this.entries.length,e.totalSuccess=this.getSuccessMetrics().length,e.inputElementId=this.entries[0].request.inputElementId,e.lob=s.Lob[s.TypeaheadUtils.getLob()],e.variants=[r.abTest.getActiveClientTests(),this.activeEssTests].filter(Boolean).join("|"),e.name=this.METRIC_NAME,0<this.essErrorCount&&(e.essErrorCount=this.essErrorCount),0<this.countZeroResultsByException&&(e.countZeroResultsByException=this.countZeroResultsByException),e.serviceEndpointId=l.serviceEndpointId,e}},l.prototype.getAllEntries=function(){for(var e=[],t=0;t<this.entries.length;t++)e.push($.extend(this.entries[t].request,l.getAdditionalMetric())),this.entries[t].response&&e.push($.extend(this.entries[t].response,l.getAdditionalMetric()));return e},l.prototype.getRequestMetricEntry=function(e,t){for(var o=0;o<this.entries.length;o++){var n=this.entries[o];if(n.request.inputElementId===e&&n.request.query===t&&!n.response)return n}},l.prototype.getWorstLatencyMetric=function(){for(var e,t=0;t<this.entries.length;t++){var o=this.entries[t];o.response&&(!e||e.response.latency<o.response.latency)&&(e=o)}return e},l.prototype.getMedianLatency=function(){var e,t=this.getSuccessMetrics();if(t.sort(function(e,t){return e.response.latency-t.response.latency}),t.length){var o=Math.floor(t.length/2);e=t.length%2?t[o].response.latency:(t[o-1].response.latency+t[o].response.latency)/2}return e},l.prototype.getSuccessMetrics=function(){return this.entries.filter(function(e){return e.response})},l);function l(){this.entries=[],this.MAX_TRIGGER_COUNT_FOR_AGGREGATED_LOGGING=10,this.METRIC_NAME="UtaPerformanceMetric",this.essErrorCount=0,this.countZeroResultsByException=0}t.PerformanceMetrics=o}),define("typeahead/core/logging/PerformanceMetricsLogger",["require","exports","typeahead/core/logging/CollectorTransport","typeahead/core/logging/PerformanceMetrics","typeahead/core/logging/TypeaheadErrorLogger","typeahead/core/message/ElementFocusedMessage","typeahead/core/message/EssErrorMessage","typeahead/core/message/InputValueEditedMessage","typeahead/core/message/SuggestionReadyMessage","typeahead/core/message/TypeaheadMessage","typeahead/core/message/UserExitedMessage"],function(e,t,o,n,i,a,r,s,l,c,d){"use strict";t.__esModule=!0;var p=(u.prototype.resetLogger=function(){this.metrics=new n.PerformanceMetrics},u.prototype.emitMetrics=function(){this.emitToSplunk(),this.emitToCollector(),this.resetLogger()},u.prototype.emitToSplunk=function(){var e=this.metrics.getAggregatedMetric();e&&i.default.log(void 0,void 0,void 0,e)},u.prototype.emitToCollector=function(){var e=this.metrics.getAllEntries();e&&e.length&&(new o.CollectorTransport).log(e,"typeahead_performance")},u);function u(){var o=this;this.TRIGGER_TYPE_FOCUS="focus",this.TRIGGER_TYPE_INPUT="input",this.metrics=new n.PerformanceMetrics,c.TypeaheadMessage.subscribe(a.ElementFocusedMessage.getTopic(),function(e,t){o.metrics.logRequest(o.TRIGGER_TYPE_FOCUS,t.getDomElementId(),""),n.PerformanceMetrics.logServiceEndpoint(t.getContext()&&t.getContext().serviceUrl)}),c.TypeaheadMessage.subscribe(s.InputValueEditedMessage.getTopic(),function(e,t){""!==t.getNewInputValue()&&o.metrics.logRequest(o.TRIGGER_TYPE_INPUT,t.getDomElementId(),t.getNewInputValue())}),c.TypeaheadMessage.subscribe(l.SuggestionReadyMessage.getTopic(),function(e,t){o.metrics.logResponse(t.getDomElementId(),t.getQuery(),t.getSuggestions()?t.getSuggestions().length:0,t.getActiveEssTests())}),c.TypeaheadMessage.subscribe(r.EssErrorMessage.getTopic(),function(e,t){o.metrics.logError(t.getStatusCode())}),c.TypeaheadMessage.subscribe(d.UserExitedMessage.getTopic(),function(){o.emitMetrics()})}t.PerformanceMetricsLogger=p}),define("typeahead/core/logging/ProblemOrigin",["require","exports"],function(e,t){"use strict";var o;t.__esModule=!0,(o=t.ProblemOrigin||(t.ProblemOrigin={}))[o.Unspecified=0]="Unspecified",o[o.ExpediaSuggestService=1]="ExpediaSuggestService",o[o.UniversalTypeahead=2]="UniversalTypeahead",o[o.ClientOfUniversalTypeahead=3]="ClientOfUniversalTypeahead",o[o.DataCaptureToolkit=4]="DataCaptureToolkit",o[o.TypeaheadInteractionMetric=5]="TypeaheadInteractionMetric"}),define("typeahead/core/logging/ScanabilityLogger",["require","exports","typeahead/core/logging/CollectorTransport","typeahead/core/logging/ScanabilityMetric","typeahead/core/message/SuggestionSelectedMessage","typeahead/core/message/SuggestionShownMessage","typeahead/core/message/TypeaheadMessage"],function(e,t,o,n,i,a,r){"use strict";t.__esModule=!0;var s=(l.prototype.emitScanabilityMetric=function(){(new o.CollectorTransport).log(new n.ScanabilityMetric(this.lob,this.domElementId,this.suggestionShownTimestamp,this.suggestionSelectedTimestamp,this.selectionMethod,this.activeESSTests),"typeahead_client_metrics")},l);function l(){var o=this;this.activeESSTests="",r.TypeaheadMessage.subscribe(a.SuggestionShownMessage.getTopic(),function(e,t){o.domElementId=t.getDomElementId(),o.lob=t.getLob(),o.activeESSTests=t.getActiveESSTests(),o.suggestionShownTimestamp=Date.now()}),r.TypeaheadMessage.subscribe(i.SuggestionSelectedMessage.getTopic(),function(e,t){o.domElementId&&(o.selectionMethod=t.getSelectionMethod(),o.suggestionSelectedTimestamp=Date.now(),o.emitScanabilityMetric(),o.domElementId=void 0,o.lob=void 0,o.selectionMethod=void 0,o.suggestionShownTimestamp=0,o.suggestionSelectedTimestamp=0)})}t.ScanabilityLogger=s});__extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();define("typeahead/core/logging/ScanabilityMetric",["require","exports","typeahead/core/logging/TypeaheadMetric"],function(e,t,o){"use strict";t.__esModule=!0;var s,n=(s=o.TypeaheadMetric,__extends(i,s),i);function i(e,t,o,n,i,a){var r=s.call(this,e,t,"scan",a)||this;return r.latency=n-o,r.selectionMethod=i,r}t.ScanabilityMetric=n}),define("typeahead/core/logging/SelectionToSubmissionLogger",["require","exports","typeahead/core/logging/CollectorTransport","typeahead/core/logging/SelectionToSubmissionMetric","typeahead/core/message/SubmitClickedMessage","typeahead/core/message/SuggestionSelectedMessage","typeahead/core/message/SuggestionShownMessage","typeahead/core/message/TypeaheadMessage"],function(e,t,o,n,i,a,r,s){"use strict";t.__esModule=!0;var l=(c.prototype.emitSelectionToSubmissionMetric=function(){(new o.CollectorTransport).log(new n.SelectionToSubmissionMetric(this.lob,this.domElementId,this.suggestionSelectedTimestamp,this.submitClickedTimestamp,this.activeESSTests),"typeahead_client_metrics")},c);function c(){var o=this;this.activeESSTests="",s.TypeaheadMessage.subscribe(r.SuggestionShownMessage.getTopic(),function(e,t){o.activeESSTests=t.getActiveESSTests()}),s.TypeaheadMessage.subscribe(a.SuggestionSelectedMessage.getTopic(),function(e,t){o.domElementId=t.getDomElementId(),o.lob=t.getLob(),o.suggestionSelectedTimestamp=Date.now()}),s.TypeaheadMessage.subscribe(i.SubmitClickedMessage.getTopic(),function(){o.domElementId&&(o.submitClickedTimestamp=Date.now(),o.emitSelectionToSubmissionMetric(),o.domElementId=void 0,o.lob=void 0,o.suggestionSelectedTimestamp=0,o.submitClickedTimestamp=0)})}t.SelectionToSubmissionLogger=l});__extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();define("typeahead/core/logging/SelectionToSubmissionMetric",["require","exports","typeahead/core/logging/TypeaheadMetric"],function(e,t,o){"use strict";t.__esModule=!0;var r,n=(r=o.TypeaheadMetric,__extends(i,r),i);function i(e,t,o,n,i){var a=r.call(this,e,t,"selectionToSubmission",i)||this;return a.latency=n-o,a}t.SelectionToSubmissionMetric=n}),define("typeahead/core/logging/Severity",["require","exports"],function(e,t){"use strict";var o;t.__esModule=!0,(o=t.Severity||(t.Severity={}))[o.MustFix=0]="MustFix",o[o.Excusable=1]="Excusable",o[o.Negligible=2]="Negligible"}),define("typeahead/core/logging/SuggestionEngagementLogger",["require","exports","typeahead/core/logging/CollectorTransport","typeahead/core/logging/SuggestionEngagementMetric","typeahead/core/message/ElementFocusedMessage","typeahead/core/message/InputValueEditedMessage","typeahead/core/message/MoreSuggestionsClickedMessage","typeahead/core/message/SuggestionSelectedMessage","typeahead/core/message/SuggestionShownMessage","typeahead/core/message/TypeaheadMessage","typeahead/core/message/UserExitedMessage","typeahead/core/TypeaheadUtils"],function(e,t,o,n,i,a,r,s,l,c,d,p){"use strict";t.__esModule=!0;var u=(g.prototype.updatePackageType=function(){var e=p.TypeaheadUtils.getPackageType();e!==p.PackageType.Unknown&&(this.lob="PACKAGES:"+function(e){switch(e){case p.PackageType.FlightHotelCar:return"FHC";case p.PackageType.HotelCar:return"HC";case p.PackageType.FlightCar:return"FC";case p.PackageType.FlightHotel:return"FH";default:return"-"}}(e))},g.prototype.checkForChildren=function(e){var t=p.TypeaheadUtils.getLob();this.areChildrenPresent=e.some(function(e){return t===p.Lob.Flight?p.TypeaheadUtils.isNearBySuggestion(e):p.TypeaheadUtils.isChildSuggestion(e)})},g.prototype.removeDuplicateESSTests=function(){for(var e=[],t=0,o=this.activeESSTests;t<o.length;t++){var n=o[t];"string"==typeof n&&0<n.length&&(e=e.concat(n.split("|")))}for(e=e.sort().filter(function(e,t,o){return!t||e!==o[t-1]});0===e.indexOf("");)e.shift();this.activeESSTests=e},g.prototype.emitMetric=function(){this.updatePackageType(),this.removeDuplicateESSTests(),(new o.CollectorTransport).log(new n.SuggestionEngagementMetric(this.lob,this.domElementId,this.userTypedQuery,this.displayText,this.isSuggestionShown,this.selectedSuggestion,this.activeESSTests.join("|")),"typeahead_client_metrics")},g);function g(){var o=this;this.isSuggestionShown=!1,this.isSuggestionSelected=!1,this.userTypedQuery="",this.displayText="",this.activeESSTests=[],this.areChildrenPresent=!1,this.childSuggestionsExpanded=!1,c.TypeaheadMessage.subscribe(i.ElementFocusedMessage.getTopic(),function(e,t){o.lob=t.getContext().lob,o.domElementId=t.getDomElementId(),o.displayText=t.getElementValue()}),c.TypeaheadMessage.subscribe(r.MoreSuggestionsClickedMessage.getTopic(),function(e,t){o.childSuggestionsExpanded=!0}),c.TypeaheadMessage.subscribe(l.SuggestionShownMessage.getTopic(),function(e,t){o.isSuggestionShown=!0,o.childSuggestionsExpanded=!1,o.activeESSTests.push(t.getActiveESSTests()),o.checkForChildren(t.getShownSuggestions())}),c.TypeaheadMessage.subscribe(a.InputValueEditedMessage.getTopic(),function(e,t){o.lob=t.getLob(),o.domElementId=t.getDomElementId(),o.isSuggestionSelected=!1,o.userTypedQuery=t.getNewInputValue(),o.displayText=t.getNewInputValue(),o.selectedSuggestion=void 0}),c.TypeaheadMessage.subscribe(s.SuggestionSelectedMessage.getTopic(),function(e,t){o.lob=t.getLob(),o.selectedSuggestion=t.getSuggestion()}),c.TypeaheadMessage.subscribe(d.UserExitedMessage.getTopic(),function(){o.domElementId&&(o.lob="4096"===$("#"+o.domElementId).attr("data-mask")?"DISCOVER":o.lob,o.emitMetric(),o.domElementId=void 0,o.lob=void 0,o.isSuggestionShown=!1,o.isSuggestionSelected=!1,o.userTypedQuery="",o.displayText="",o.selectedSuggestion=void 0,o.activeESSTests=[])})}t.SuggestionEngagementLogger=u});__extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();define("typeahead/core/logging/SuggestionEngagementMetric",["require","exports","typeahead/core/logging/TypeaheadMetric"],function(e,t,o){"use strict";t.__esModule=!0;var l,n=(l=o.TypeaheadMetric,__extends(i,l),i);function i(e,t,o,n,i,a,r){var s=l.call(this,e,t,"SuggestionEngagement",r)||this;return s.suggestionShown=i,s.userTypedQuery=o,a?(s.suggestionSelected=!0,s.text=a.getDisplayText(),s.selectedSuggestionEssid=a.getSourceName().orElse("-")+":"+a.getSourceId().orElse("-"),s.isAddrAutocomplete=a.isAddrAutoComplete()):(s.suggestionSelected=!1,s.text=n,s.selectedSuggestionEssid=void 0),s}t.SuggestionEngagementMetric=n}),define("typeahead/core/logging/TypeaheadErrorLogger",["require","exports","typeahead/core/logging/DctkClientLogErrorTransport","typeahead/core/logging/ErrorLogger"],function(e,t,o,n){"use strict";t.__esModule=!0;var i=new n.ErrorLogger(new o.DctkClientLogErrorTransport);t.default={log:function(e,t,o,n){void 0===n&&(n={}),i.log(e,t,o,n)}}});__extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();define("typeahead/core/logging/TypeaheadInteractionLogger",["require","exports","typeahead/core/logging/ProblemOrigin","typeahead/core/logging/SuggestionEngagementLogger","typeahead/core/logging/TypeaheadErrorLogger","typeahead/core/logging/TypeaheadInteractionMetric"],function(e,t,o,n,i,a){"use strict";t.__esModule=!0;var r,s=(r=n.SuggestionEngagementLogger,__extends(l,r),l.prototype.emitMetric=function(){this.updatePackageType(),this.removeDuplicateESSTests();var e=new a.TypeaheadInteractionMetric(this.lob,this.domElementId,this.userTypedQuery,this.isSuggestionShown,this.selectedSuggestion,this.childSuggestionsExpanded,this.areChildrenPresent,this.activeESSTests.join("|"));e=this.cleanUpMetric(e),i.default.log(void 0,void 0,o.ProblemOrigin.TypeaheadInteractionMetric,e)},l.prototype.cleanUpMetric=function(t){var o={};return Object.keys(t).forEach(function(e){e&&void 0!==t[e]&&(o[e]=t[e].toString())}),o},l);function l(){return r.call(this)||this}t.TypeaheadInteractionLogger=s});__extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();define("typeahead/core/logging/TypeaheadInteractionMetric",["require","exports","typeahead/core/logging/TypeaheadMetric"],function(e,t,o){"use strict";t.__esModule=!0;var c,n=(c=o.TypeaheadMetric,__extends(i,c),i);function i(e,t,o,n,i,a,r,s){var l=c.call(this,e,t,"TypeaheadInteraction",s)||this;return l.suggestionShown=n,l.userTypedQuery=o,l.inputLength=o.length,l.childSuggestionsExpanded=a,l.areChildrenPresent=r,i?(l.suggestionSelected=!0,l.selectionDepth=i.getPosition().toString(),l.isAddrAutocomplete=i.isAddrAutoComplete()):(l.suggestionSelected=!1,l.selectionDepth="undefined",l.isAddrAutocomplete=!1),l}t.TypeaheadInteractionMetric=n}),define("typeahead/core/logging/TypeaheadMetric",["require","exports","typeahead/core/plugins/ExecutionHelper","typeahead/core/TypeaheadUtils"],function(e,t,i,a){"use strict";t.__esModule=!0;function o(e,t,o,n){this.contentFlavor="uTA",this.deviceType=a.TypeaheadUtils.getDeviceType(),this.guid=a.TypeaheadUtils.getGuid(),this.lob=e,this.locale=a.TypeaheadUtils.getLocale(),this.pageId=a.TypeaheadUtils.getPageId(),this.pointOfSale=a.TypeaheadUtils.getPointOfSale(),this.siteId=a.TypeaheadUtils.getSiteId(),this.textInputElementId=t,this.timestamp=Date.now(),this.type=o,this.userAgent=navigator.userAgent,this.variants=[i.abTest.getActiveClientTests(),n].filter(Boolean).join("|")}t.TypeaheadMetric=o}),define("typeahead/core/plugins/CompositePageLoadHandler",["require","exports","typeahead/core/context","uitk","typeahead/client/ActivitiesSearchResultsPageHandler","typeahead/client/CarSearchResultsPageHandler","typeahead/client/ClientHandlerRegistry","typeahead/client/FlightSearchResultsPageHandler","typeahead/client/HotelSearchResultsPageHandler","typeahead/client/MercuryWizardHandler","typeahead/client/OpenSearchPageHandler","typeahead/client/UserAccountPageHandler","typeahead/core/plugins/DefaultPluginAssembly","typeahead/core/plugins/ExecutionHelper","typeahead/core/plugins/PrefetchLoader","typeahead/core/TypeaheadUtils"],function(e,a,r,t,o,n,i,s,l,c,d,p,u,g,h,f){"use strict";a.__esModule=!0,a.prefetchInstance=h.PrefetchLoader.getInstance();var y=(m.getInstance=function(){return m.instance||(m.instance=new m),m.instance},m.registerClients=function(){i.ClientHandlerRegistry.registerClient(new o.ActivitiesSearchResultsPageHandler),i.ClientHandlerRegistry.registerClient(new n.CarSearchResultsPageHandler),i.ClientHandlerRegistry.registerClient(new s.FlightSearchResultsPageHandler),i.ClientHandlerRegistry.registerClient(new l.HotelSearchResultsPageHandler),i.ClientHandlerRegistry.registerClient(new c.MercuryWizardHandler),i.ClientHandlerRegistry.registerClient(new d.OpenSearchPageHandler),i.ClientHandlerRegistry.registerClient(new p.UserAccountPageHandler),i.ClientHandlerRegistry.handlePageLoad()},m.prototype.handlePageLoad=function(t){if(!m.isPageLoadHandled){var e=g.abTest.getAllExperimentsAttribute(t.get(u.DefaultPluginAssembly.experimentIdentifier),"id").join("|"),o={maxresults:10},n={clientId:f.TypeaheadUtils.getClientId(),deviceType:f.TypeaheadUtils.getDeviceType(),expuserid:f.TypeaheadUtils.getExpUserId(),getShortPackageType:function(){},guid:f.TypeaheadUtils.getGuid(),lob:void 0,locale:r.locale,serviceUrl:r.serviceUrl,siteid:r.siteid},i=t.get(u.DefaultPluginAssembly.pageLoadHandlerIdentifier);a.prefetchInstance.prefetch(e).done(function(){a.prefetchInstance.getPrefetchExperiments().done(function(e){g.abTest.evaluateAllExperiments(t,e)})}),i&&0<i.length&&i.map(function(e){e.handlePageLoad(o,n)}),m.registerClients(),m.isPageLoadHandled=!0}},m.isPageLoadHandled=!1,m);function m(){}a.CompositePageLoadHandler=y}),define("typeahead/core/plugins/DefaultPluginAssembly",["require","exports","jquery"],function(e,t,o){"use strict";t.__esModule=!0;var n=(i.prototype.registerPlugin=function(e){!function(e,t){e.indexOf(t)<0&&e.push(t)}(this.plugins,e)},i.prototype.get=function(t){return this.plugins.filter(function(e){return t(e)})},i.requestParamModifierIdentifier=function(e){return"modifyParameters"in e},i.suggestionsModifierIdentifier=function(e){return"modifySuggestions"in e},i.dropDownHideHandler=function(e){return"function"==typeof e.handleDropDownHide},i.dropDownShowHandler=function(e){return"function"==typeof e.handleDropDownShow},i.dropdownContentHandler=function(e){return"function"==typeof e.handleContentToShow},i.onFocusSuggestionsProviderIdentifier=function(e){return"function"==typeof e.suggestOnFocus},i.pageLoadHandlerIdentifier=function(e){return"function"==typeof e.handlePageLoad},i.experimentIdentifier=function(e){return"function"==typeof e.getExperiments},i.essEndpointProviderIdentifier=function(e){return"function"==typeof e.getEssEndpoint},i);function i(){this.plugins=[]}t.DefaultPluginAssembly=n}),define("typeahead/core/plugins/ExecutionHelper",["require","exports","jquery","typeahead/core/ABTest"],function(e,a,t,o){"use strict";a.__esModule=!0;var c={clients:"clientId",deviceTypes:"deviceType",lobs:"lob",locales:"locale",packageTypes:"getShortPackageType",siteids:"siteid",tabs:"tab"};function r(e,t){void 0===t&&(t=a.abTest);var o=t.getAndLog(e);return void 0!==e.value?e.value===o.value:0<o.value}function s(e,t){for(var o,n,i=0;i<t.length;i++){o=t[i];var a=!0;for(var r in o)if("experiment"!==r&&o.hasOwnProperty(r)&&o[r]){var s=(n=r,c.hasOwnProperty(n)?c[n]:null),l="function"==typeof e[s]?e[s]():e[s];if(s&&o[r].indexOf(l)<0){a=!1;break}}if(a)return o}}a.abTest=new o.ABTest,a.evaluateExperiment=r,a.shouldExecute=function(e,t,o){if(void 0===o&&(o=a.abTest),!t||!t.length||!e)return!0;var n=s(e,t);if(n){var i=n.experiment;return!i||r(i,o)}return!1},a.doNotCallThisToGetEvaluatedExperimentInfo=function(e,t,o){var n;if(void 0===o&&(o=a.abTest),e){var i=s(e,t);i&&(n=o.getAndLog(i.experiment))}return n}}),define("typeahead/core/plugins/PrefetchLoader",["require","exports","typeahead/core/context","typeahead/core/TypeaheadUtils"],function(e,t,l,c){"use strict";t.__esModule=!0;var o=(n.getInstance=function(){return n.instance||(n.instance=new n),n.instance},n.prototype.prefetch=function(e){var t=this,o=$.Deferred(),n=(c.TypeaheadUtils.getClientId(),c.TypeaheadUtils.getDeviceType(),c.TypeaheadUtils.getExpUserId()),i=c.TypeaheadUtils.getGuid(),a=l.locale,r=l.serviceUrl+"/api/v4/prefetch/?callback=?&format=jsonp&siteid="+l.siteid+"&locale="+a+"&guid="+i+"&expuserid="+n+"&evalExp="+e,s=c.TypeaheadUtils.getUserLocation();return s&&(r+="&loc="+s),this.makePrefetchRequest(r).done(function(e){t.populatePrefetchData(e)}).always(function(e){return o.resolve(e)}),o.promise()},n.prototype.getPrefetchExperiments=function(){return this.experimentsDeferred.promise()},n.prototype.getPrefetchCarRentalHints=function(){return this.hintsDeferred.promise()},n.prototype.getPrefetchActiveSearch=function(){return this.activeSearchDeferred.promise()},n.prototype.getNearbyLocationLXSuggestion=function(){return this.nearbyLocationLXSuggestion.promise()},n.prototype.makePrefetchRequest=function(e){var t=$.Deferred(),o={};return $.getJSON(e).done(function(e){t.resolve(e)}).fail(function(){t.reject(o)}),t.promise()},n.prototype.populatePrefetchData=function(e){this.experimentsDeferred.resolve(e.experiments?e.experiments:{}),this.hintsDeferred.resolve(e.carRentalHints?e.carRentalHints:[]),this.activeSearchDeferred.resolve(e.activeSearch?e.activeSearch:{}),this.nearbyLocationLXSuggestion.resolve(e.nearbyLocationLXSuggestion?e.nearbyLocationLXSuggestion:void 0)},n);function n(){this.hintsDeferred=$.Deferred(),this.experimentsDeferred=$.Deferred(),this.activeSearchDeferred=$.Deferred(),this.nearbyLocationLXSuggestion=$.Deferred()}t.PrefetchLoader=o}),define("typeahead/core/plugins/SuggestionsProvider",["require","exports","jquery","typeahead/core/plugins/DefaultPluginAssembly"],function(e,t,o,n){"use strict";t.__esModule=!0;var i=(a.prototype.modifySuggestions=function(t,o,n,i){return void 0===n&&(n={}),t&&0<t.length&&this.suggestionsModifiers&&0<this.suggestionsModifiers.length?(this.suggestionsModifiers.map(function(e){return e.modifySuggestions(t,o,n,i)}),t):[]},a);function a(e){this.suggestionsModifiers=[],this.suggestionsModifiers=e.get(n.DefaultPluginAssembly.suggestionsModifierIdentifier)}t.SuggestionsProvider=i}),define("typeahead/core/message/ElementFocusedMessage",["require","exports"],function(e,t){"use strict";t.__esModule=!0;var o=(n.getTopic=function(){return"typeahead.element_focused"},n.prototype.getTopic=function(){return n.getTopic()},n.prototype.getDomElementId=function(){return this.domElementId},n.prototype.getElementValue=function(){return this.elementValue},n.prototype.getContext=function(){return this.context},n);function n(e,t,o){this.elementValue=e,this.domElementId=o,this.context=t}t.ElementFocusedMessage=o}),define("typeahead/core/message/EssErrorMessage",["require","exports"],function(e,t){"use strict";t.__esModule=!0;var o=(n.getTopic=function(){return"typeahead.ess_error"},n.prototype.getTopic=function(){return n.getTopic()},n.prototype.getStatusCode=function(){return this.statusCode},n);function n(e){this.statusCode=e}t.EssErrorMessage=o}),define("typeahead/core/message/FormLoadedMessage",["require","exports"],function(e,t){"use strict";t.__esModule=!0;var o=(n.getTopic=function(){return"typeahead.form_loaded"},n.prototype.getTopic=function(){return n.getTopic()},n.prototype.getTab=function(){return this.tab},n);function n(e){this.tab=e}t.FormLoadedMessage=o}),define("typeahead/core/message/FormSubmittedMessage",["require","exports"],function(e,t){"use strict";t.__esModule=!0;var o=(n.getTopic=function(){return"typeahead.form_submitted"},n.prototype.getTopic=function(){return n.getTopic()},n.prototype.isFormValid=function(){return this.formValid},n.prototype.getContext=function(){return this.context},n.prototype.getEvent=function(){return this.event},n);function n(e,t,o){this.formValid=e,this.context=t,this.event=o}t.FormSubmittedMessage=o}),define("typeahead/core/message/InputClearedMessage",["require","exports"],function(e,t){"use strict";t.__esModule=!0;var o=(n.getTopic=function(){return"Input cleared"},n.prototype.getTopic=function(){return n.getTopic()},n);function n(e){this.$elem=e}t.InputClearedMessage=o}),define("typeahead/core/message/InputValueEditedMessage",["require","exports"],function(e,t){"use strict";t.__esModule=!0;var o=(n.getTopic=function(){return"typeahead.input_value_edited"},n.prototype.getTopic=function(){return n.getTopic()},n.prototype.getNewInputValue=function(){return this.newInputValue},n.prototype.getDomElementId=function(){return this.domElementId},n.prototype.getLob=function(){return this.lob},n);function n(e,t,o){this.newInputValue=e,this.domElementId=o,this.lob=t}t.InputValueEditedMessage=o}),define("typeahead/core/message/MoreSuggestionsClickedMessage",["require","exports"],function(e,t){"use strict";t.__esModule=!0;var o=(n.getTopic=function(){return"typeahead.more_suggestions_clicked"},n.prototype.getRenderedSuggestions=function(){return this.suggestions},n.prototype.getLob=function(){return this.lob},n.prototype.getEvent=function(){return this.e},n.prototype.getTopic=function(){return n.getTopic()},n);function n(e,t,o){this.e=e,this.suggestions=t,this.lob=o}t.MoreSuggestionsClickedMessage=o}),define("typeahead/core/message/SubmitClickedMessage",["require","exports"],function(e,t){"use strict";t.__esModule=!0;var o=(n.getTopic=function(){return"typeahead.submit_clicked"},n.prototype.getTopic=function(){return n.getTopic()},n.prototype.getRfrrIdPrefix=function(){return this.rfrrIdPrefix},n.prototype.getEvent=function(){return this.event},n.prototype.getContext=function(){return this.context},n);function n(e,t,o){this.rfrrIdPrefix=e,this.context=t,this.event=o}t.SubmitClickedMessage=o}),define("typeahead/core/message/SuggestionAutoSelectedMessage",["require","exports"],function(e,t){"use strict";t.__esModule=!0;var o=(n.getTopic=function(){return"typeahead.suggestion_auto_selected"},n.prototype.getTopic=function(){return n.getTopic()},n.prototype.getSuggestion=function(){return this.suggestion},n.prototype.getDomElementId=function(){return this.domElementId},n);function n(e,t){this.suggestion=e,this.domElementId=t}t.SuggestionAutoSelectedMessage=o}),define("typeahead/core/message/SuggestionListSelectedMessage",["require","exports"],function(e,t){"use strict";t.__esModule=!0;var o=(n.getTopic=function(){return"typeahead.suggestionlist_selected"},n.prototype.getTopic=function(){return n.getTopic()},n.prototype.getSuggestion=function(){return this.suggestion},n.prototype.getDomElementId=function(){return this.domElementId},n.prototype.getLob=function(){return this.lob},n);function n(e,t,o){this.suggestion=e,this.lob=t,this.domElementId=o}t.SuggestionListSelectedMessage=o}),define("typeahead/core/message/SuggestionReadyMessage",["require","exports"],function(e,t){"use strict";t.__esModule=!0;var o=(n.getTopic=function(){return"typeahead.suggestion_ready"},n.prototype.getTopic=function(){return n.getTopic()},n.prototype.getQuery=function(){return this.query},n.prototype.getSuggestions=function(){return this.suggestions},n.prototype.getActiveEssTests=function(){return this.activeEssTests},n.prototype.getDomElementId=function(){return this.domElementId},n);function n(e,t,o,n){this.query=e,this.suggestions=t,this.activeEssTests=o,this.domElementId=n}t.SuggestionReadyMessage=o}),define("typeahead/core/message/SuggestionSelectedMessage",["require","exports"],function(e,t){"use strict";t.__esModule=!0;var o=(n.getTopic=function(){return"typeahead.suggestion_selected"},n.prototype.getTopic=function(){return n.getTopic()},n.prototype.getSuggestion=function(){return this.suggestion},n.prototype.getDomElementId=function(){return this.domElementId},n.prototype.getSelectionMethod=function(){return this.selectionMethod},n.prototype.getLob=function(){return this.lob},n.prototype.getRequestId=function(){return this.requestId},n);function n(e,t,o,n,i){this.suggestion=e,this.requestId=t,this.lob=n,this.domElementId=i,this.selectionMethod=o&&o.type?-1<o.type.indexOf("mouse")?"mouse":-1<o.type.indexOf("key")?"keyboard":-1<o.type.indexOf("touch")?"touch":"unknown":"unknown"}t.SuggestionSelectedMessage=o}),define("typeahead/core/message/SuggestionShownMessage",["require","exports"],function(e,t){"use strict";t.__esModule=!0;var o=(n.getTopic=function(){return"typeahead.suggestion_shown"},n.prototype.getTopic=function(){return n.getTopic()},n.prototype.getDomElementId=function(){return this.domElementId},n.prototype.getShownSuggestions=function(){return this.suggestions},n.prototype.getElementValue=function(){return this.elementValue},n.prototype.getLob=function(){return this.lob},n.prototype.getActiveESSTests=function(){return this.activeESSTests},n.prototype.getRenderTime=function(){return this.renderTime},n);function n(e,t,o,n,i,a){this.suggestions=e,this.domElementId=a,this.elementValue=t,this.lob=n,this.activeESSTests=o,this.renderTime=i}t.SuggestionShownMessage=o}),define("typeahead/core/message/TypeaheadMessage",["require","exports","uitk"],function(e,t,o){"use strict";t.__esModule=!0;var n=(i.publish=function(e){o.publish(e.getTopic(),e)},i.subscribe=function(e,t){return o.subscribe(e,t)},i.unsubscribe=function(e,t){return o.unsubscribe(e,t)},i);function i(){}t.TypeaheadMessage=n}),define("typeahead/core/message/UserExitedMessage",["require","exports"],function(e,t){"use strict";t.__esModule=!0;var o=(n.getTopic=function(){return"typeahead.user_exited"},n.prototype.getTopic=function(){return n.getTopic()},n.prototype.getContext=function(){return this.context},n.prototype.getDomElementId=function(){return this.domElementId},n.prototype.getTriggerEvt=function(){return this.triggerEvt},n.prototype.getRequestId=function(){return this.requestId},n);function n(e,t,o,n){this.context=e,this.domElementId=t,this.triggerEvt=o,this.requestId=n}t.UserExitedMessage=o}),define("typeahead/core/presentation/DisplayGroupHandler",["require","exports"],function(e,t){"use strict";t.__esModule=!0;var o=(n.prototype.getResultsByDisplayGroup=function(e){var o=this,n=this.getDisplayGroupsPresent(e);return $.each(e,function(e,t){t.displayGroup?n[t.displayGroup.groupName].items.push(t):n[o.DEFAULT_STRING].items.push(t)}),this.sortDisplayGroupsByDisplayOrder(n)},n.prototype.getDisplayGroupsPresent=function(e){var o=this,n={};return $.each(e,function(e,t){t.displayGroup?n[t.displayGroup.groupName]={index:Object.keys(n).length,items:[],label:t.displayGroup.label}:n[o.DEFAULT_STRING]={index:Object.keys(n).length,items:[],label:""}}),n},n.prototype.sortDisplayGroupsByDisplayOrder=function(o){var e=Object.keys(o).sort(function(e,t){return o[e].index-o[t].index}),t=[];return e.forEach(function(e){t.push({groupName:e,items:o[e].items,label:o[e].label})}),t},n);function n(){this.DEFAULT_STRING="default"}t.DisplayGroupHandler=o}),define("typeahead/core/presentation/DropDownHideHandlersAssembly",["require","exports","typeahead/core/plugins/DefaultPluginAssembly"],function(e,t,o){"use strict";t.__esModule=!0;var n=(i.prototype.runHandlers=function(t,o,n){this.handlers.map(function(e){return e.handleDropDownHide(t,o,n)})},i);function i(e){this.handlers=e.get(o.DefaultPluginAssembly.dropDownHideHandler)}t.DropDownHideHandlersAssembly=n}),define("typeahead/core/presentation/DropDownShowHandlersAssembly",["require","exports","typeahead/core/plugins/DefaultPluginAssembly"],function(e,t,o){"use strict";t.__esModule=!0;var n=(i.prototype.runHandlers=function(t,o,n){this.handlers.map(function(e){return e.handleDropDownShow(t,o,n)})},i);function i(e){this.handlers=e.get(o.DefaultPluginAssembly.dropDownShowHandler)}t.DropDownShowHandlersAssembly=n}),define("typeahead/core/presentation/DropdownContentHandlersAssembly",["require","exports","typeahead/core/plugins/DefaultPluginAssembly"],function(e,t,o){"use strict";t.__esModule=!0;var n=(i.prototype.runHandlers=function(t,o,n,i,a){this.handlers.map(function(e){return e.handleContentToShow(t,o,n,i,a)})},i);function i(e){this.handlers=e.get(o.DefaultPluginAssembly.dropdownContentHandler)}t.DropdownContentHandlersAssembly=n}),define("typeahead/core/presentation/IDropDownHideHandler",["require","exports","jquery"],function(e,t,o){"use strict";t.__esModule=!0}),define("typeahead/core/presentation/IDropDownShowHandler",["require","exports","jquery"],function(e,t,o){"use strict";t.__esModule=!0}),define("typeahead/core/presentation/IDropdownContentHandler",["require","exports","jquery"],function(e,t,o){"use strict";t.__esModule=!0}),define("typeahead/core/presentation/IInputElementFocusByHumanOrScriptHandler",["require","exports","jquery"],function(e,t,o){"use strict";t.__esModule=!0,t.isInputElementFocusByHumanOrScriptHandler=function(e){return"object"==typeof e&&"function"==typeof e.handleInputElementFocusByHumanOrScript}}),define("typeahead/core/presentation/IInputElementFocusHandler",["require","exports","jquery"],function(e,t,o){"use strict";t.__esModule=!0,t.isInputElementFocusHandler=function(e){return"object"==typeof e&&"function"==typeof e.handleInputElementFocus}}),define("typeahead/core/presentation/SuggestionRendererUtils",["require","exports","typeahead/core/loc","typeahead/core/geolocation/GeolocationIcon","typeahead/core/TypeaheadUtils"],function(e,t,o,x,C){"use strict";t.__esModule=!0;var n=(_.getHtml=function(n){function e(e){var t=n,o=t.hierarchyInfo&&t.hierarchyInfo.nearby?t.hierarchyInfo.nearby.locDist:void 0;return o&&(e+=" "+o),e}function o(){return C.Lob.Flight===C.TypeaheadUtils.getLob()||"Flights.Search"===C.TypeaheadUtils.getClientId()}function t(e){var t=e;return o()&&(t=n.showAsHierarchy?function(e){var t=e.indexOf("-");if(-1!==t)return"(<B>"+e.substring(0,t).replace(/&nbsp;/i,"").trim()+"</B>)"+(n=e.substring(t+1,e.length));var o=new RegExp("^<ap>([A-Z]{3})<\\/ap>(.*)").exec(e);if(o&&o.length&&o[1]){var n,i="(<B>"+o[1]+"</B>)";return(n=o[2])&&(0===(n=n.trim()).indexOf(",")&&(n=n.substr(1,n.length)),i+=" "+n),i}return e}(e):_.isApAlTagged(e)?_.convertApAlTaggedMainToMultiLineHtml(e):function(e){var t,o,n="",i="",a="",r=e.indexOf("("),s=e.indexOf(")");if(-1!==r&&-1!==s){n=e.substring(0,r);var l=(i=e.substring(r+1,s)).indexOf("-");o=-1!==l?(t=i.substring(0,l).replace(/&nbsp;/i,"").trim(),i.substring(l+1,i.length)):(t=i,""),i="(<B>"+t+"</B>)"+o,s+1<e.length&&(a=e.substring(s+1,e.length))}else n=e;return _.createMultiLineHtml(n,a,i)}(e)),t}var i,a,r,s,l,c,d,p,u,g,h,f,y,m,v,b=n.regionNames.displayName,T=(n.showAsHierarchy&&!_.isConsistentDisplay(n)&&(n.icon="return"),"geolocation"===n.icon?'<span data-tid="typeahead-icon'+n.index+'" class="icon" aria-hidden="true"><img alt="" style="height:1em;width:1em;vertical-align:middle;" src=\''+x.locationIcon+"'/></span>":"none"===n.icon?'<span data-tid="typeahead-icon'+n.index+'" aria-hidden="true"></span>':'<span style = "'+(C.TypeaheadUtils.isRtl()?"float:right":"float:left")+'" data-tid="typeahead-icon'+n.index+'" class="icon" aria-hidden="true">\n                    <svg class="uitk-icon-svg"'+("trainalt"===n.icon?'style="height:18px;width:18px;margin-left:-4px;margin-top:-10px;top:4px;left:2px"':"")+("camera"===n.icon?'style="height:16px;width:16px;margin-left:-2px;margin-top:-8px;top:4px;left:2px"':"")+'>\n                        <use xlink:href="#uitk-icon-'+n.icon+'"/>\n                    </svg>\n                    </span>'),S=(i=b.indexOf("<sl"),a=b.indexOf(_.slCloseTag)+_.slCloseTag.length,r=b.substring(i,a),0<(s=e("").replace(/[()]/g,"")).length&&(r=r.replace(_.slCloseTag,""),r+=s+_.slCloseTag),r),E=(l="geolocation"===n.icon?'<span data-tid="typeahead-icon'+n.index+' class="icon" aria-hidden="true">\n                            <img alt="" style="height:1em;width:1em;vertical-align:middle;" src=\''+x.locationIcon+"'/>\n                        </span>":"<div style='display:inline-block;"+(S.length>_.slOpenTag.length+_.slCloseTag.length?"top:2px;":"")+"\n                vertical-align:top' data-tid=\"typeahead-icon "+n.index+'" class="icon" aria-hidden="true">\n                        <svg class="uitk-icon-svg" style=\n                            '+("METROSTATION"===n.type?"height:16px;width:16px;margin-left:-3px;top:1px;left:2px":"")+' >\n                            <use xlink:href="#uitk-icon-'+n.icon+'"/>\n                        </svg>\n                    </div>',"METROSTATION"===n.type?l=l.replace("train","trainalt"):"CITY"!==n.type&&"MULTICITY"!==n.type&&"METROCODE"!==n.type||(l=l.replace("flights","location")),_.isNearbyAllAirports(n)?l=l.replace(n.icon,"location"):_.hasTla(n)&&(l=l.replace("location","flights")),l);return n.showAsHierarchy&&(b=e(b)),c=_.isConsistentDisplay(n)?E+(u=(p=b).indexOf(_.flOpenTag),g=p.indexOf(_.flCloseTag)+_.flCloseTag.length,h=p.indexOf(_.fgOpenTag),f=p.indexOf(_.fgCloseTag)+_.fgCloseTag.length,y=p.indexOf(_.cdtOpenTag),m=p.indexOf(_.cdtCloseTag)+_.cdtCloseTag.length,v="",y<m-_.cdtCloseTag.length&&(v=p.substring(y,m)),_.createMultiLineHtmlWrapped(p.substring(u,g),h<f-_.fgCloseTag.length?p.substring(h,f):"",S,!0,0<v.length)+v)+("LIST"===n.type?_.toggleIconHtml:""):"LX.Checkout"===C.TypeaheadUtils.getClientId()&&"HOTELNOTPRESENT"!==n.type?(n&&n.hotelAddress&&(d=n.hotelAddress.street+", "+n.hotelAddress.city+", "+n.hotelAddress.province),'<span style="position:relative;bottom:0.6em">'+T+'</span><div style="display:inline-block;">\n            <span class="text">'+t(b)+'</span><span class="text" style=display:block;height:19px;font-size:12px;line-height:1.5;color:#757575;>'+d+"</span></div>"+("LIST"===n.type?_.toggleIconHtml:"")):T+'<span class="text">'+t(b)+"</span>"+("LIST"===n.type?_.toggleIconHtml:""),n.showAsHierarchy?'<div class="child-suggestion" style="padding-left:'+("none"===n.icon?"12px":"1.88235em")+'; width: 100%; text-overflow:ellipsis; overflow:hidden">'+c+"</div>":c},_.isConsistentDisplay=function(t){return!!(t&&t.regionNames&&t.regionNames.displayName)&&[_.flOpenTag,_.flCloseTag].every(function(e){return-1!==t.regionNames.displayName.indexOf(e)})},_.formatApText=function(e,t){if(-1!==e.indexOf(_.apOpenTag)){var o=(e=e.replace(_.apOpenTag+"(","").replace(")"+_.apCloseTag,"")).indexOf("-"),n="",i="";i=-1!==o?(n=e.substring(0,o).trim(),e.substring(o+1,e.length)):(n=e,""),e=t?"(<B>"+n+"</B>)"+i:"("+e.replace(n,"<B>"+n+"</B>")+")",e=_.apOpenTag+e+_.apCloseTag}return e},_.convertApAlTaggedMainToMultiLineHtml=function(e){var t=e.indexOf(_.apOpenTag),o=e.indexOf(_.apCloseTag),n=e.indexOf(_.alOpenTag),i=e.indexOf(_.alCloseTag),a=t<n,r=e.substring(0,a?t:n),s="";s=a?e.substring(o+_.apCloseTag.length,n):e.substring(o+_.apCloseTag.length,e.length);var l=e.substring(t,o+_.apCloseTag.length),c=e.substring(n,i+_.alCloseTag.length);return a?this.createMultiLineHtmlWrapped(r+s,this.formatApText(l,!1),this.addAlVariantTwoStyleToTags(c),!1,!1):this.createMultiLineHtmlWrapped(r+c,s,this.formatApText(l,!0),!1,!1)},_.addAlVariantTwoStyleToTags=function(e){return this.isAlTagged(e)&&(e=(e=e.replace("(","").replace(")","")).replace(_.alOpenTag,'<al style="font-weight:bold;font-size:12px;color:black">')),e},_.isAlTagged=function(e){return-1!==e.indexOf(_.alOpenTag)&&-1!==e.indexOf(_.alCloseTag)},_.isApTagged=function(e){return-1!==e.indexOf(_.apOpenTag)&&-1!==e.indexOf(_.apCloseTag)},_.isApAlTagged=function(e){return this.isApTagged(e)&&this.isAlTagged(e)},_.createMultiLineHtmlWrapped=function(e,t,o,n,i){var a="<div class='multiLineDisplay details' style='";return n&&(a+="display:inline-block;position:relative;top:1px;"),a+="width:"+(i?"66%":"80%")+"'>",a+=e.trim(),t&&(a+=" "+t.trim()),o&&(a+="<br>"+o.trim()),a+="</div>"},_.createMultiLineHtml=function(e,t,o){var n="<div class='multiLineDisplay' style='text-overflow:ellipsis; overflow:hidden'>";return n+=e.trim(),t&&(n+=" "+t.trim()),o&&(n+="<br>"+o.trim()),n+="</div>"},_.getTextType=function(e){var t;switch(e.type){case"AIRPORT":t=o.airportMessage||"Airport";break;case"METROCODE":case"CITY":case"MULTICITY":t=o.city||"City";break;case"NEIGHBORHOOD":t=o.neighborhoodMessage||"Neighborhood";break;case"POI":t=o.landmarkMessage||"Landmark";break;case"ADDRESS":t=o.taCategoryNameAddress||"Address";break;case"HOTEL":t=o.hotelMessage||"Hotel";break;case"MULTIREGION":t=o.region||"Region";break;case"TRAINSTATION":t=o.trainStationMessage||"Train Station";break;case"METROSTATION":t=o.metroStationMessage||"Metro Station";break;default:t=""}return _.isNearbyAllAirports(e)?t=o.city||"City":_.hasTla(e)&&(t=o.airportMessage||"Airport"),t},_.hasNearBy=function(e){if(e&&e.regionNames&&e.regionNames.displayName){var t=e.regionNames.displayName;return-1!==t.indexOf(this.nearOpenTag)&&-1!==t.indexOf(this.nearCloseTag)}return!1},_.isNearbyAllAirports=function(e){return!this.hasTla(e)&&this.hasNearBy(e)},_.formatConsistentDisplayType=function(e){return this.cdtOpenTag+"<div style='color:rgb(97, 97, 97);font-size:12px;margin-top:.5em;"+_.getDirectionalCss()+"'>"+e+"</div>"+this.cdtCloseTag},_.formatTypeDesktop=function(e){return"<span style = 'color:rgb(97, 97, 97);font-size:12px;margin-top:1.5px;"+_.getDirectionalCss()+"'> "+e+"</span>"},_.hasTla=function(e){return!!(e&&e.regionNames&&e.regionNames.displayName)&&_.removeBoldTags(e.regionNames.displayName).match("\\(([A-Z]{3})\\)")},_.removeBoldTags=function(e){return e.replace(/<B>/g,"").replace(/<\/B>/g,"")},_.getDirectionalCss=function(){return C.TypeaheadUtils.isRtl()?"float:left;margin-right:auto;":"float:right;margin-left:auto;"},_.alOpenTag="<al>",_.alCloseTag="</al>",_.apOpenTag="<ap>",_.apCloseTag="</ap>",_.flOpenTag="<fl>",_.flCloseTag="</fl>",_.fgOpenTag="<fg>",_.fgCloseTag="</fg>",_.slOpenTag="<sl>",_.slCloseTag="</sl>",_.nearOpenTag="<near>",_.nearCloseTag="</near>",_.cdtOpenTag="<cdt>",_.cdtCloseTag="</cdt>",_.toggleIconHtml='<span class="icon" aria-hidden="true" style="float:right;font-size:20px;margin-top:-4px;">\n            <svg class="uitk-icon-svg">\n                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#uitk-icon-toggle90"></use>\n            </svg>\n        </span>',_);function _(){}t.SuggestionRendererUtils=n}),define("typeahead/core/presentation/SvgIcons",["require","exports","jquery"],function(e,t,o){"use strict";t.__esModule=!0;var n=(i.init=function(){if(!i.initialized){var e=document.createElement("div");e.setAttribute("aria-hidden","true"),e.setAttribute("style","display:none"),e.innerHTML=i.svgSprite,o(function(){document.body.insertBefore(e,document.body.childNodes[0])}),i.initialized=!0;var t=document.createElement("style");t.type="text/css",t.innerHTML=".icon > .uitk-icon-svg\n            {fill:currentcolor;height:1em;width:1em;pointer-events:none;position:relative;top:0.15em;}",document.head.appendChild(t)}},i.initialized=!1,i.svgSprite='\n    <svg xmlns="http://www.w3.org/2000/svg">\n    <symbol id="uitk-icon-location" viewBox="0 0 18 18"><path d="M9 0C5.8 0 3.3 2.6 3.3 5.7V6C3.5 11.5 9 18 9 18s5.5-6.5\n     5.7-11.9v-.3C14.7 2.6 12.2 0 9 0zm0 8.3c-1.4 0-2.6-1.2-2.6-2.6S7.6 3.1 9 3.1s2.6 1.2 2.6 2.6S10.4 8.3 9 8.3z"/>\n    </symbol>\n    <symbol id="uitk-icon-flights" viewBox="0 0 18 18"><path d="M1.2 11.1l2.7.9 3.8-3.8L.1 \n    3.9l1.1-1.1c.1-.1.2-.1.4-.1l8.7 2.8L14.8 1c.6-.6 1.5-.9 2.3-1 .2 0 .5 0 .7.2.2.2.3.4.2.7-.1.7-.4 1.7-1 2.3l-4.5 4.5 \n    2.8 8.7c0 .1 0 .3-.1.4l-1.1 1.1-4.3-7.5L6 14.1l.9 2.7-1.1 1.1-2.3-3.4-3.4-2.3 1.1-1.1z"/></symbol>\n    <symbol id="uitk-icon-hotels" viewBox="0 0 18 18"><path d="M17.7 \n    17.5l-.4-1c-.1-.1-.2-.2-.3-.2h-.8V4.9c0-.2-.2-.4-.4-.4h-3.4V.4c0-.2-.2-.4-.4-.4H2.2c-.2 0-.3.2-.3.4v15.9h-.8c-.1 \n    0-.3.1-.3.2l-.4 1c-.1.1 0 .2 0 .4s.2.1.3.1h16.6c.1 0 \n    .2-.1.3-.2s.1-.2.1-.3zm-11.3-4H4.1v-2.2h2.2v2.2zm0-4.5H4.1V6.8h2.2V9zm0-4.5H4.1V2.2h2.2v2.3zM10.1 \n    16H7.9v-4.8h2.2V16zm0-7H7.9V6.8h2.2V9zm0-4.5H7.9V2.2h2.2v2.3zm3.8 9h-2.2v-2.2h2.2v2.2zm0-4.5h-2.2V6.8h2.2V9z"/>\n    </symbol>\n    <symbol id="uitk-icon-cars" viewBox="0 0 18 18"><path d="M17.8 8.3l-1.5-1.4L14.8 2c0-.2-.2-.3-.4-.3H3.6c-.2 \n    0-.3.1-.4.3L1.6 6.9.2 8.3s-.1.1-.1.2V13c0 .1 0 .2.1.3l.6.6V16c0 .2.2.4.4.4h3c.2 0 .4-.2.4-.4v-2.1h8.9V16c0 \n    .2.2.4.4.4h3c.2 0 .4-.2.4-.4v-2.1l.6-.6c.1-.1.1-.2.1-.3V8.5l-.2-.2zM4.4 3.2h9.3l1.1 3.7H3.3l1.1-3.7zm-.8 8.2c-.8 \n    0-1.5-.7-1.5-1.5 0-.9.7-1.5 1.5-1.5S5 9 5 9.9c0 .8-.6 1.5-1.4 1.5zm10.8 0c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.6 \n    1.5 1.5c0 .8-.7 1.5-1.5 1.5z"/></symbol>\n    <symbol id="uitk-icon-train" viewBox="0 0 18 18"><path d="M3.8 18l1-2.5h2l-.2 1h5l-.2-1h2l1 2.5H3.8zm9-18c.8 0 1.5.7\n     1.5 1.5v12.1c0 .2-.2.4-.4.4H4.1c-.2 0-.4-.2-.4-.4V1.5C3.8.7 4.4 0 5.2 0h7.6zM6.5 2.6c0 .2.2.4.4.4h4.2c.2 0 \n     .4-.2.4-.4v-.7c0-.2-.2-.4-.4-.4H6.9c-.2 0-.4.2-.4.4v.7zm.8 8.9c0-.6-.4-1-1-1s-1 .4-1 1 .4 1 1 1 1-.4 1-1zm5.5 \n     0c0-.6-.4-1-1-1s-1 .4-1 1 .4 1 1 1 1-.4 1-1zm0-7H5.3v4.8h7.5V4.5z"/></symbol>\n    <symbol id="uitk-icon-trainalt" viewBox="0 0 18 18"><path d="M10.6 9.9c-.3 \n     0-.6.3-.6.6s.3.6.6.6.6-.3.6-.6-.3-.6-.6-.6zm-3.1 0c-.3 0-.6.3-.6.6s.2.5.6.5c.3 0 \n     .5-.2.5-.6s-.2-.5-.5-.5zm.3-4.4h2.4c.1 0 .2-.1.2-.2v-.4c0-.1-.1-.2-.2-.2H7.8c-.1 0-.2.1-.2.2v.4c0 \n     .2.1.2.2.2zm-.9.9h4.3v2.7H6.9V6.4zM9 .4C4.2.4.4 4.2.4 9s3.9 8.6 8.6 8.6 8.6-3.9 8.6-8.6S13.8.4 9 \n     .4zM6 14.2l.6-1.4h1.2l-.1.6h2.9l-.1-.6h1.2l.6 1.4H6zm6-2.5c0 .1-.1.2-.2.2H6.2c-.1 \n     0-.2-.1-.2-.2v-7c0-.5.4-.9.9-.9h4.3c.5 0 .9.4.9.9l-.1 7z"/></symbol>\n    <symbol id="uitk-icon-notime" viewBox="0 0 18 18"><path d="M17.4 9c0 4-3.2 7.2-7.2 7.2V14c2.8 0 5-2.3 5-5 \n    0-2.8-2.3-5-5-5s-4.9 2.2-5 4.8v.8l.1-.4.9-1c.1-.1.2-.1.3-.1s.2 0 .3.1l1 1c.1.1.1.2.1.3s0 .2-.1.3l-3.6 3.6L.5 \n    9.8c-.1-.1-.1-.2-.1-.3s0-.2.1-.3l1-1c.1-.1.2-.1.3-.1s.2 0 .3.1l.8.9.2.5v-.7c0-4 3.2-7.2 7.2-7.2S17.4 5 17.4 \n    9zm-4.1-.5l-2.4-.2-.2-2.9h-1l-.2 4.3 3.8-.2v-1z"/></symbol>\n    <symbol id="uitk-icon-tag" viewBox="0 0 18 18"><path d="M7.928.111A.376.376 0 0 0 7.661 0H3.434a.37.37 0 0 \n    0-.267.111L.11 3.168a.376.376 0 0 0-.111.267v4.227a.37.37 0 0 0 .111.267l9.961 9.961a.38.38 0 0 0 .535 \n    0l7.284-7.284a.38.38 0 0 0 0-.535L7.928.111zm-3.39 5.942a1.514 1.514 0 1 1 .002-3.028 1.514 1.514 0 0 1-.002 \n    3.028z"/></symbol>\n    <symbol id="uitk-icon-return" viewBox="0 0 18 18"><path d="M18 10.8c0 .1 0 .2-.1.3l-5 4.9c-.2.2-.4.2-.6 \n    0l-1.1-1.1c-.2-.2-.2-.4 0-.6l2-2 .5-.2H.5c-.1 0-.2 0-.3-.1-.1-.1-.1-.2-.1-.3V2.3c0-.1 0-.2.1-.3s.2-.1.3-.1h1.6c.1 0 \n    .2 0 .3.1.1 0 .1.1.1.3v7.3h11.3l-.5-.2-2-2c-.3-.2-.3-.4-.1-.6l1.1-1.1c.2-.2.4-.2.6 0l4.9 4.9c.1 0 .1.1.2.2z"/>\n    </symbol>\n    <symbol id="uitk-icon-close" viewBox="0 0 18 18"><path d="M14.4 \n    5.9c.1-.1.1-.2.1-.3s0-.2-.1-.3l-1.7-1.7c-.2-.2-.4-.2-.6 0L9 6.7 5.9 3.6c-.1-.1-.2-.1-.3-.1-.1 0-.2 0-.3.1L3.6 \n    5.3c-.2.2-.2.4 0 .6L6.7 9l-3.1 3.1c-.1.1-.1.2-.1.3s0 .2.1.3l1.7 1.7c.2.2.4.2.6 0L9 11.3l3.1 3.1c.2.2.4.2.6 \n    0l1.7-1.7c.1-.1.1-.2.1-.3s0-.2-.1-.3L11.3 9l3.1-3.1z"/></symbol>\n    <symbol id="uitk-icon-info" viewBox="0 0 18 18"><path d="M9 .4C4.2.4.4 4.2.4 9s3.9 8.6 8.6 8.6 8.6-3.9 8.6-8.6\n    S13.8.4 9 .4zm1.1 13.9H7.9V7.1h2.2v7.2zm0-8.7H7.9V3.5h2.2v2.1z"/></symbol>\n    <symbol id="uitk-icon-search" viewBox="0 0 18 18"><path d="M10.712.001a7.288 7.288 0 0 0-6.107 11.263L.111 \n    15.758a.378.378 0 0 0 0 .534l1.599 1.599a.378.378 0 0 0 .534 0l4.494-4.494A7.288 7.288 0 1 0 10.713.002l.001.001zm0 \n    11.56c-2.356 0-4.272-1.918-4.272-4.272s1.918-4.272 4.272-4.272 4.272 1.918 4.272 4.272-1.918 4.272-4.272 4.272z"/>\n    </symbol>\n    <symbol id="uitk-icon-toggle90" viewBox="0 0 18 18"><path d="M12.8 8.7c.1.1.1.2.1.3s0 .2-.1.3l-5.5 5.5c-.1.1-.4.1-.5\n     0l-1.6-1.6c-.1-.1-.1-.4 0-.5L8.8 9 5.2 5.3c-.2-.1-.2-.4 0-.5l1.6-1.6c.1-.1.4-.1.5 0l5.5 5.5z"/></symbol>\n    <symbol id="uitk-icon-list" viewBox="0 0 18 18"><path d="M4.5 4.125a.374.374 0 0 1-.375.375H.375A.374.374 0 0 1 0 \n     4.125V.375C0 .167.168 0 .375 0h3.75c.208 0 .375.168.375.375v3.75zM18 .375A.374.374 0 0 0 17.625 0h-10.5a.374.374 0 \n     0 0-.375.375v3.75c0 .208.168.375.375.375h10.5A.374.374 0 0 0 18 4.125V.375zM4.5 7.125a.374.374 0 0 \n     0-.375-.375H.375A.374.374 0 0 0 0 7.125v3.75c0 .208.168.375.375.375h3.75a.374.374 0 0 0 .375-.375v-3.75zm13.5 \n     0a.374.374 0 0 0-.375-.375h-10.5a.374.374 0 0 0-.375.375v3.75c0 .208.168.375.375.375h10.5a.374.374 0 0 0 \n     .375-.375v-3.75zm-13.5 6.75a.374.374 0 0 0-.375-.375H.375a.374.374 0 0 0-.375.375v3.75c0 \n     .208.168.375.375.375h3.75a.374.374 0 0 0 .375-.375v-3.75zm13.5 0a.374.374 0 0 0-.375-.375h-10.5a.374.374 0 0 \n     0-.375.375v3.75c0 .208.168.375.375.375h10.5a.374.374 0 0 0 .375-.375v-3.75z"/></symbol>\n     <symbol id="uitk-icon-camera" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n         <circle cx="12" cy="12" r="3.2"/>\n         <path d="M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 \n         15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"/>\n         <path d="M0 0h24v24H0z" fill="none"/>\n    </symbol>\n    <symbol id="uitk-icon-tune" viewBox="0 0 24 24"><path d="M3,17V19H9V17H3M3,\n            5V7H13V5H3M13,\n            21V19H21V17H13V15H11V21H13M7,\n            9V11H3V13H7V15H9V9H7M21,\n            13V11H11V13H21M15,\n            9H17V7H21V5H17V3H15V9Z" /></symbol>\n    </svg>',i);function i(){}t.SvgIcons=n}),define("typeahead/core/presentation/TypeaheadDropdownBuilder",["require","exports","typeahead/core/presentation/SuggestionRendererUtils"],function(e,t,o){"use strict";t.__esModule=!0;var n=(a.getHtml=function(e){var t=document.createElement("style");t.innerHTML=a.style;var o=document.createElement("ul");if(o.setAttribute("class","results"),o.setAttribute("id",e.ariaOwns),o.setAttribute("role","listbox"),e.resultsByDisplayGroup&&e.resultsByDisplayGroup.length)for(var n=0;n<e.resultsByDisplayGroup.length;n++)o.appendChild(a.getDisplayGroupResultDiv(e.resultsByDisplayGroup[n]));var i=document.createElement("div");return i.appendChild(t),i.appendChild(o),i.appendChild(this.getFooter(e.closeText)),i.innerHTML},a.getFooter=function(e){var t=document.createElement("footer");t.setAttribute("class","footer");var o=document.createElement("a");return o.setAttribute("aria-label",e),o.setAttribute("class","close"),o.setAttribute("href","#"),o.innerHTML=e+'<span class="icon icon-close"></span>',t.appendChild(o),t},a.getDisplayGroupResultDiv=function(e){var t=document.createElement("div");if(t.setAttribute("class","display-group-results"),e.label&&t.appendChild(a.getDisplayGroupLabelListItem(e)),e.items&&e.items.length)for(var o=0;o<e.items.length;o++){var n=e.items[o];n.label&&n.showAsHierarchy&&t.appendChild(a.getLabelListItem(n)),t.appendChild(a.getSuggestionListItem(n))}return t},a.getDisplayGroupLabelListItem=function(e){var t=document.createElement("li");return t.setAttribute("class","display-group-name"),t.setAttribute("role","presentation"),t.setAttribute("tabindex","-1"),t.innerHTML='<div role="option" class="details">'+e.label+"</div>",t},a.getLabelListItem=function(e){var t=document.createElement("li");return t.setAttribute("class","non-results-item"),t.setAttribute("role","presentation"),t.setAttribute("tabindex","-1"),t.innerHTML='\n            <div class="child-suggestion">\n                <span class="child-suggestion-label">'+e.label+"</span>\n            </div>",t},a.getSuggestionListItem=function(e){var t=document.createElement("li");return"LIST"===e.type?t.setAttribute("class","results-item list-item"):t.setAttribute("class","results-item"),t.setAttribute("role","presentation"),e.html?t.innerHTML=e.html:t.appendChild(a.getSuggestionAnchorTag(e)),t},a.getSuggestionAnchorTag=function(e){var t=document.createElement("a");return t.setAttribute("aria-selected","false"),t.setAttribute("class","details"),t.setAttribute("data-id",e.gaiaId),t.setAttribute("data-row",e.index),t.setAttribute("data-type",e.type),t.setAttribute("data-value",e.regionNames.lastSearchName),t.setAttribute("href","#"),t.setAttribute("id","aria-option-"+e.index),t.setAttribute("onclick","return false;"),t.setAttribute("role","option"),t.setAttribute("style",e.style?e.style:""),t.setAttribute("tabindex","-1"),t.innerHTML=o.SuggestionRendererUtils.getHtml(e),t},a.style="\n        .autocomplete-dropdown .display-group-results:not(:first-of-type) {\n            padding-top: 0.9230769230769231em;\n            border-top: 0.07692307692307693em solid #c7c7c7;\n        }\n        .autocomplete-dropdown .display-group-results:not(:last-of-type) {\n            padding-bottom: 0.9230769230769231em;\n        }\n        .autocomplete-dropdown li.display-group-name {\n            list-style: none;\n            padding: 0 0.92307692em;\n        }\n        .autocomplete-dropdown li.display-group-name div.details {\n            color: #616161;\n            padding: 0 0.46153846em 0.46153846em 0.46153846em;\n            font-weight: bold;\n        }\n        .autocomplete-dropdown li.non-results-item div.child-suggestion {\n            padding-left: 1.88235em;\n        }\n        .autocomplete-dropdown span.child-suggestion-label {\n            padding-left: 1.5em;\n            color: #313131;\n        }\n        .autocomplete-dropdown li.results-item {\n            margin: 0 !important;\n        }\n        .results-item.list-item {\n            box-shadow: 0 0 3px 0 rgba(0,0,0,0.2) !important;\n            background: white;\n            padding: 0;\n        }\n        .results-item.list-item > a.details {\n            height: 44px;\n            padding-left: 18px;\n            padding-top: 12px;\n        }\n        .autocomplete-dropdown .highlight {\n            background: #c5e3ff !important;\n        }\n        @media only screen and (-ms-high-contrast:active) {\n            .autocomplete-dropdown .highlight {\n                border: 1px solid;\n            }\n        }\n        [dir=ltr] span.dynamicTextFooter > a, [dir=ltr] span.dynamicTextFooter > span { float:left; }\n        [dir=rtl] span.dynamicTextFooter > a, [dir=rtl] span.dynamicTextFooter > span { float:right; }\n        [dir=ltr] span.dynamicTextFooter > a.sorryButton, [dir=ltr] span.dynamicTextFooter > a.feedbackYes\n            { margin-left: 5px; }\n        [dir=rtl] span.dynamicTextFooter > a.sorryButton, [dir=rtl] span.dynamicTextFooter > a.feedbackYes\n            { margin-right: 5px; }\n    ",a);function a(){}t.TypeaheadDropdownBuilder=n}),define("UserFeedbackTool",["require","exports","typeahead/core/loc","typeahead/core/TypeaheadUtils","typeahead/core/userfeedbacktool/data/UserFeedbackDataLogger","typeahead/core/userfeedbacktool/ui/AppreciationMessage","typeahead/core/userfeedbacktool/ui/DynamicFooter","typeahead/core/userfeedbacktool/ui/UserFeedbackBox"],function(e,t,o,n,l,r,s,c){"use strict";t.__esModule=!0;var i=(d.getSingleton=function(){return this.instance||(this.instance=new d),this.instance},d.setButtonText=function(e){e.find("button.submit").text(o.submitMessage),e.find("button.cancel").text(o.cancelMessage)},d.setInputHasFocus=function(e){e&&$("#"+e).attr("data-hasfocus","true")},d.prototype.render=function(e,t,o,n,i){var a=$('\n<div style="position:absolute; bottom:24px;" class="feedbackFooter">\n <button type="button" class="userfeedback cancel">CANCEL</button>\n <button type="button" class="userfeedback submit" disabled="disabled">SUBMIT</button>\n</div>\n'),r=$(document.createElement("div"));r.attr("aria-modal","true"),r.append((new c.UserFeedbackBox).getJQueryElement()),d.setButtonText(a),r.append(a);var s=uitk.modal.create({animation:"fade-in-none-out",content:r,focusOpen:"rd1",footer:!1,modalId:"userFeedbackToolModal"});this.$userFeedbackToolModal=$("#userFeedbackToolModal"),this.modifyStyle(),this.setPosition(),this.addButtonClickEventHandlers(s,e,t,o,n,i),this.enableSubmitButton()},d.prototype.enableSubmitButton=function(){var e=this;this.$userFeedbackToolModal.find("input[name=issue]").change(function(){e.$userFeedbackToolModal.find("button.submit").removeAttr("disabled")})},d.prototype.setPosition=function(){if(!n.TypeaheadUtils.isWithinMobileBreakpoint()){var e=$(".autocomplete-dropdown:visible");e.length&&(e.offset().top>$(window).scrollTop()+68&&this.$userFeedbackToolModal.find(".modal-inner").css("margin-top",e.offset().top-$(window).scrollTop()-150),this.$userFeedbackToolModal.find(".modal-inner").css("margin-left",e.offset().left+5))}},d.prototype.modifyStyle=function(){this.$userFeedbackToolModal.children(".modal-inner").addClass("userFeedbackContainer"),$(".otherField").hide(),this.buttonDisplayFeatures()},d.prototype.buttonDisplayFeatures=function(){this.buttonDisplayOtherBox("#rd4",!0),this.buttonDisplayOtherBox("#rd3",!1),this.buttonDisplayOtherBox("#rd2",!1),this.buttonDisplayOtherBox("#rd1",!1)},d.prototype.buttonDisplayOtherBox=function(e,t){$(e).on("click change",function(){$(e).prop("checked")&&(t?$(".otherField").show().focus():$(".otherField").hide())})},d.prototype.addButtonClickEventHandlers=function(e,t,o,n,i,a){var r=this;this.$userFeedbackToolModal.find("button.submit").disabled=!0,this.$userFeedbackToolModal.find("button.cancel").on("click",function(){d.setInputHasFocus(a),e.close()}),this.$userFeedbackToolModal.find("button.submit").on("click",function(){r.handleSubmit(e,t,o,n,i,a)})},d.prototype.handleSubmit=function(e,t,o,n,i,a){d.setInputHasFocus(a),this.submitFeedbackData(n,o,t,i),e.close(),r.AppreciationMessage.getSingleton().render(a),$(".autocomplete-dropdown span.dynamicTextFooter").html("").prepend((new s.DynamicFooter).getJQueryForYes())},d.prototype.submitFeedbackData=function(e,t,o,n){var i,a=this.$userFeedbackToolModal.find("input[name='issue']:checked.user_feedback").val();"other"===a&&(i=this.$userFeedbackToolModal.find(".field.otherField").val());var r=[];this.$userFeedbackToolModal.find("input[name='destination']:checked.user_feedback").each(function(e,t){r.push($(t).val())});var s=this.$userFeedbackToolModal.find(".field.comment").val();l.UserFeedbackDataLogger.getSingleton().log({areSuggestionsHelpful:!1,comment:s,expectedDestinationTypes:r,issueType:a,issueTypeOther:i,lob:e,searchQuery:t,searchType:o,tnls:n},!0)},d);function d(){}t.UserFeedbackTool=i}),define("typeahead/core/util/Functional",["require","exports","typeahead/core/logging/TypeaheadErrorLogger","typeahead/core/logging/ProblemOrigin","typeahead/core/logging/Severity"],function(e,t,c,d,p){"use strict";t.__esModule=!0,t.mapMethodByName=function(e,t){for(var o=[],n=2;n<arguments.length;n++)o[n-2]=arguments[n];if(!Array.isArray(e))return c.default.log(new Error("mapMethodByName expected targets to be in an array, but got "+JSON.stringify(e)),p.Severity.MustFix,d.ProblemOrigin.UniversalTypeahead),[];for(var i=[],a=0,r=e;a<r.length;a++){var s=r[a],l=s[t];if("function"==typeof l)try{i.push(l.apply(s,o))}catch(e){c.default.log(e,p.Severity.MustFix,d.ProblemOrigin.UniversalTypeahead)}else c.default.log(new Error(t+" is not supported by "+JSON.stringify(s)),p.Severity.MustFix,d.ProblemOrigin.UniversalTypeahead)}return i}}),define("typeahead/core/util/Optional",["require","exports"],function(e,t){"use strict";t.__esModule=!0;var o=(n.of=function(e){if(n.isEmpty(e))throw new Error("Optional.of() does not accept undefined or null as argument");return new n(e)},n.ofNullable=function(e){return new n(e)},n.empty=function(){return new n(null)},n.isEmpty=function(e){return null==e},n.prototype.get=function(){if(this.isPresent())return this.value;throw new Error("trying to get the value of an empty Optional")},n.prototype.isPresent=function(){return!n.isEmpty(this.value)},n.prototype.orElse=function(e){return this.isPresent()?this.value:e},n);function n(e){this.value=e}t.Optional=o});__extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();define("typeahead/core/geolocation/logging/GeolocationMetric",["require","exports","typeahead/core/logging/TypeaheadMetric"],function(e,t,o){"use strict";t.__esModule=!0;var l,n=(l=o.TypeaheadMetric,__extends(i,l),i);function i(e,t,o,n,i,a,r){var s=l.call(this,e,t,"GeolocationAsSuggestion",r)||this;return s.position=i,s.positionError=a,s.latency=n-o,s}t.GeolocationMetric=n}),define("typeahead/core/geolocation/logging/GeolocationMetricLogger",["require","exports","typeahead/core/geolocation/logging/GeolocationMetric","typeahead/core/geolocation/message/GeolocationRequestMessage","typeahead/core/geolocation/message/GeolocationResponseMessage","typeahead/core/logging/CollectorTransport","typeahead/core/message/TypeaheadMessage","typeahead/core/TypeaheadUtils"],function(e,t,o,n,i,a,r,s){"use strict";t.__esModule=!0;var l=(c.prototype.emitGeolocationMetric=function(){(new a.CollectorTransport).log(new o.GeolocationMetric(s.Lob[s.TypeaheadUtils.getLob()],this.domElementId,this.beginTimestamp,this.endTimestamp,this.position,this.positionError,void 0),"typeahead_client_metrics")},c);function c(){var o=this;r.TypeaheadMessage.subscribe(n.GeolocationRequestMessage.getTopic(),function(e,t){o.lob=s.Lob[s.TypeaheadUtils.getLob()],o.domElementId=t.getDomElementId(),o.beginTimestamp=Date.now()}),r.TypeaheadMessage.subscribe(i.GeolocationResponseMessage.getTopic(),function(e,t){o.position=t.getPosition(),o.positionError=t.getPositionError(),o.endTimestamp=Date.now(),o.emitGeolocationMetric()})}t.GeolocationMetricLogger=l}),define("typeahead/core/geolocation/message/GeolocationClearedMessage",["require","exports"],function(e,t){"use strict";t.__esModule=!0;var o=(n.getTopic=function(){return"typeahead.geolocation_cleared"},n.prototype.getTopic=function(){return n.getTopic()},n.prototype.getGeolocationResult=function(){return this.geolocationResult},n.prototype.getDomElementId=function(){return this.domElementId},n);function n(e,t){this.domElementId=e,this.geolocationResult=t}t.GeolocationClearedMessage=o}),define("typeahead/core/geolocation/message/GeolocationRequestMessage",["require","exports"],function(e,t){"use strict";t.__esModule=!0;var o=(n.getTopic=function(){return"typeahead.geolocation_request"},n.prototype.getTopic=function(){return n.getTopic()},n.prototype.getDomElementId=function(){return this.domElementId},n);function n(e){this.domElementId=e}t.GeolocationRequestMessage=o}),define("typeahead/core/geolocation/message/GeolocationResponseMessage",["require","exports"],function(e,t){"use strict";t.__esModule=!0;var o=(n.getTopic=function(){return"typeahead.geolocation_response"},n.prototype.getTopic=function(){return n.getTopic()},n.prototype.getPosition=function(){return this.position},n.prototype.getPositionError=function(){return this.postionError},n.prototype.getGeolocationResult=function(){return this.geolocationResult},n.prototype.getSubmitButton=function(){return this.submitButton},n.prototype.getDomElementId=function(){return this.domElementId},n);function n(e,t,o,n,i){this.domElementId=e,this.position=t,this.postionError=o,this.geolocationResult=n,this.submitButton=i}t.GeolocationResponseMessage=o}),define("typeahead/core/userfeedbacktool/data/UserFeedbackDataLogger",["require","exports","typeahead/core/logging/CollectorTransport","typeahead/core/message/InputClearedMessage","typeahead/core/message/InputValueEditedMessage","typeahead/core/message/TypeaheadMessage","typeahead/core/message/UserExitedMessage","typeahead/core/TypeaheadUtils"],function(e,t,o,n,i,a,r,s){"use strict";var l,c;t.__esModule=!0,(c=l=t.SearchType||(t.SearchType={}))[c.typeahead=0]="typeahead",c[c.resolve=1]="resolve";var d=(p.getSingleton=function(){return this.instance||(this.instance=new p),this.instance},p.getUserFeedbackData=function(e){return{areSuggestionsHelpful:e.areSuggestionsHelpful?"yes":"no",browser:dctk&&dctk.logging&&dctk.logging.browser||"",browserVersion:dctk&&dctk.logging&&dctk.logging.version||"",comment:e.comment,deviceType:s.TypeaheadUtils.getDeviceType(),expectedDestinationTypes:e.expectedDestinationTypes,guid:s.TypeaheadUtils.getGuid(),issueType:e.issueType,issueTypeOther:e.issueTypeOther,lob:e.lob,locale:s.TypeaheadUtils.getLocale(),pageId:s.TypeaheadUtils.getPageId(),platform:dctk&&dctk.logging&&dctk.logging.OS||"",pointOfSale:s.TypeaheadUtils.getPointOfSale(),searchQuery:e.searchQuery,searchType:l[e.searchType],siteId:s.TypeaheadUtils.getSiteId(),timestamp:Date.now()+"",tnls:e.tnls&&e.tnls.length?e.tnls.split("|"):void 0,userAgent:navigator.userAgent}},p.prototype.log=function(e,t){this.data=p.getUserFeedbackData(e),t&&this.emitToCollector()},p.prototype.emitToCollector=function(){this.data&&(this.collectorTransport.log(this.data,"typeahead_userfeedback"),this.data=null)},p);function p(){var e=this;this.collectorTransport=new o.CollectorTransport,a.TypeaheadMessage.subscribe(n.InputClearedMessage.getTopic(),function(){e.emitToCollector()}),a.TypeaheadMessage.subscribe(i.InputValueEditedMessage.getTopic(),function(){e.emitToCollector()}),a.TypeaheadMessage.subscribe(r.UserExitedMessage.getTopic(),function(){e.emitToCollector()})}t.UserFeedbackDataLogger=d}),define("typeahead/core/userfeedbacktool/ui/AppreciationMessage",["require","exports","typeahead/core/loc","typeahead/core/TypeaheadUtils"],function(e,t,o,a){"use strict";t.__esModule=!0;var n=(i.getSingleton=function(){return this.instance||(this.instance=new i),this.instance},i.prototype.render=function(e){var t=$(document.createElement("div"));t.append(this.$appreciationMessage);var o=uitk.modal.create({animation:"fade-in-none-out",content:t,focusClose:e,footer:!1,modalId:"appreciationModal"}),n=$("#appreciationModal");n.children(".modal-inner").addClass("appreciationModalContainer");var i=$(".autocomplete-dropdown:visible");!a.TypeaheadUtils.isWithinMobileBreakpoint()&&i.length&&(i.offset().top>$(window).scrollTop()+68&&n.find(".modal-inner").css("margin-top",i.offset().top-$(window).scrollTop()-150),n.find(".modal-inner").css("margin-left",i.offset().left+5)),n.find("#modalCloseButton").remove(),n.find("button.backToSearch").on("click",function(){e&&$("#"+e).attr("data-hasfocus","true"),o.close()})},i);function i(){this.$appreciationMessage=$('\n    <div class="appreciationBox">\n        <label id="appreciation_label" class="box-title appreciationText"></label>\n        <div class="separator" style="margin-top:32px; width:100%; height:1px;background-color: #c7c7c7"></div>\n        <button role="button" type="button" class="userfeedback backToSearch no-outline" id="backToSearchButton"/>\n    </div>\n'),this.$appreciationMessage.children(".appreciationText").text(o.appreciatingUserMessage),this.$appreciationMessage.children(".backToSearch").text(o.backToSearchMessage)}t.AppreciationMessage=n}),define("typeahead/core/userfeedbacktool/ui/DynamicFooter",["require","exports","typeahead/core/loc"],function(e,t,n){"use strict";t.__esModule=!0;var o=(i.prototype.getJQueryElement=function(){return this.$dynamicFooter},i.prototype.getJQueryForNo=function(){return this.$noElement},i.prototype.getJQueryForYes=function(){return this.$yesElement},i);function i(e,t,o){void 0===e&&(e=$('\n    <span class = "dynamicTextFooter" style="color:#757575" role="group">\n        <span class="helpful" style="width:auto; padding-top: 5.53846px;\n            color:#757575">Are these suggestions helpful?\n        </span>\n        <a role="button" class="feedbackYes" href="#" onclick="return false;"\n            style="width:auto;" >\n            Yes\n        </a>\n        <a role="button" class="feedbackNo" href="#" onclick="return false;"\n            style="width:auto;" >\n            No\n        </a>\n    </span>\n')),void 0===t&&(t=$('\n    <span class = "dynamicTextFooter">\n        <span class="sorryMessage" style="width:auto; padding-top: 5.53846px; color:#757575">\n            We\'re sorry to hear that!\n        </span>\n        <a aria-label="Feedback" class="sorryButton" href="#" onclick="return false;"\n            style="width:auto; color: #0065b8;" >\n            Help us improve\n        </a>\n    </span>\n')),void 0===o&&(o=$('\n    <span class = "dynamicTextFooter">\n        <span class="thankingMessage" style="width:auto; padding-top: 5.53846px; color:#757575">\n            Thank you for your feedback!\n        </span>\n    </span>\n')),this.$dynamicFooter=e,this.$noElement=t,this.$yesElement=o,this.$dynamicFooter.find("span.helpful").text(n.areSuggestionsHelpfulMessage),this.$dynamicFooter.find(".feedbackYes").text(n.agreeMessage),this.$dynamicFooter.find(".feedbackNo").text(n.disagreeMessage),this.$noElement.find("span.sorryMessage").text(n.regretMessage),this.$noElement.find("a.sorryButton").text(n.helpImproveTypeaheadMessage),this.$yesElement.find("span.thankingMessage").text(n.thankingUserMessage)}t.DynamicFooter=o}),define("typeahead/core/userfeedbacktool/ui/HotelSearchResultsPageFeedbackPrompt",["require","exports","typeahead/core/loc","typeahead/core/plugins/ExecutionHelper","typeahead/core/TypeaheadUtils","typeahead/core/userfeedbacktool/data/UserFeedbackDataLogger","UserFeedbackTool"],function(e,t,o,n,i,a,r){"use strict";t.__esModule=!0;var s=(l.getSingleton=function(){return this.instance||(this.instance=new l),this.instance},l.isResolveSearch=function(){return!i.TypeaheadUtils.getURLParameter("regionId")&&!i.TypeaheadUtils.getURLParameter("latLong")},l.hasErrorOnPage=function(){return 0<$("#errorContainer .alert-message").length},l.hideUserFeedbackPrompt=function(){$("#searchForm").removeClass("showUserFeedbackPrompt")},l.showUserFeedbackPrompt=function(){$("#searchForm").addClass("showUserFeedbackPrompt")},l.prototype.show=function(){this.reset(),l.isResolveSearch()?(this.$resolveElement=$('\n    <div class="userFeedbackPrompt_resolve">\n        <div class="mod-white-wrapper userFeedbackPromptText">\n            <span/>\n            <a style="display: inline-block; cursor: pointer; color: rgb(0,101,184);"></a>\n        </div>\n    </div>\n'),this.$disambigElement=$('\n    <div class="userFeedbackPrompt_disambig userFeedbackPromptText" style="\n        display: block;\n        margin: 12px 0 -12px 24px;\n        padding: 9px 18px;\n        background: white;\n    ">\n        <span/>\n        <a style="display: inline-block; cursor: pointer; color: rgb(0,101,184);"></a>\n    </div>\n'),this.buildStyle(),l.showUserFeedbackPrompt(),this.setFeedbackPromptText(),l.hasErrorOnPage()?$("#mobileErrorContainer").prepend(this.$disambigElement):$("#wizard").after(this.$resolveElement),this.setFeedbackPromptText(),this.handleSearchWizardOpen()):l.hideUserFeedbackPrompt()},l.prototype.buildStyle=function(){var e=document.createElement("style");e.type="text/css",e.innerHTML="\n    .userFeedbackPrompt_disambig, .userFeedbackPrompt_resolve {display:none;}\n    .showUserFeedbackPrompt .userFeedbackPrompt_disambig, .showUserFeedbackPrompt .userFeedbackPrompt_resolve\n        { display: block; }\n    .showUserFeedbackPrompt .userFeedbackPrompt_resolve {\n        margin: auto;\n        max-width: 69.17647059em;\n        padding-right: .70588235em;\n        padding-left: .70588235em;\n    }\n    .showUserFeedbackPrompt .userFeedbackPrompt_resolve .mod-white-wrapper { padding: 6px 12px 6px 30px;}\n    [dir=ltr] .showUserFeedbackPrompt .userFeedbackPrompt_resolve .mod-white-wrapper {text-align: left;}\n    [dir=rtl] .showUserFeedbackPrompt .userFeedbackPrompt_resolve .mod-white-wrapper {text-align: right;}\n\n    .showUserFeedbackPrompt .userFeedbackPromptText { font-size: 14px; }\n    @media screen and (max-width: 958px) {\n        .showUserFeedbackPrompt .userFeedbackPrompt_resolve {\n            margin: 6px 12px 0 12px;\n            padding: 0;\n            text-align: left;\n        }\n        .showUserFeedbackPrompt .userFeedbackPrompt_resolve .mod-white-wrapper {\n            border: none;\n            border-radius: 0;\n            padding: 6px 12px 6px 12px;\n        }\n    }\n    @media screen and (max-width: 491px) { .showUserFeedbackPrompt .userFeedbackPromptText { font-size: 12px; }}\n    @media screen and (min-width: 78.75em) {\n        .showUserFeedbackPrompt .userFeedbackPrompt_resolve {\n            padding-right: 10.82352941em;\n            padding-left: 10.11764706em;\n            max-width: 89.41176471em;\n        }\n        .showUserFeedbackPrompt .userFeedbackPrompt_resolve .mod-white-wrapper { padding: 6px 12px 6px 24px; }\n    }\n",this.$style=$(e),$("head").append(this.$style)},l.prototype.setFeedbackPromptText=function(){var e=o.incorrectResolveMessage||"Not looking for {0}?";e=e.replace("{0}",$("#searchWizard .destinationName").text()||$("#searchWizard [name=destination]").val()),$(".userFeedbackPromptText > span").html(e),$(".userFeedbackPromptText > a").html(o.helpImproveResolveMessage||"Help improve our search tool").on("click",function(){r.UserFeedbackTool.getSingleton().render(a.SearchType.resolve,i.TypeaheadUtils.getURLParameter("destination"),"HOTELS",n.abTest.getActiveClientTests())})},l.prototype.handleSearchWizardOpen=function(){uitk.subscribe("wizardView.searchWizardOpened",function(){l.hideUserFeedbackPrompt(),$("#changeSearchWizard").one("click",function(){l.showUserFeedbackPrompt()})})},l.prototype.reset=function(){this.$disambigElement&&this.$disambigElement.remove(),this.$resolveElement&&this.$resolveElement.remove(),this.$style&&this.$style.remove()},l);function l(){}t.HotelSearchResultsPageFeedbackPrompt=s}),define("typeahead/core/userfeedbacktool/ui/UserFeedbackBox",["require","exports","typeahead/core/loc","typeahead/core/TypeaheadUtils"],function(e,t,o,n){"use strict";t.__esModule=!0;var i=(a.addCss=function(){if(!a.isStyleAdded){var e=document.createElement("style");e.type="text/css",e.innerHTML=a.css,document.head.appendChild(e),n.TypeaheadUtils.isWithinMobileBreakpoint()||($(".userFeedbackContainer").css("margin",0),$(".appreciationModal").css("margin",0)),a.isStyleAdded=!0}},a.prototype.getJQueryElement=function(){return this.$userFeedbackBox},a.prototype.setLocalizedText=function(){this.$userFeedbackBox.find("label.explain-issue-message").html(o.explainIssueMessage||"If you have a moment, please let us know what issue you were experiencing:"),this.$userFeedbackBox.find("label#missing-message").html(o.missingInformationMessage||"Missing Information"),this.$userFeedbackBox.find("label#wrong-message").html(o.wrongInformationMessage||"Wrong Information"),this.$userFeedbackBox.find("label#irrelevant-message").html(o.irrelevantInformationMessage||"Irrelevant Information"),this.$userFeedbackBox.find("label#other-message").html(o.otherMessage||"Other"),$("textarea.otherField").attr("placeholder",o.describeOtherIssueMessage),this.$userFeedbackBox.find("textarea.otherField").attr("placeholder",o.describeOtherIssueMessage||"Please describe your issue"),this.$userFeedbackBox.find("label.what-destination-type-message").html(o.whatDestinationTypeMessage||"What kind of destination were you looking for?"),this.$userFeedbackBox.find("label#city").html(o.city||"City"),this.$userFeedbackBox.find("label#address").html(o.addressMessage||"Address"),this.$userFeedbackBox.find("label#landmark").html(o.landmarkMessage||"Landmark"),this.$userFeedbackBox.find("label#hotel").html(o.hotelMessage||"Hotel"),this.$userFeedbackBox.find("label#train_station").html(o.trainStationMessage||"Train Station"),this.$userFeedbackBox.find("label#airport").html(o.airportMessage||"Airport"),this.$userFeedbackBox.find(".add-comment").html(o.commentMessage||"Add a comment (optional):")},a.css="\n        .appreciationModalContainer > div.modal-body {\n            padding: 16px 14px 14px 14px;\n        }\n        .appreciationModalContainer button.userfeedback {\n            font-size: 14px;\n            font-weight: normal;\n            color: #105ce8;\n            position: absolute;\n            bottom: 14px;\n            background-color: white;\n        }\n        .appreciationModalContainer {\n            min-height: 150px !important;\n            max-width: 375px !important;\n            border-radius: 5px !important;\n        }\n        #userFeedbackToolModal {\n            overflow: auto !important;\n        }\n        #userFeedbackToolModal .modal-close {\n            display: none;\n        }\n        .userFeedbackContainer {\n            width: 381px !important;\n            border-radius: 5px !important;\n        }\n        #userFeedbackToolModal .modal-body {\n            padding-left: 27px !important;\n            padding-right: 27px !important;\n            padding-top: 28px !important;\n        }\n        #userFeedbackToolModal .feedbackBox { margin-bottom: 30px}\n        #userFeedbackToolModal label, #appreciationModal label {\n            font-size: 15px;\n            color: #404040;\n        }\n        #userFeedbackToolModal button.userfeedback {\n            font-family: Helvetica;\n            font-size: 14px;\n            font-weight: normal;\n            color: #105ce8;\n            border: none;\n            background-color: white;\n        }\n        #userFeedbackToolModal div.box ul {\n            padding-bottom: 10px;\n            list-style: none;\n            margin: 0;\n            padding: 0;\n        }\n        #userFeedbackToolModal ul.radiogroup li {\n            display: inline-block;\n        }\n        #userFeedbackToolModal ul.radiogroup {\n            padding: 0;\n            margin-bottom: 24px;\n        }\n        #userFeedbackToolModal ul.radiogroup input[type=radio] {\n            position: fixed;\n            opacity: 0;\n            height:35px;\n            width: 140px;\n        }\n        #userFeedbackToolModal ul.radiogroup input[type=radio] ~ label {\n            border: 1px solid #105ce8;\n            border-radius: 100px;\n            color: #105ce8;\n            margin-top: 0px;\n            min-width: 128px;\n            text-align: center;\n            font-size: 12px;\n            padding: 8px 16px 8px 16px;\n        }\n        #userFeedbackToolModal ul.radiogroup input[type=radio]:checked ~ label{\n            background-color: #105ce8;\n            color: white;\n        }\n        #userFeedbackToolModal ul.checkbox li {\n            display: inline-block;\n            width: 49%;\n            margin-top: 0 !important;\n        }\n        #userFeedbackToolModal ul.checkbox {\n            padding: 0;\n        }\n        #userFeedbackToolModal ul.checkbox li label {\n            display: inline;\n            font-size: 13px;\n            color: #404040;\n        }\n        #userFeedbackToolModal textarea.field {\n            width: 381px;\n            height: 36px;\n            border: solid 1px #c7c7c7;\n            resize: none;\n            max-width: 100%;\n            font-size: 12px;\n            padding: 10px 5px 10px 5px;\n        }\n        #userFeedbackToolModal textarea.field.otherField {\n            margin-top: -20px;\n        }\n        .modal-background {\n            background: #000000 !important;\n            opacity: 0.6 !important;\n        }\n        [dir=ltr] #userFeedbackToolModal .feedbackFooter { right: 24px; }\n        [dir=rtl] #userFeedbackToolModal .feedbackFooter { left: 24px; }\n        [dir=ltr] .appreciationModalContainer button.userfeedback { right: 14px; }\n        [dir=rtl] .appreciationModalContainer button.userfeedback { left: 14px; }\n    ",a);function a(){this.$userFeedbackBox=$('\n    <div class="feedbackBox" id="feedbackBox">\n        <label id="explain_issue_id" class="explain-issue-message">\n            If you have a moment, please let us know what issue you were experiencing:\n        </label>\n        <ul id="explain_issue_radiogroup" class="radiogroup no-outline" role="radiogroup"\n            aria-labelledby="explain_issue_id">\n            <li>\n                <input type="radio" name="issue" class="user_feedback" id="rd1" value="missing_information"\n                role="radio" aria-labelledby="missing-message">\n                <label for="rd1" id="missing-message">Missing Information</label></li></input>\n            <li>\n                <input type="radio" name="issue" class="user_feedback" id="rd2" value="wrong_information" role="radio"\n                    aria-labelledby="wrong-message">\n                <label for="rd2" id="wrong-message">Wrong Information</label></input>\n            </li>\n            <li>\n                <input type="radio" name="issue" class="user_feedback" id="rd3" value="irrelevant_information"\n                role="radio" aria-labelledby="irrelevant-message">\n                <label for="rd3" id="irrelevant-message">Irrelevant Information</label></input>\n            </li>\n            <li>\n                <input type="radio" name="issue" class="user_feedback" id="rd4" value="other" role="radio"\n                     aria-labelledby="other-message">\n                <label for="rd4" id="other-message">Other</label></input>\n            </li>\n        </ul>\n        <textarea class="field otherField" placeholder="Please describe your issue."></textarea>\n        <label id="destination_type_label" class="box-title what-destination-type-message"></label>\n        <ul class="checkbox" role="group" aria-labelledby="destination_type_label">\n            <li>\n                <input role="checkbox" type="checkbox" name="destination" class="user_feedback" id="cb1" value="city"\n                    aria-labelledby="city">\n                <label for="cb1" id="city">City</label>\n            </li>\n            <li>\n                <input role="checkbox" type="checkbox" name="destination" class="user_feedback" id="cb2"\n                    aria-labelledby="address" value="address">\n                <label for="cb2" id="address">Address</label>\n            </li>\n            <li>\n                <input role="checkbox" type="checkbox" name="destination" class="user_feedback" id="cb3"\n                    value="landmark" aria-labelledby="landmark">\n                <label for="cb3" id="landmark">Landmark</label>\n            </li>\n            <li>\n                <input role="checkbox" type="checkbox" name="destination" class="user_feedback" id="cb4" value="hotel"\n                    aria-labelledby="hotel">\n                <label for="cb4" id="hotel">Hotel</label>\n            </li>\n            <li>\n                <input role="checkbox" type="checkbox" name="destination" class="user_feedback" id="cb5"\n                    value="train_station" aria-labelledby="train_station">\n                <label for="cb5" id="train_station">Train Station</label>\n            </li>\n            <li>\n                <input role="checkbox" type="checkbox" name="destination" class="user_feedback" id="cb6"\n                    value="airport" aria-labelledby="airport">\n                <label for="cb6" id="airport">Airport</label>\n            </li>\n        </ul>\n        <span id="add_comment_label" class="add-comment" style="font-size: 12px;">\n            Add a comment (optional)\n        </span>\n        <textarea class="field comment" aria-labelledby="add_comment_label"></textarea>\n    </div>\n'),a.addCss(),this.setLocalizedText()}t.UserFeedbackBox=i}),define("typeahead/dataprovider/IClientSideCacheStatusChecker",["require","exports"],function(e,t){"use strict";t.__esModule=!0,t.isClientSideCacheDisabled=function(e){return"object"==typeof e&&"function"==typeof e.isClientSideCacheDisabled}}),define("typeahead/dataprovider/suggestservice/SuggestServiceQueryParamsUtils",["require","exports","typeahead/core/plugins/ExecutionHelper"],function(e,t,a){"use strict";t.__esModule=!0,t.addFeatureFlag=function(e,t,o,n,i){return void 0!==o&&(o.features=o.features&&o.features.length&&o.features.push&&o.features||[],a.shouldExecute(n,t)&&o.features.indexOf(e)<0&&o.features.push(e)),o}}),define("typeahead/dataprovider/uta/ChildSuggestionsToggle",["require","exports","typeahead/core/TypeaheadUtils"],function(e,t,o){"use strict";t.__esModule=!0;var n=(i.prototype.hideChildren=function(){var e=this;this.childElements.slideUp("fast",function(){return e.setOpenClass()}),this.showMoreElement.addClass(o.TypeaheadUtils.responsiveTAClasses.hlClass)},i.prototype.showChildren=function(){var e=this;this.childElements.slideDown("fast",function(){return e.setCloseClass()}),this.showMoreElement.addClass(o.TypeaheadUtils.responsiveTAClasses.hlClass)},i.prototype.initState=function(){this.addChevron(),this.childElements.css("display","none"),this.setOpenClass()},i.prototype.addChevron=function(){0!==this.firstSuggestionElement.find("div.multiLineDisplay").length?this.firstSuggestionElement.find("div.multiLineDisplay").find("br").before(this.showMoreElement):(this.firstSuggestionElement.find("div.singleLineText").append(this.showMoreElement),this.firstSuggestionElement.find(".icon").first().css("top","6px"))},i.prototype.setOpenClass=function(){this.showMoreElement.removeClass(this.COLLAPSE_CLASS),this.showMoreElement.addClass(this.OPEN_CLASS),this.showOpenIcon()},i.prototype.showOpenIcon=function(){this.showMoreElement.find("svg>use").attr("xlink:href","#uitk-icon-toggle180")},i.prototype.setCloseClass=function(){this.showMoreElement.removeClass(this.OPEN_CLASS),this.showMoreElement.addClass(this.COLLAPSE_CLASS),this.showCloseIcon()},i.prototype.showCloseIcon=function(){this.showMoreElement.find("svg>use").attr("xlink:href","#uitk-icon-toggle0")},i);function i(e,t){this.OPEN_CLASS="show-more-icon",this.COLLAPSE_CLASS="collapse-icon",this.DEFAULT_CLASSES="icon chevron-icon",this.childElements=e.find("li:has(a>.child-suggestion)"),this.firstSuggestionElement=e.find("li.results-item:first"),this.showMoreElement=$('<div class="'+this.DEFAULT_CLASSES+'"\n                            style="margin: 0 0.76923077em; padding: 0 1px; border-radius: 12px">\n                            <svg class="uitk-icon-svg" style="font-size: 20px; top: 6px" role="img">\n                                <title>'+t+'</title>\n                                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#uitk-icon-toggle180"></use>\n                            </svg>\n                        </div>'),this.initState()}t.ChildSuggestionsToggle=n}),require(["require","exports","jquery","typeahead/core/plugins/ExecutionHelper","typeahead/core/StripingConfiguration","universalTypeahead"],function(e,t,o,n,i,a){"use strict";t.__esModule=!0;var r=[{clients:["Homepage","HotelsLandingPage"],experiment:{id:30503,name:"ESS_Test_ML_mimic_Client_Side",value:1},tabs:["hotel"]}],s=(l.prototype.getExperiments=function(){return i.getExperiments(r)},l.prototype.modifyParameters=function(e,t,o){return n.shouldExecute(t,r),e},l);function l(){}a.registerPlugin(new s)});__extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();require(["require","exports","jquery","typeahead/core/SuggestServiceParamModifier","universalTypeahead"],function(e,t,o,n,i){"use strict";t.__esModule=!0;var a,r=(a=n.SuggestServiceParamModifier,__extends(s,a),s.prototype.modify=function(e,t,o){this.addRegionType(e,256)},s);function s(){var e=null!==a&&a.apply(this,arguments)||this;return e.configuration=[{lobs:["HOTELS"]}],e.featureName="IncludeHLR",e}i.registerPlugin(new r)});__extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();require(["require","exports","jquery","typeahead/core/SuggestServiceParamModifier","universalTypeahead"],function(e,t,o,n,i){"use strict";t.__esModule=!0;var a,r=(a=n.SuggestServiceParamModifier,__extends(s,a),s.prototype.modify=function(e,t,o){this.addFeatureFlag(e,"google")},s);function s(){var e=null!==a&&a.apply(this,arguments)||this;return e.configuration=[{clients:["Homepage","HotelsLandingPage"],lobs:["HOTELS"]},{clients:["Hotels.Search"]}],e.featureName="GoogleAutocomplete",e}i.registerPlugin(new r)}),require(["require","exports","typeahead/core/loc","typeahead/core/plugins/CompositePageLoadHandler","typeahead/core/plugins/ExecutionHelper","typeahead/core/TypeaheadUtils","universalTypeahead"],function(e,t,o,n,i,a,r){"use strict";t.__esModule=!0;var s=[{clients:["Homepage","AWSHomepage","CarsLandingPage"]}],l=[{clients:["Homepage","AWSHomepage","CarsLandingPage"]},{lobs:["CARS"]}],c=(d.prototype.handlePageLoad=function(e,t){$(".car-rental-hint-text").data("hint-order","random"),this.$input=$("input[data-provide=utypeahead][data-dest=true][data-lob=CARS]"),this.context=t,d.variant=0,i.shouldExecute(t,s)&&(i.shouldExecute(t,l)&&(d.variant=1),this.modifyInputElement(this.$input))},d.prototype.recheckVariant=function(e){if(void 0===e&&(e=!1),e||void 0===d.variant){if(!i.shouldExecute(this.context,s))return d.variant=0;if(i.shouldExecute(this.context,l))return d.variant=1}return 0},d.prototype.getCarPlaceholders=function(e){var t;switch(e){case"1":t=["Denver Hertz","Miami Budget","LAX","MCO","San Francisco","Boston"];break;case"3":t=["London Europcar","Miami Sixt","LON","DUB","Heathrow","Paris"];break;case"25":t=["Perth Enterprise","Brisbane Avis","MEL","SYD","Cairns","London"];break;case"27":t=["DEL","HYD","Bengaluru","Mumbai"];break;case"63":t=["Dublin Easirent","Sydney Europcar","LAS","DUB","London","Chicago"];break;case"29":t=["Wellington Economy Rent A Car","Queenstown Europcar","AKL","LON","Sydney","Auckland"];break;case"70125":t=["Belfast Sixt","Brisbane Hertz","MEL","SYD","Melborne","Las Vegas"];break;case"70403":t=["Houston Avis","Boston Dollar","LON","DUB","Paris","London"];break;case"70301":t=["Miami Hertz","Denver National Car Rental","LAS","MCO","Orlando","San Jose"];break;case"80001":t=["Tampa Budget","Atlanta Avis","MCO","LAS","Denver","Orlando"];break;case"70201":t=["Denver Hertz","Miami Budget","LAX","MCO","San Francisco","Boston"];break;default:t=[]}return t},d.tryPhrase=o.carPlaceholderCycleTryPhrase||'Try "{0}"',d.initialDelayMillis=1e3,d.cycleDelayMillis=2e3,d);function d(){var o=this;this.$input=$("input[data-provide=utypeahead][data-dest=true][data-lob=CARS]"),this.originalPlaceholder=this.$input.attr("placeholder")||"City, airport or address",this.placeholderIndex=-1,this.modifyInputElement=function(e){o.$input=e,n.prefetchInstance.getPrefetchCarRentalHints().done(function(e){var t=e;0===t.length&&(t=o.getCarPlaceholders(a.TypeaheadUtils.getSiteId())),d.placeholders=t,uitk.subscribe("sfSelectedLobs.updated",function(e,t){o.stopCyclePlaceholders(),0!==o.recheckVariant(!0)&&o.startCyclePlaceholders()}),o.startCyclePlaceholders(),o.$input.blur(o.startCyclePlaceholders),o.$input.focus(o.stopCyclePlaceholders)})},this.startCyclePlaceholders=function(){o.stopCyclePlaceholders(),0!==o.getVariant()&&(o.timeoutId=setTimeout(o.cyclePlaceholders,d.initialDelayMillis))},this.stopCyclePlaceholders=function(){void 0!==o.intervalId&&clearInterval(o.intervalId),void 0!==o.timeoutId&&clearTimeout(o.timeoutId),o.placeholderIndex=-1,o.setPlaceholderText(o.originalPlaceholder)},this.cyclePlaceholders=function(){o.intervalId=setInterval(o.setNextPlaceholderText,d.cycleDelayMillis)},this.setPlaceholderText=function(e){o.$input.attr("placeholder",e),uitk.prepFields()},this.setNextPlaceholderText=function(e){o.setPlaceholderText(o.getNextText(e))},this.getNextIndex=function(e){if(void 0===e&&(e=d.placeholders.length),1===o.getVariant()){if(0!==d.placeholders.length)for(e=o.placeholderIndex;e===o.placeholderIndex;)e=Math.floor(Math.random()*(d.placeholders.length+1))}else if(2===o.getVariant()&&(e=o.placeholderIndex+1,o.placeholderIndex>d.placeholders.length))return 0;return e},this.getNextText=function(e){return void 0===e&&(e=o.getNextIndex(),o.placeholderIndex=e),e>=d.placeholders.length?o.originalPlaceholder:d.tryPhrase.replace("{0}",d.placeholders[e])},this.getVariant=function(){return o.recheckVariant(),d.variant}}r.registerPlugin(new c)});__extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();require(["require","exports","jquery","typeahead/core/SuggestServiceParamModifier","universalTypeahead"],function(e,t,o,n,i){"use strict";t.__esModule=!0;var a,r=["cars_rental","carsclickpopularity"],s=(a=n.SuggestServiceParamModifier,__extends(l,a),l.prototype.modify=function(e,t,o){e.maxresults=8,e.sortcriteria="popularity",e.features=e.features&&e.features.length?e.features:[],Array.prototype.push.apply(e.features,r)},l);function l(){var e=null!==a&&a.apply(this,arguments)||this;return e.configuration=[{lobs:["CARS"]}],e}i.registerPlugin(new s)}),require(["require","exports","typeahead/core/StripingConfiguration","typeahead/dataprovider/suggestservice/SuggestServiceQueryParamsUtils","universalTypeahead"],function(e,t,o,n,i){"use strict";t.__esModule=!0;var a=[{experiment:{id:30368,name:"Group_Suggestions_by_RegionType",value:1},lobs:["CARS"]}],r=(s.prototype.getExperiments=function(){return o.getExperiments(a)},s.prototype.modifyParameters=function(e,t,o){return n.addFeatureFlag("categorize",a,e,t)},s);function s(){}i.registerPlugin(new r)}),require(["require","exports","typeahead/core/plugins/ExecutionHelper","typeahead/core/StripingConfiguration","typeahead/core/TypeaheadUtils","typeahead/core/presentation/SuggestionRendererUtils","universalTypeahead"],function(e,t,n,o,i,a,r){"use strict";t.__esModule=!0;var s=[{clients:["Homepage","HotelsLandingPage","Hotels.Search"],lobs:["HOTELS"]}],l=(c.prototype.modifySuggestions=function(e,t,o){var n=i.TypeaheadUtils.isWithinMobileBreakpoint();return this.shouldClarifySuggestionType(t,e,n)&&e.forEach(function(e){"GOOGLEMAPS"!==e.category&&-1!==["AIRPORT","CITY","MULTICITY","NEIGHBORHOOD","POI","ADDRESS","METROCODE","HOTEL","MULTIREGION","TRAINSTATION","METROSTATION"].indexOf(e.type)&&(e.regionNames.displayName="<span style='display: flex;'><div class='singleLineText' style= 'overflow: hidden; text-overflow: ellipsis;'>"+e.regionNames.displayName+"</div>"+a.SuggestionRendererUtils.formatTypeDesktop(a.SuggestionRendererUtils.getTextType(e))+"</span>")}),e},c.prototype.getExperiments=function(){return o.getExperiments([].concat.apply([],s))},c.prototype.shouldClarifySuggestionType=function(e,t,o){return!o&&"16"!==e.siteid&&n.shouldExecute(e,s)&&t&&0<t.length},c);function c(){}r.registerPlugin(new l)}),require(["require","exports","jquery","typeahead/core/plugins/ExecutionHelper","typeahead/core/StripingConfiguration","universalTypeahead"],function(e,t,o,n,i,a){"use strict";t.__esModule=!0;var r=[{experiment:{id:24928,name:"UtaTurnOffClientSideCache",value:1}}],s=(l.prototype.getExperiments=function(){return i.getExperiments(r)},l.prototype.isClientSideCacheDisabled=function(e){return n.shouldExecute(e,r)},l);function l(){}a.registerPlugin(new s)}),require(["require","exports","typeahead/core/loc","typeahead/core/message/MoreSuggestionsClickedMessage","typeahead/core/message/TypeaheadMessage","typeahead/core/plugins/ExecutionHelper","typeahead/core/StripingConfiguration","typeahead/core/TypeaheadUtils","typeahead/core/util/Optional","typeahead/dataprovider/suggestservice/SuggestServiceQueryParamsUtils","typeahead/dataprovider/uta/ChildSuggestionsToggle","universalTypeahead"],function(e,t,a,o,n,r,i,s,l,c,d,p){"use strict";t.__esModule=!0;var u=[{lobs:["HOTELS"]},{experiment:{id:28912,name:"Collapse_child_suggestions_flights",value:1},lobs:["FLIGHTS"]}],g=(h.prototype.getExperiments=function(){return i.getExperiments(u)},h.prototype.modifyParameters=function(e,t,o){var n="FLIGHTS"===t.lob?"nearby_city_center":"multiregion_parent";return c.addFeatureFlag(n,u,e,t)},h.prototype.modifySuggestions=function(e,t,o){return r.shouldExecute(t,u)&&e&&0<e.length&&(this.firstSuggestion=e[0],this.hasChildSuggestions=!1,this.handleIndexForCollapsedSuggestions(e,t.lob)),e},h.prototype.handleContentToShow=function(e,t,o){if(r.shouldExecute(o,u)&&this.hasChildSuggestions){var n=void 0;switch(o.lob){case"HOTELS":n=a.showMoreResultsMessage||"Show popular cities";break;case"FLIGHTS":if(!l.Optional.ofNullable(this.firstSuggestion).isPresent())return;var i=this.firstSuggestion.regionNames.shortName;n=(a.showMoreAirports||"Show airports near {0}").replace("{0}",i);break;default:return}this.childSuggestionsToggle=new d.ChildSuggestionsToggle(e,n),this.addListeners()}},h.prototype.handleIndexForCollapsedSuggestions=function(e,t){for(var o=0,n=0,i=e;n<i.length;n++){var a=i[n];this.isChildSuggestion(a,t)?this.hasChildSuggestions=!0:(a.positionInDropDown=o,o++)}},h.prototype.handleIndexForExpandedSuggestions=function(e){e.forEach(function(e){e.positionInDropDown=e.index})},h.prototype.isChildSuggestion=function(e,t){return"HOTELS"===t?s.TypeaheadUtils.isChildSuggestion(e):"FLIGHTS"===t&&s.TypeaheadUtils.isNearBySuggestion(e)},h.prototype.addListeners=function(){var i=this;l.Optional.ofNullable(this.moreSuggestionsClickedSubscription).isPresent()&&n.TypeaheadMessage.unsubscribe(o.MoreSuggestionsClickedMessage.getTopic(),this.moreSuggestionsClickedSubscription),this.moreSuggestionsClickedSubscription=n.TypeaheadMessage.subscribe(o.MoreSuggestionsClickedMessage.getTopic(),function(e,t){var o=t.getEvent().target.className,n=t.getRenderedSuggestions();-1<o.indexOf(i.childSuggestionsToggle.OPEN_CLASS)?(i.childSuggestionsToggle.showChildren(),i.handleIndexForExpandedSuggestions(n)):(i.childSuggestionsToggle.hideChildren(),i.handleIndexForCollapsedSuggestions(n,t.getLob()))})},h);function h(){this.hasChildSuggestions=!1}p.registerPlugin(new g)}),require(["require","exports","typeahead/client/ClientHandlerRegistry","typeahead/core/geolocation/GeolocationDataProvider","typeahead/core/geolocation/logging/GeolocationMetricLogger","typeahead/core/message/FormLoadedMessage","typeahead/core/message/SuggestionAutoSelectedMessage","typeahead/core/message/SuggestionSelectedMessage","typeahead/core/message/TypeaheadMessage","typeahead/core/plugins/CompositePageLoadHandler","typeahead/core/plugins/ExecutionHelper","typeahead/core/SearchParametersUpdater","typeahead/core/StripingConfiguration","typeahead/core/SuggestionFactory","typeahead/core/SuggestionsAggregator","typeahead/core/TypeaheadUtils","universalTypeahead"],function(e,t,o,n,i,a,r,s,l,c,d,p,u,g,h,f,y){"use strict";t.__esModule=!0;var m=[{deviceTypes:["Tablet","Mobile"],tabs:["hotel"]},{clients:["Homepage","AWSHomepage"],deviceTypes:["Desktop"],tabs:["activity"]},{clients:["LXLandingPage"],deviceTypes:["Desktop"]}],v=[{clients:["Homepage","LXLandingPage"],deviceTypes:["Tablet","Mobile"],experiment:{id:26592,name:"ess_nearby_instead_of_current_location_in_LX",value:1}}],b=[m,v],T=["Homepage","AWSHomepage","HotelsLandingPage","FlightsLandingPage","PackageLandingPage","LXLandingPage"],S=(E.isFirstStepInMultiStepTypeahead=function(){return window.location.search.indexOf("&depth=")<0},E.prototype.handlePageLoad=function(e,o){var n=this;-1<T.indexOf(o.clientId)&&l.TypeaheadMessage.subscribe(a.FormLoadedMessage.getTopic(),function(e,t){d.abTest.getBucketingPromise().done(function(){o.tab=t.getTab(),f.TypeaheadUtils.isWithinMobileBreakpoint()&&(f.TypeaheadUtils.getLob()===f.Lob.Activity&&d.shouldExecute(o,v)?n.autoPopulateNearbyCurrentLocation(o.lob):d.shouldExecute(o,[].concat(m))&&(n.initialize(),n.geolocationViewController&&n.geolocationViewControllerPageloadHandler(o)))})})},E.prototype.suggestOnFocus=function(e,t){return this.suggest(e,t)},E.prototype.suggest=function(e,t){var o=this,n=$.Deferred(),i={id:this.getId(),requestId:"",results:[]};return d.shouldExecute(t,m)&&E.isFirstStepInMultiStepTypeahead()?(this.initialize(),this.geolocationDataProvider.fetchData(e).done(function(e){n.resolve({id:o.getId(),requestId:"",results:e.results})}).fail(function(){n.resolve(i)})):n.resolve(i),n.promise()},E.prototype.getId=function(){return h.SuggesterId.CurrentLocationSuggester},E.prototype.getExperiments=function(){return u.getExperiments([].concat.apply([],b))},E.prototype.autoPopulateNearbyCurrentLocation=function(o){var n=$("form[data-lob-form=activity]").find("input[name=location]"),i=n.attr("id");c.prefetchInstance.getNearbyLocationLXSuggestion().done(function(e){if(e){var t=g.createSuggestion(e);n.val(e.regionNames.lastSearchName),p.updateForSuggestion(null,t,n.data(),i),l.TypeaheadMessage.publish(new r.SuggestionAutoSelectedMessage(t,i)),l.TypeaheadMessage.publish(new s.SuggestionSelectedMessage(t,"",null,o,i))}})},E.prototype.initialize=function(){this.geolocationDataProvider||(this.geolocationDataProvider=new n.GeolocationDataProvider,this.geolocationViewController=o.ClientHandlerRegistry.getGeolocationViewController(this.geolocationDataProvider),this.geolocationMetricLogger=new i.GeolocationMetricLogger)},E.prototype.geolocationViewControllerPageloadHandler=function(e){this.handlePageLoadPrefetchHelper(e)},E.prototype.mustPopulateCurrentLocationConfigHelper=function(e,t,o){(o&&d.shouldExecute(t,o)||null===o)&&this.geolocationViewController.handlePageLoad(t,e)},E.prototype.handlePageLoadPrefetchHelper=function(e){f.TypeaheadUtils.isWithinMobileBreakpoint()||this.mustPopulateCurrentLocationConfigHelper(!1,e,null)},E);function E(){}y.registerPlugin(new S)}),require(["require","exports","typeahead/core/plugins/ExecutionHelper","typeahead/core/presentation/SuggestionRendererUtils","typeahead/core/StripingConfiguration","typeahead/core/TypeaheadUtils","typeahead/dataprovider/suggestservice/SuggestServiceQueryParamsUtils","universalTypeahead"],function(e,t,a,r,o,s,n,i){"use strict";t.__esModule=!0;var l=[{clients:["Homepage","AWSHomepage","FlightsLandingPage","HotelsLandingPage","Hotels.Search","Flights.Search","Cars.Search","LX.Search","Packages.Search","CarsLandingPage","LXLandingPage","PackageLandingPage","RailsLandingPage"],experiment:{id:28276,name:"display_name_consistency",value:1},lobs:["FLIGHTS","HOTELS","CARS","PACKAGES","ACTIVITIES","RAILS"]}],c=[{clients:["Homepage","AWSHomepage","FlightsLandingPage","HotelsLandingPage","Hotels.Search","Flights.Search","Cars.Search","LX.Search","Packages.Search","CarsLandingPage","LXLandingPage","PackageLandingPage","RailsLandingPage"],experiment:{id:28276,name:"display_name_consistency",value:2},lobs:["FLIGHTS","HOTELS","CARS","PACKAGES","ACTIVITIES","RAILS"]}],d="consistent_display",p=(u.prototype.modifyParameters=function(e,t,o){return n.addFeatureFlag(d,l,e,t,o),n.addFeatureFlag(d,c,e,t,o),e},u.prototype.modifySuggestions=function(e,i,t){return e&&0<e.length&&e.forEach(function(e){if(e&&e.regionNames&&e.regionNames.displayName&&(a.shouldExecute(i,l)||a.shouldExecute(i,c))){if("GOOGLEMAPS"===e.category){var t=e.regionNames.displayName.split(","),o=r.SuggestionRendererUtils.flOpenTag+t[0]+r.SuggestionRendererUtils.flCloseTag;t[0]="";var n=r.SuggestionRendererUtils.slOpenTag+t.filter(Boolean).join(", ").trim()+r.SuggestionRendererUtils.slCloseTag;e.regionNames.displayName=o+" "+n}else s.TypeaheadUtils.isWithinMobileBreakpoint()||(e.regionNames.displayName+=r.SuggestionRendererUtils.formatConsistentDisplayType(r.SuggestionRendererUtils.getTextType(e)));a.shouldExecute(i,l)&&-1!==e.regionNames.displayName.indexOf(r.SuggestionRendererUtils.slOpenTag)&&(e.regionNames.displayName=e.regionNames.displayName.replace(r.SuggestionRendererUtils.slOpenTag,"<sl style='color:dimgray'>"))}}),e},u.prototype.getExperiments=function(){return o.getExperiments([].concat.apply([],l))},u);function u(){}i.registerPlugin(new p)}),require(["require","exports","jquery","typeahead/core/plugins/ExecutionHelper","typeahead/core/StripingConfiguration","universalTypeahead"],function(e,t,a,n,o,i){"use strict";t.__esModule=!0;var r=[{clients:["Flights.Search"],experiment:{id:15336,name:"FSRP_uTA_OptimizeDropdownGeometry",value:1}}],s=(l.optimizeDropDownGeometry=function(e,t){var o=4+document.body.clientWidth-2*l.baseSpacingHorz,n=4+Math.min(l.maxAvailableMediaWidthPx,o),i=Math.min(n,o),a=t.offset().left-2;o<a+i&&(a=l.baseSpacingHorz+o-i-2),e.css({left:a+"px","max-width":n+"px",width:i+"px"})},l.prototype.getExperiments=function(){return o.getExperiments(r)},l.prototype.handleDropDownShow=function(e,t,o){n.shouldExecute(o,r)&&this.doHandleDropDownShow(e,t)},l.prototype.handleDropDownHide=function(e,t,o){var n=t.attr("id"),i=n?this.showHandlers[n]:void 0;i&&(a(window).off(l.resizeEventTypes,null,i),delete this.showHandlers[n])},l.prototype.doHandleDropDownShow=function(t,o){function e(e){l.optimizeDropDownGeometry(t,o)}e(),a(window).on(l.resizeEventTypes,null,null,e),o.attr("id")&&(this.showHandlers[o.attr("id")]=e)},l.baseSpacingHorz=12,l.maxAvailableMediaWidthPx=770,l.resizeEventTypes="orientationchange resize",l);function l(){this.showHandlers={}}i.registerPlugin(new s)}),require(["require","exports","typeahead/core/plugins/ExecutionHelper","typeahead/core/TypeaheadUtils","universalTypeahead"],function(e,t,n,i,o){"use strict";t.__esModule=!0;var a=[{lobs:["PACKAGES"]}],r=(s.prototype.modifySuggestions=function(e,t,o){return e&&0<e.length&&n.shouldExecute(t,a)&&this.isPackageOrigin()&&e.forEach(function(e){"USERHISTORY"===e.category||"LIST"===e.type||i.TypeaheadUtils.isChildSuggestion(e)||(e.icon=s.FLIGHTS_ICON)}),e},s.prototype.isPackageOrigin=function(){return $("input:focus").data("gcw-storeable-name")&&-1<$("input:focus").data("gcw-storeable-name").indexOf(s.ORIGIN_FIELD_TYPE)},s.FLIGHTS_ICON="flights",s.ORIGIN_FIELD_TYPE="origin",s);function s(){}o.registerPlugin(new r)}),require(["require","exports","jquery","typeahead/core/message/SuggestionListSelectedMessage","typeahead/core/message/SuggestionSelectedMessage","typeahead/core/message/TypeaheadMessage","typeahead/core/plugins/ExecutionHelper","typeahead/core/StripingConfiguration","typeahead/core/TypeaheadUtils","universalTypeahead"],function(e,t,s,n,l,c,d,o,p,i){"use strict";t.__esModule=!0;var u="28",g=[{clients:["AWSHomepage","Homepage"],experiment:{id:25450,name:"ess_Recommendations_of_popular_destinations_at_Focus_jaJP_Hotel"},locales:["ja_JP"],siteids:[u],tabs:["hotel"]},{clients:["HotelsLandingPage"],experiment:{id:25450,name:"ess_Recommendations_of_popular_destinations_at_Focus_jaJP_Hotel"},locales:["ja_JP"],packageTypes:[void 0],siteids:[u]},{clients:["AWSHomepage","Homepage"],experiment:{id:25452,name:"ess_Recommendations_of_popular_destinations_at_Focus_jaJP_Flights"},locales:["ja_JP"],siteids:[u],tabs:["flight"]},{clients:["FlightsLandingPage"],experiment:{id:25452,name:"ess_Recommendations_of_popular_destinations_at_Focus_jaJP_Flights"},locales:["ja_JP"],packageTypes:[void 0],siteids:[u]},{clients:["Homepage","AWSHomepage"],experiment:{id:25453,name:"ess_Recommendations_of_popular_destinations_at_Focus_jaJP_Packages"},locales:["ja_JP"],packageTypes:["FH"],siteids:[u],tabs:["package"]},{clients:["HotelsLandingPage","FlightsLandingPage","PackageLandingPage"],experiment:{id:25453,name:"ess_Recommendations_of_popular_destinations_at_Focus_jaJP_Packages"},locales:["ja_JP"],packageTypes:["FH"],siteids:[u]},{clients:["AWSHomepage","Homepage"],experiment:{id:25451,name:"ess_Recommendations_of_popular_destinations_at_Focus_jaJP_LX"},locales:["ja_JP"],siteids:[u],tabs:["activity"]},{clients:["LXLandingPage"],experiment:{id:25451,name:"ess_Recommendations_of_popular_destinations_at_Focus_jaJP_LX"},locales:["ja_JP"],siteids:[u]}],h=[{clients:["Homepage","AWSHomepage"],experiment:{id:25284,name:"ess_Recommendations_of_popular_destinations_at_Focus"},tabs:["hotel"]},{clients:["HotelsLandingPage"],experiment:{id:25284,name:"ess_Recommendations_of_popular_destinations_at_Focus"},packageTypes:[void 0]},{clients:["Homepage","AWSHomepage"],experiment:{id:25331,name:"Ess_Recommendations_of_popular_destinations_at_Focus_Flights"},tabs:["flight"]},{clients:["FlightsLandingPage"],experiment:{id:25331,name:"Ess_Recommendations_of_popular_destinations_at_Focus_Flights"},packageTypes:[void 0]},{clients:["Homepage","AWSHomepage"],experiment:{id:25332,name:"Ess_Recommendations_of_popular_destinations_at_Focus_Packages"},packageTypes:["FH"],tabs:["package"]},{clients:["HotelsLandingPage","FlightsLandingPage"],experiment:{id:25332,name:"Ess_Recommendations_of_popular_destinations_at_Focus_Packages"},packageTypes:["FH"]},{clients:["PackageLandingPage"],experiment:{id:25332,name:"Ess_Recommendations_of_popular_destinations_at_Focus_Packages"},packageTypes:["FH"]},{clients:["Homepage","AWSHomepage"],experiment:{id:25330,name:"Ess_Recommendations_of_popular_destinations_at_Focus_LX"},tabs:["activity"]},{clients:["LXLandingPage"],experiment:{id:25330,name:"Ess_Recommendations_of_popular_destinations_at_Focus_LX"}}],a=[h,g],r=(f.isOpen=function(e){return e.hasClass("typeahead-overlay")},f.addCancelButton=function(e){var t=s.parseHTML(f.cancelButtonHtml).pop();return e.append(t),s(t).off("mousedown").on("mousedown",function(e){e.stopPropagation(),window.history.back()}),s(t).off("click focusin").on("click focusin",function(e){e.stopPropagation()}),t},f.applyFullScreenStyle=function(e){e.addClass("typeahead-overlay"),s("body").addClass("scroll-hidden"),"absolute"===s(".typeahead-overlay span.label").css("position")&&s(".typeahead-overlay span.label").addClass("show")},f.close=function(t,o,n,i){setTimeout(function(){var e=s(t).closest("div.col");s(t).attr("placeholder",o),s("body").removeClass("scroll-hidden"),f.enableOtherInputs(t),s(n).remove(),e.removeClass("typeahead-overlay"),c.TypeaheadMessage.unsubscribe(l.SuggestionSelectedMessage.getTopic(),i),uitk.utils.focusElement(s(t).parent().siblings("button.btn-clear")),window.uitkautocomplete.prototype.closeAllTA(),t.off("mousedown.fullscreentypeahead keydown.fullscreentypeahead keyup.fullscreentypeahead")},0)},f.open=function(o){var n,e=s(o).closest("div.col"),i=s(o).attr("placeholder");if(!f.isOpen(e)){n=Date.now(),history.pushState({placeholder:i},document.title,"?taid="+n+"&tapage=1&next=popular"),f.disableOtherInputs(o);var a=f.addCancelButton(e);f.applyFullScreenStyle(e);var r=c.TypeaheadMessage.subscribe(l.SuggestionSelectedMessage.getTopic(),function(){window.history.go(-parseInt(p.TypeaheadUtils.getURLParameter("tapage"),10))});s(window).off("popstate.typeahead").on("popstate.typeahead",function(e){if(-1<location.search.indexOf("taid="+n)){o.trigger("focus",!0);var t=e.originalEvent;t&&t.state&&t.state.placeholder&&o.attr("placeholder",t.state.placeholder)}else f.close(o,i,a,r),n=0}),s("html, body").animate({scrollTop:0,scrollLeft:0},"slow")}},f.disableOtherInputs=function(e){s(e).closest("form").find("input:visible, select:visible").not(e).attr("disabled","true")},f.enableOtherInputs=function(e){s(e).closest("form").find("input:visible, select:visible").not(e).removeAttr("disabled")},f.shouldExecute=function(e){return e.siteid===u?d.shouldExecute(e,g):d.shouldExecute(e,h)},f.isMultiStep=function(e,t){return!t.srchText&&p.TypeaheadUtils.isWithinMobileBreakpoint()&&this.shouldExecute(e)},f.handleSuggestionListSelection=function(e,t){var o="next="+t.getSuggestion().getNext().orElse(""),n="tapage="+(parseInt(p.TypeaheadUtils.getURLParameter("tapage"),10)+1),i="taid="+p.TypeaheadUtils.getURLParameter("taid");history.pushState({placeholder:t.getSuggestion().getDisplayText()},document.title,"?"+i+"&"+n+"&"+o+"&depth="+t.getSuggestion().getPosition());var a=s("#"+t.getDomElementId());a.attr("placeholder",t.getSuggestion().getDisplayText()),a.trigger("focus",!0)},f.prototype.handlePageLoad=function(e,t){var o=document.createElement("style");o.type="text/css",o.innerHTML=f.css,document.head.appendChild(o),-1<location.search.indexOf("taid=")&&history.pushState(null,document.title,location.pathname),c.TypeaheadMessage.subscribe(n.SuggestionListSelectedMessage.getTopic(),f.handleSuggestionListSelection)},f.prototype.handleInputElementFocusByHumanOrScript=function(e,t){p.TypeaheadUtils.isWithinMobileBreakpoint()&&f.shouldExecute(t)&&(f.open(e),s("div.dropdown-con").css("display","none"),e.on("mousedown.fullscreentypeahead keydown.fullscreentypeahead keyup.fullscreentypeahead",function(){s("div.dropdown-con").css("display","none")}))},f.prototype.modifyParameters=function(e,t,o){if(f.isMultiStep(t,o)){e.next=p.TypeaheadUtils.getURLParameter("next");var n=void 0;t.siteid!==u?n=d.doNotCallThisToGetEvaluatedExperimentInfo(t,h):"ja_JP"===t.locale&&(n=d.doNotCallThisToGetEvaluatedExperimentInfo(t,g)),n&&(e.ab=n.id+"."+n.value);var i=-1<(e.next+"").toLowerCase().indexOf("domestic"),a=-1<(e.next+"").toLowerCase().indexOf("international"),r=s("input:focus").data("gcw-storeable-name")&&-1<s("input:focus").data("gcw-storeable-name").indexOf("origin");"ja_JP"===t.locale&&(i||a)&&(e.maxresults=r&&i?15:18)}return e},f.prototype.modifySuggestions=function(e,t,o){if(f.isMultiStep(t,o)){var n=p.TypeaheadUtils.getURLParameter("depth");e.forEach(function(e){e.parentPosition=n})}return e},f.prototype.getExperiments=function(){return o.getExperiments([].concat.apply([],a))},f.cancelButtonHtml='\n        <button type="button" class="typeahead-overlay-cancel"><span class="uitk-icon">\n        <svg role="img" aria-labelledby="icon-uitk-typeahead-cancel-title" viewBox="0 0 24 24"\n         style="fill:#616161; height:1.4em; width:1.4em;" xmlns="http://www.w3.org/2000/svg">\n        <title id="icon-uitk-typeahead-cancel-title">Cancel</title>\n        <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg></span></button>',f.css="\n            .typeahead-overlay {\n                background: rgba(245,245,245,1);\n                margin: 0;\n                overflow: hidden !important;\n                padding: 0 !important;\n                position: fixed !important;\n                top: 0; right: 0; bottom: 0; left: 0;\n                transition: top 0.3s;\n                -moz-transition: top 0.3s;\n                -webkit-transition: top 0.3s;\n                width: 100% !important;\n                z-index: 99;\n            }\n            .typeahead-overlay-cancel {\n                background-color: white;\n                border:0;\n                height: 52px;\n                margin:0;\n                padding-top: 6px;\n                position: absolute;\n                top: 0;\n                width: 48px;\n            }\n            .typeahead-overlay input {\n                border: 0 !important;\n                border-radius: 0 !important;\n                box-shadow: none !important;\n                height: 52px !important;\n                padding-left: 48px !important;\n                padding-right: 48px !important;\n            }\n            .typeahead-overlay label {\n                box-shadow: 0 2px 0.25rem 0 rgba(0,0,0,0.2) !important;\n                margin: 0;\n            }\n            .typeahead-overlay button.btn-clear {\n                height: 52px;\n                margin-top: -12px;\n                right: 0;\n                width: 48px;\n            }\n            .typeahead-overlay .autocomplete-open .autocomplete-arrow::after,\n            .typeahead-overlay label span.label,\n            .typeahead-overlay label span.icon {\n                display: none;\n            }\n            .typeahead-overlay .autocomplete-dropdown {\n                background: none;\n                border: 0;\n                box-shadow: none;\n                height: -moz-calc(100% - 52px);\n                height: -webkit-calc(100% - 52px);\n                height: calc(100% - 52px);\n                left:0 !important;\n                margin: 0;\n                max-width: 100% !important;\n                overflow:auto;\n                right: 0 !important;\n                width: 100% !important;\n            }\n            .typeahead-overlay a.details { min-height: 32px; }\n            .typeahead-overlay .footer { display: none; }\n            .typeahead-overlay .footer.userfeedback { display: block; position: sticky; bottom: 0;}\n            .typeahead-overlay .footer.userfeedback a.close { display: none;}\n            .typeahead-overlay .autocomplete-open { height: 100%; }\n            .scroll-hidden { overflow: hidden; position: fixed; }\n            .typeahead-overlay .label.show { display: block; left: 48px; }\n            .typeahead-overlay .btn-clear:disabled { display:none; }\n    \t\t.typeahead-overlay input:placeholder-shown { padding-right:18px !important; }\n            .typeahead-overlay input::-webkit-input-placeholder { font-size: 14px; }\n            .typeahead-overlay input::-moz-placeholder { font-size: 14px; }\n            .typeahead-overlay input:-ms-input-placeholder { font-size: 14px; }\n            .typeahead-overlay input::placeholder { font-size: 14px; }\n            .typeahead-overlay ul.results { padding-top: 2px; }\n            .typeahead-overlay div.multiLineDisplay { display: inline-block; }\n        ",f);function f(){}i.registerPlugin(new r)}),require(["require","exports","jquery","typeahead/core/plugins/ExecutionHelper","typeahead/core/StripingConfiguration","typeahead/core/TypeaheadUtils","typeahead/dataprovider/suggestservice/SuggestServiceQueryParamsUtils","universalTypeahead"],function(e,t,o,n,i,a,r,s){"use strict";t.__esModule=!0;var l=[{lobs:["FLIGHTS","RAILS","PACKAGES","HOTELS"]}],c=(d.prototype.getExperiments=function(){return i.getExperiments(l)},d.prototype.modifyParameters=function(e,t,o){return a.TypeaheadUtils.getPackageType()!==a.PackageType.FlightCar?r.addFeatureFlag("ta_hierarchy",l,e,t,o):e},d.prototype.modifySuggestions=function(e,o,t){return e&&0<e.length&&e.forEach(function(e){if(n.shouldExecute(o,l)){var t=e.relation;0<+e.index&&e.hierarchyInfo&&(t=e.hierarchyInfo.relation),!t||"child"!==t[0]&&"nearby"!==t[0]||(e.showAsHierarchy=!0)}}),e},d);function d(){}s.registerPlugin(new c)}),require(["require","exports","jquery","typeahead/core/loc","typeahead/core/plugins/ExecutionHelper","typeahead/core/TypeaheadUtils","universalTypeahead"],function(e,t,o,n,i,a,r){"use strict";t.__esModule=!0;var s=[{lobs:["ACTIVITIES"]}],l=(c.prototype.modifyParameters=function(e,t,o){return-1<this.applicableClientIds.indexOf(a.TypeaheadUtils.getClientId())&&i.shouldExecute(t,s)&&-1<this.applicableTextInputElementIds.indexOf(o.inputElementId)&&(e.rid=o.searchRegionId),e},c);function c(){this.applicableClientIds=["LX.Checkout"],this.applicableTextInputElementIds=["lx-pickup-uta"]}r.registerPlugin(new l)}),require(["require","exports","jquery","typeahead/core/message/SubmitClickedMessage","typeahead/core/message/TypeaheadMessage","typeahead/core/plugins/ExecutionHelper","typeahead/core/TypeaheadUtils","universalTypeahead"],function(e,t,p,o,n,u,g,i){"use strict";t.__esModule=!0;var h=[{clients:["Homepage","AWSHomepage"],tabs:["hotel"]},{clients:["HotelsLandingPage"],tabs:["hotel",void 0]}],a=(r.prototype.handlePageLoad=function(e,c){var d=this;n.TypeaheadMessage.subscribe(o.SubmitClickedMessage.getTopic(),function(e,t){if(c.tab=d.getMercuryWzdTab(),c.clientId=g.TypeaheadUtils.getClientId(),u.shouldExecute(c,h)){var o=p("[data-gcw-storeable-name=gcw-destination]:visible"),n="#"+p(o).attr("data-hotel_id_element"),i="#"+p(o).attr("data-city_element"),a=p(n),r=p(a).val(),s=p(i),l=p(s).val();r&&l?(p(s).attr("name","destination"),p(o).removeAttr("name")):(p(o).attr("name","destination"),p(s).removeAttr("name"))}})},r.prototype.getMercuryWzdTab=function(){return p("li.tab:visible").children("button.on").data("lob")},r);function r(){}i.registerPlugin(new a)}),require(["require","exports","jquery","typeahead/core/loc","typeahead/client/ClientHandlerRegistry","typeahead/core/message/ElementFocusedMessage","typeahead/core/message/InputValueEditedMessage","typeahead/core/message/SuggestionSelectedMessage","typeahead/core/message/TypeaheadMessage","typeahead/core/plugins/ExecutionHelper","typeahead/core/TypeaheadUtils","typeahead/dataprovider/suggestservice/SuggestServiceQueryParamsUtils","universalTypeahead"],function(e,t,n,i,o,a,r,c,d,p,s,l,u){"use strict";t.__esModule=!0;var g=[{clients:["Hotels.Search"]}],h=(f.updateQueryParam=function(e,t,o){var n=t+"="+o,i="?"+n;if(e){var a=new RegExp(t+"[^&]*"),r=new RegExp(t+"=[^&;]+[&;]?");i=null==o||""===o?e.replace(r,"$1").replace(/[&;]$/,""):null!==e.match(a)?e.replace(a,n):e+"&"+n}return i},f.prototype.modifyParameters=function(e,t,o){return-1<f.applicableClientIds.indexOf(s.TypeaheadUtils.getClientId())&&-1<f.applicableTextInputElementIds.indexOf(o.inputElementId)&&p.shouldExecute(t,g)&&(e.rid=o.searchRegionId,e.mask|=128,l.addFeatureFlag("onesearchta",g,e,t)),e},f.prototype.handlePageLoad=function(e,s){var l=this;d.TypeaheadMessage.subscribe(a.ElementFocusedMessage.getTopic(),function(e,t){if(p.shouldExecute(s,g)){var o=t.getDomElementId();n("#"+o).attr("placeholder",i.taOneSearchPlaceholderText)}}),d.TypeaheadMessage.subscribe(r.InputValueEditedMessage.getTopic(),function(e,t){l.clearRegionIdForChangeSearchSelection(),l.clearLatLongForChangeSearchSelection(),l.clearHotelIdForChangeSearchSelection(),n("input[name='searchPriorityOverride']").val("")}),d.TypeaheadMessage.subscribe(c.SuggestionSelectedMessage.getTopic(),function(e,t){var o=t.getSuggestion().getHotelId().orElse(""),n=t.getSuggestion().getRegionId().orElse(""),i=t.getSuggestion().getLatLong().orElse(""),a=t.getSuggestion().getCity().orElse("");if(p.shouldExecute(s,g)){var r=t.getSuggestion().getExtraSearchParams();l.regionId=n,l.latLong=i,o&&(r.orElse([]).forEach(function(e){"searchPriorityOverride"===e.field&&(l.searchPriorityOverride=e.value)}),l.selected=o,l.cityName=a)}else o?l.selected=o:l.clearHotelIdForChangeSearchSelection()}),uitk.subscribe(o.ClientHandlerRegistry.HSR_SUBMIT_GET_QUERY_MESSAGE,function(e,t){p.shouldExecute(s,g)&&(l.setRegionIdForChangeSearchSelection(t),l.setLatLongForChangeSearchSelection(t),l.selected?l.setSelectedHotelIdForChangeSearchSelection(t):n("input[name='searchPriorityOverride']").val(""))}),uitk.subscribe(o.ClientHandlerRegistry.HSR_SUBMIT_BEFORE_UPDATE_HASH_MESSAGE,function(e,t){l.selected?t.query=f.updateQueryParam(t.query,"destination",l.cityName):n("#selected").val()||n("input[name='searchPriorityOverride']").val("")})},f.prototype.setRegionIdForChangeSearchSelection=function(e){this.regionId&&(n("#regionId").val(this.regionId),e.query&&-1===e.query.indexOf("regionId")&&(e.query+="&regionId="+this.regionId))},f.prototype.clearRegionIdForChangeSearchSelection=function(){this.regionId=null,n("#regionId").val("")},f.prototype.setSelectedHotelIdForChangeSearchSelection=function(e){this.selected&&(n("#selected").val(this.selected),e.query&&-1===e.query.indexOf("selected")&&(e.query+="&selected="+this.selected),e.query&&-1===e.query.indexOf("searchPriorityOverride")&&(e.query+="&searchPriorityOverride="+this.searchPriorityOverride))},f.prototype.clearHotelIdForChangeSearchSelection=function(){this.selected=null,n("#selected").val(""),this.searchPriorityOverride=null,n("input[name='searchPriorityOverride']").val(""),this.cityName=null},f.prototype.setLatLongForChangeSearchSelection=function(e){this.latLong&&(n("#latLong").val(this.latLong),e.query&&-1===e.query.indexOf("latLong")&&(e.query+="&latLong="+this.latLong))},f.prototype.clearLatLongForChangeSearchSelection=function(){this.latLong=null,n("#latLong").val("")},f.applicableClientIds=["Hotels.Search"],f.applicableTextInputElementIds=["inpSearchNear"],f);function f(){}u.registerPlugin(new h)}),require(["require","exports","jquery","typeahead/core/plugins/ExecutionHelper","typeahead/core/StripingConfiguration","typeahead/core/TypeaheadUtils","universalTypeahead"],function(e,t,o,i,n,a,r){"use strict";t.__esModule=!0;var s=[{clients:["Homepage","AWSHomepage","FlightsLandingPage"],lobs:["FLIGHTS"]}],l=[{clients:["Homepage","AWSHomepage","CarsLandingPage"],lobs:["CARS"]}],c=[s,l],d=(p.prototype.getExperiments=function(){return n.getExperiments([].concat.apply([],c))},p.prototype.modifySuggestions=function(e,t,o){var n="";return a.TypeaheadUtils.isWithinMobileBreakpoint()&&e&&0<e.length&&(i.shouldExecute(t,s)&&(n="1.077"),i.shouldExecute(t,l)&&(n="1.231"),""!==n&&e.forEach(function(e){e.style="font-size:"+n+"em"})),e},p);function p(){}r.registerPlugin(new d)}),require(["require","exports","typeahead/core/plugins/ExecutionHelper","typeahead/core/StripingConfiguration","typeahead/core/Suggestion","typeahead/dataprovider/suggestservice/SuggestServiceQueryParamsUtils","universalTypeahead"],function(e,t,n,o,i,a,r){"use strict";t.__esModule=!0;var s=[{clients:["Homepage","AWSHomepage","FlightsLandingPage"],deviceTypes:["Desktop"],experiment:{id:26321,name:"KYC_Storefront_Flight_Origin_Prefilled"},lobs:["FLIGHTS"],locales:["en_US"]}],l=(c.prototype.modifySuggestions=function(e,t,o){return e&&0<e.length&&n.shouldExecute(t,s)&&e.forEach(function(e,t){e.category===i.SuggestionCategory[i.SuggestionCategory.HOMEAIRPORT]&&(e.displayGroup={groupName:"kycHomeAirport",label:"Your home airport"})}),e},c.prototype.getExperiments=function(){return o.getExperiments(s)},c.prototype.modifyParameters=function(e,t,o){return"gcw-origin"===o.gcwStoreableName?a.addFeatureFlag("home_airport",s,e,t,o):e},c);function c(){}r.registerPlugin(new l)}),require(["require","exports","jquery","typeahead/client/ClientHandlerRegistry","typeahead/core/message/InputValueEditedMessage","typeahead/core/message/SuggestionSelectedMessage","typeahead/core/message/TypeaheadMessage","typeahead/core/plugins/ExecutionHelper","typeahead/dataprovider/suggestservice/SuggestServiceQueryParamsUtils","universalTypeahead"],function(e,t,n,i,a,r,s,l,c,o){"use strict";t.__esModule=!0;var d=[{clients:["Homepage","AWSHomepage"],tabs:["activity"]},{clients:["LXLandingPage"]}],p=(u.prototype.modifyParameters=function(e,t,o){return t.tab=i.ClientHandlerRegistry.getTab(),c.addFeatureFlag("lxcategory",d,e,t,o)},u.prototype.modifySuggestions=function(e,t,o){return e&&0<e.length&&l.shouldExecute(t,d)&&e.forEach(function(e){if(e.hierarchyInfo){var t=e.hierarchyInfo.relation;t&&"lxcategory"===t[0]&&(e.showAsHierarchy=!0)}}),e},u.prototype.handlePageLoad=function(e,o){s.TypeaheadMessage.subscribe(r.SuggestionSelectedMessage.getTopic(),function(e,t){o.tab=i.ClientHandlerRegistry.getTab(),l.shouldExecute(o,d)&&t.getSuggestion().getExtraSearchParams().orElse([]).forEach(function(e){var t=document.createElement("INPUT");t.setAttribute("type","hidden"),t.setAttribute("class","uta-search-parameter"),t.setAttribute("name",e.field),t.setAttribute("value",e.value),n("div.tabs-container").find("form:visible").append(t)})}),s.TypeaheadMessage.subscribe(a.InputValueEditedMessage.getTopic(),function(e,t){l.shouldExecute(o,d)&&n("input.uta-search-parameter").remove()})},u);function u(){}o.registerPlugin(new p)}),require(["require","exports","typeahead/core/plugins/ExecutionHelper","typeahead/core/StripingConfiguration","typeahead/core/TypeaheadUtils","typeahead/dataprovider/suggestservice/SuggestServiceQueryParamsUtils","universalTypeahead"],function(e,t,o,n,i,a,r){"use strict";t.__esModule=!0;var s=[{deviceTypes:["Desktop"],experiment:{id:25163,name:"ess_nlp_typeahead_suggestion",value:1},lobs:["HOTELS"]}],l=(c.prototype.getExperiments=function(){return n.getExperiments(s)},c.prototype.modifyParameters=function(e,t,o){return this.checkLogExposureConditions(t,o)&&a.addFeatureFlag("nlpta",s,e,t),e},c.prototype.modifySuggestions=function(e,t,o){return this.checkLogExposureConditions(t,o)&&"type"===o.renderTrigger&&e.forEach(function(e,t){"GOOGLEMAPS"===e.category&&(e.displayGroup={groupName:"GoogleSuggestion",label:""})}),e},c.prototype.checkLogExposureConditions=function(e,t){return-1<this.applicableLocales.indexOf(e.locale)&&!i.TypeaheadUtils.isWithinMobileBreakpoint()&&o.shouldExecute(e,s)},c);function c(){this.applicableLocales=["en_AU","en_CA","en_GB","en_HK","en_IE","en_MY","en_NZ","en_PH","en_SG","en_US"]}r.registerPlugin(new l)}),require(["require","exports","typeahead/core/StripingConfiguration","typeahead/dataprovider/suggestservice/SuggestServiceQueryParamsUtils","universalTypeahead"],function(e,t,o,n,i){"use strict";t.__esModule=!0;var a=[{lobs:["FLIGHTS"]}],r=(s.prototype.modifyParameters=function(e,t,o){return n.addFeatureFlag("nearby_airport",a,e,t,o)},s.prototype.getExperiments=function(){return o.getExperiments(a)},s);function s(){}i.registerPlugin(new r)}),require(["require","exports","typeahead/core/message/SuggestionSelectedMessage","typeahead/core/message/SuggestionShownMessage","typeahead/core/message/TypeaheadMessage","typeahead/core/message/UserExitedMessage","typeahead/core/plugins/ExecutionHelper","typeahead/core/StripingConfiguration","typeahead/core/TypeaheadUtils","universalTypeahead"],function(e,t,n,i,a,r,s,o,l,c){"use strict";t.__esModule=!0;var d=[{experiment:{id:25632,name:"ess_non_mobile_typeahead_takeover_experience_hotel"},tabs:["hotel"]},{experiment:{id:25633,name:"ess_non_mobile_typeahead_takeover_experience_flights"},tabs:["flight"]},{experiment:{id:25634,name:"ess_non_mobile_typeahead_takeover_experience_cars"},tabs:["car"]},{experiment:{id:26570,name:"ess_non_mobile_typeahead_takeover_experience_lx"},tabs:["activity"]},{experiment:{id:25635,name:"ess_non_mobile_typeahead_takeover_experience_packages"},tabs:["package","packageFlightHotel","packageFlightHotelCar","packageFlightCar","packageHotelCar","flightHotel","flightHotelCar","flightCar","hotelCar","carHotel","carHotelFlight","carFlight"]}],p=[{experiment:{id:25632,name:"ess_non_mobile_typeahead_takeover_experience_hotel",value:2},tabs:["hotel"]},{experiment:{id:25633,name:"ess_non_mobile_typeahead_takeover_experience_flights",value:2},tabs:["flight"]},{experiment:{id:26570,name:"ess_non_mobile_typeahead_takeover_experience_lx",value:2},tabs:["activity"]},{experiment:{id:25634,name:"ess_non_mobile_typeahead_takeover_experience_cars",value:2},tabs:["car"]},{experiment:{id:25635,name:"ess_non_mobile_typeahead_takeover_experience_packages",value:2},tabs:["package","packageFlightHotel","packageFlightHotelCar","packageFlightCar","packageHotelCar","flightHotel","flightHotelCar","flightCar","hotelCar","carHotel","carHotelFlight","carFlight"]}],u=[d,p],g=(h.shouldEnableNonMobileTakeOver=function(e){return!l.TypeaheadUtils.isWithinMobileBreakpoint()&&s.shouldExecute(e,d)},h.getMercuryWzdTab=function(){return $("li.tab:visible").children("button.on").data("lob")},h.removeCloseTypeaheadLink=function(e){"block"===$(e).children().find(".autocomplete-dropdown").children().find("a.feedback").css("display")?($(e).children().find(".autocomplete-dropdown").find("a.close").remove(),$(e).children().find(".autocomplete-dropdown").find("footer").css("backgroundColor","#ffffff")):($(e).children().find(".autocomplete-dropdown").find("footer").remove(),$(e).children().find(".autocomplete-dropdown").css("paddingBottom","1em"))},h.addNonMobileOverlayParentClass=function(e){$(e).addClass("typeahead-non-mobile-overlay-autocomplete-parent")},h.addNonMobileModalBackground=function(e){0<$("div.typeahead-non-mobile-overlay").length||$(e).prepend('<div class="typeahead-non-mobile-overlay modal-background modal-dismiss active"></div>')},h.indentTypeaheadResultsWithIcon=function(e){$(e).children().find(".autocomplete-dropdown").find("ul.results").children().find("li.results-item").css("padding","0 0.92307692em 0 0.12307692em")},h.indentypeaheadResultsWithoutIcon=function(e){$(e).children().find(".autocomplete-dropdown").find("ul.results").children().find("li.results-item").css("padding","0 0.92307692em 0 1.92307692em")},h.removeNonMobileModalBackground=function(e){$("div.typeahead-non-mobile-overlay").remove()},h.setNonMobileOverlayZIndex=function(e){var t=$(e).children().find("div.input-btn-group");$(t).addClass("typeahead-non-mobile-overlay-zIndex")},h.resetNonMobileOverlayZIndex=function(e){$(e).children().find("div.input-btn-group").removeClass("typeahead-non-mobile-overlay-zIndex")},h.handleInputStyles=function(e){h.shouldEnableNonMobileTakeOver(e)&&(h.removeInputBorders(),h.modifyInputPlaceholderIcon())},h.removeInputBorders=function(){$("input[aria-owns='typeaheadDataPlain']:visible").addClass("typeahead-non-mobile-overlay-input")},h.modifyInputPlaceholderIcon=function(){var e=$("input[aria-owns='typeaheadDataPlain']:visible").parent().find("span.icon");e.children().remove(),e.append('\n                    <svg class="uitk-icon-svg">\n                        <use xlink:href="#uitk-icon-search"/>\n                    </svg>\n        ')},h.openOverlay=function(e){var t=$(e).closest("div.col");h.addNonMobileOverlayParentClass(t),h.addNonMobileModalBackground(t),h.setNonMobileOverlayZIndex(t)},h.removeNonMobileOverlay=function(e){var t=$("#"+e),o=$(t).closest("div.col");h.removeNonMobileModalBackground(o),h.resetNonMobileOverlayZIndex(o),t.off("mousedown.nonmobiletakeover keydown.nonmobiletakeover keyup.nonmobiletakeover")},h.handOverFocus=function(e,t){var o=document.getElementById(e);h.shouldEnableNonMobileTakeOver(t)&&setTimeout(function(){$(o).blur()})},h.handleSuggestionSelection=function(e,t,o){h.shouldEnableNonMobileTakeOver(o)&&(h.removeNonMobileOverlay(t.getDomElementId()),h.handOverFocus(t.getDomElementId(),o),h.isInputClearBtnClicked=!1)},h.handleUserExit=function(e,t,o){if(h.shouldEnableNonMobileTakeOver(o)){var n=document.getElementById(t.getDomElementId()),i=$(n).closest(".input-btn-group").find('button[data-control="clear-field"]').get(0),a=t.getTriggerEvt()&&t.getTriggerEvt().relatedTarget;this.isInputClearBtnClicked=i===a,this.isInputClearBtnClicked||$("#userFeedbackToolModal").is(":visible")||$("#appreciationModal").is(":visible")||h.removeNonMobileOverlay(t.getDomElementId())}},h.prototype.getExperiments=function(){return o.getExperiments([].concat.apply([],u))},h.prototype.handlePageLoad=function(e,o){var t=document.createElement("style");t.type="text/css",t.innerHTML="\n        .typeahead-non-mobile-overlay {\n            background: #000000 !important;\n            margin-left: -50%;\n            width: 150%;\n            opacity: 0.6 !important;\n        }\n\n        .typeahead-non-mobile-overlay-zIndex {\n            z-index: 1000 !important;\n        }\n\n        .typeahead-non-mobile-overlay-input, .typeahead-non-mobile-overlay-input:focus {\n            border: none !important;\n            box-shadow: none !important;\n            -webkit-box-shadow: none !important;\n            border-radius: 0 !important;\n        }\n\n        .typeahead-non-mobile-overlay-autocomplete-parent  .autocomplete-dropdown {\n            border: none !important;\n            border-radius: 0 !important;\n            top: 40px;\n        }\n\n        .typeahead-non-mobile-overlay-autocomplete-parent .autocomplete-arrow::after {\n            display: none !important;\n        }\n    ",document.head.appendChild(t),o.tab=h.getMercuryWzdTab(),s.abTest.getBucketingPromise().done(function(){h.handleInputStyles(o),uitk.subscribe("sfSelectedLobs.updated",function(e,t){o.tab=t.searchType,h.handleInputStyles(o)}),$("body").on("click","[data-control='clear-field']",function(e){h.isInputClearBtnClicked=!0}),a.TypeaheadMessage.subscribe(n.SuggestionSelectedMessage.getTopic(),function(e,t){h.handleSuggestionSelection(e,t,o)}),a.TypeaheadMessage.subscribe(r.UserExitedMessage.getTopic(),function(e,t){h.handleUserExit(e,t,o)})})},h.prototype.handleInputElementFocusByHumanOrScript=function(e,o){if(h.shouldEnableNonMobileTakeOver(o)){var n=$(e).closest("div.col");if(o.tab=h.getMercuryWzdTab(),s.shouldExecute(o,d)){h.openOverlay(e);var t=$(e).closest(".input-btn-group").height()-8;$(".typeahead-non-mobile-overlay-autocomplete-parent  .autocomplete-dropdown").css("top",t+"px"),$("div.dropdown-con").css("display","none"),e.on("mousedown.nonmobiletakeover keydown.nonmobiletakeover keyup.nonmobiletakeover",function(){$("div.dropdown-con").css("display","none")})}a.TypeaheadMessage.subscribe(i.SuggestionShownMessage.getTopic(),function(e,t){s.shouldExecute(o,d)&&("flight"!==h.getMercuryWzdTab()?h.indentTypeaheadResultsWithIcon(n):h.indentypeaheadResultsWithoutIcon(n)),s.shouldExecute(o,p)&&h.removeCloseTypeaheadLink(n)})}},h.isInputClearBtnClicked=!1,h);function h(){}c.registerPlugin(new g)}),require(["require","exports","typeahead/client/ClientHandlerRegistry","typeahead/core/logging/TypeaheadErrorLogger","typeahead/core/message/SubmitClickedMessage","typeahead/core/message/SuggestionShownMessage","typeahead/core/message/TypeaheadMessage","typeahead/core/TypeaheadUtils","universalTypeahead"],function(e,t,o,n,r,s,l,c,i){"use strict";t.__esModule=!0;var a=(d.prototype.handlePageLoad=function(e,t){this.evaluateMetrics()},d.prototype.evaluateMetrics=function(){var o=this,e=Date.now(),n={name:"UtaPageloadMetrics"};n.utaBundle=c.TypeaheadUtils.getUtaBundleUrl(),n.numberOfInputInteractions=0,n.durationInMillisFromStorefrontScriptStartToUtaScriptStart=isNaN(window.storefrontScriptLoadingStartedTimestamp)||isNaN(window.utaScriptLoadingStartedTimestamp)?void 0:window.utaScriptLoadingStartedTimestamp-window.storefrontScriptLoadingStartedTimestamp,n.durationInMillisFromUtaScriptStartToUtaReady=isNaN(window.utaModuleReadyTimeStamp)||isNaN(window.utaScriptLoadingStartedTimestamp)?void 0:window.utaModuleReadyTimeStamp-window.utaScriptLoadingStartedTimestamp,n.durationInMillisFromUtaReadyToUtaPageLoadHandler=isNaN(e)||isNaN(window.utaModuleReadyTimeStamp)?void 0:e-window.utaModuleReadyTimeStamp,$("body").one("focus","[data-provide=utypeahead]",function(){var e=Date.now();n.durationInMillisFromStorefrontScriptStartToInputFocus=isNaN(window.storefrontScriptLoadingStartedTimestamp)?void 0:e-window.storefrontScriptLoadingStartedTimestamp}),$("body").on("input.typeahead_metrics","[data-provide=utypeahead]",function(){n.numberOfInputInteractions++});var i=l.TypeaheadMessage.subscribe(s.SuggestionShownMessage.getTopic(),function(e,t){n.domElementId=t.getDomElementId(),n.suggestionsRenderTimeInMillis=t.getRenderTime(),l.TypeaheadMessage.unsubscribe(e,i),o.logMetrics(n)}),a=l.TypeaheadMessage.subscribe(r.SubmitClickedMessage.getTopic(),function(e,t){l.TypeaheadMessage.unsubscribe(e,a),o.logMetrics(n)})},d.prototype.logMetrics=function(e){this.isMetricsLogged||(e.tab=o.ClientHandlerRegistry.getTab(),e.isReadyOnFocus=!window.isUtaModuleNotReadyOnFocus,n.default.log(void 0,void 0,void 0,e),this.isMetricsLogged=!0,$("body").off("input.typeahead_metrics"),window.utaDebug&&(console.dir("uTA Pageload Metrics:"+JSON.stringify(e)),console.dir(e)))},d);function d(){this.isMetricsLogged=!1}i.registerPlugin(new a)}),require(["require","exports","typeahead/core/context","typeahead/core/message/FormSubmittedMessage","typeahead/core/message/TypeaheadMessage","typeahead/core/TypeaheadUtils","universalTypeahead"],function(e,t,o,i,a,u,n){"use strict";t.__esModule=!0;var r="https://threepp-comingle."+("prod"===o.environment?"prod-p":"int")+".expedia.com/all-inclusive-vacation-destination/api/v1/build3ppSrpLink",s=(l.prototype.isRedirectApplicable=function(){var e=u.TypeaheadUtils.getClientId(),t=u.TypeaheadUtils.getShortPackageType();return-1<this.applicableClientIds.indexOf(e)&&-1<this.applicablePackageTypes.indexOf(t)},l.prototype.getRedirectPath=function(e){var t=e.find("input[data-gcw-field-type=destination]:visible").closest("div.autocomplete").find("input[data-gcw-storeable-name=gcw-destination-ta]").val();if(t){var o=JSON.parse(t);if(o.redirectPath)return window.location.protocol+"//"+window.location.host+o.redirectPath}},l.prototype.collectFormData=function(e){var t={};t.locale=u.TypeaheadUtils.getLocale();var o=$(e.target),n=o.find("[data-gcw-storeable-name=gcw-origin-ta]").val();t.originTla=n?JSON.parse(n).airportCode:void 0;var i=o.find("[data-gcw-storeable-name=gcw-destination-ta]").val();t.destinationId=i?JSON.parse(i).regionId:void 0,t.fromDate=o.find("[data-gcw-storeable-name=gcw-start-date]").val(),t.toDate=o.find("[data-gcw-storeable-name=gcw-end-date]").val(),t.rooms=[],t.totalAdults=0,t.totalChildren=0;for(var a=Number(o.find("[data-gcw-storeable-name=gcw-num-rooms]").val()),r=1;r<=a;r++){for(var s=Number(o.find("[data-gcw-storeable-name=gcw-num-adults-"+r+"]").val()),l=Number(o.find("[data-gcw-storeable-name=gcw-num-children-"+r+"]").val()),c=Number(o.find("[data-gcw-storeable-name=gcw-num-infants-"+r+"]").val()),d=[],p=1;p<=l;p++)d.push(Number(o.find("[data-gcw-storeable-name=gcw-child-age-"+r+"-"+p+"]").val()));for(p=1;p<=c;p++)d.push(1);t.rooms.push({childAges:d}),t.totalAdults+=s,t.totalChildren+=l,t.totalChildren+=c}return t},l.prototype.submitFormData=function(e,t){var o=this;$.ajax({beforeSend:function(e,t){o.setRequestHeaders(e)},data:JSON.stringify(e),dataType:"json",error:function(){location.href=t},success:function(e){e.srpUrl?window.location.href=e.srpUrl:location.href=t},type:"POST",url:r})},l.prototype.setRequestHeaders=function(e){var t=u.TypeaheadUtils.getGuid();e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Client-Token","ess-cuba-redirect"),e.setRequestHeader("Session-ID",t),e.setRequestHeader("Transaction-ID",t),e.setRequestHeader("Message-ID",t),e.setRequestHeader("Site-Id",o.siteid),e.setRequestHeader("Tpid",String(u.TypeaheadUtils.getSiteParamValue(u.SiteParam.tpid))),e.setRequestHeader("Eapid",String(u.TypeaheadUtils.getSiteParamValue(u.SiteParam.eapid))),e.setRequestHeader("Duaid",String(u.TypeaheadUtils.getCookie("DUAID")))},l);function l(){var n=this;this.applicableClientIds=["Homepage","AWSHomepage","PackageLandingPage"],this.applicablePackageTypes=["FH"],a.TypeaheadMessage.subscribe(i.FormSubmittedMessage.getTopic(),function(e,t){if(t.isFormValid()&&n.isRedirectApplicable()&&t.getEvent()){var o=n.getRedirectPath($(t.getEvent().currentTarget));o&&(t.getEvent().preventDefault(),n.submitFormData(n.collectFormData(t.getEvent()),o))}})}n.registerPlugin(new s)}),require(["require","exports","jquery","typeahead/core/message/ElementFocusedMessage","typeahead/core/message/InputValueEditedMessage","typeahead/core/message/TypeaheadMessage","typeahead/core/plugins/ExecutionHelper","typeahead/core/StripingConfiguration","typeahead/core/TypeaheadUtils","universalTypeahead"],function(e,t,r,n,i,a,s,o,l,c){"use strict";t.__esModule=!0;var d=[{clients:["PackageLandingPage","FlightsLandingPage","HotelsLandingPage","CarsLandingPage"]},{clients:["Homepage","AWSHomepage"],lobs:["FLIGHTS","HOTELS","CARS","PACKAGES"]}],p=(u.prototype.getExperiments=function(){return o.getExperiments(d)},u.prototype.scrollTop=function(e){var t=r("body"),o="wheel touchmove";if(!(1<document.documentElement.clientWidth/window.innerWidth)){var n=e.offset().top-13,i=e.siblings(".label");0<i.length&&(n=i.offset().top-7);var a=t.scrollTop();Math.abs(a-n)<6.5||(t.on(o,function(){t.off(o),t.stop()}),t.animate({scrollTop:n},300))}},u);function u(){var o=this;this.isScrollTopOn=!1,a.TypeaheadMessage.subscribe(n.ElementFocusedMessage.getTopic(),function(e,t){o.isScrollTopOn=!1,l.TypeaheadUtils.isWithinMobileBreakpoint()&&s.shouldExecute(t.getContext(),d)&&(o.scrollTop(r("#"+t.getDomElementId())),o.isScrollTopOn=!0)}),a.TypeaheadMessage.subscribe(i.InputValueEditedMessage.getTopic(),function(e,t){o.isScrollTopOn&&o.scrollTop(r("#"+t.getDomElementId()))})}c.registerPlugin(new p)}),require(["require","exports","jquery","typeahead/core/plugins/ExecutionHelper","typeahead/core/StripingConfiguration","universalTypeahead"],function(e,t,o,n,i,a){"use strict";t.__esModule=!0;var r=[{clients:["Flights.Search"]},{}],s=(l.enableAutoSelection=function(t){setTimeout(function(){!function(){var e=o(t)[0];e&&o(t).val()&&document.activeElement===e&&e.setSelectionRange(0,9999)}()},0)},l.prototype.getExperiments=function(){return i.getExperiments(r)},l.prototype.handleInputElementFocusByHumanOrScript=function(e,t){n.shouldExecute(t,r)&&l.enableAutoSelection(e)},l);function l(){}a.registerPlugin(new s)}),require(["require","exports","typeahead/core/plugins/ExecutionHelper","typeahead/core/StripingConfiguration","typeahead/core/TypeaheadUtils","universalTypeahead"],function(n,e,i,t,o,a){"use strict";e.__esModule=!0;var r=[{deviceTypes:["Desktop"],experiment:{id:25824,name:"ESS_Helper"},lobs:["HOTELS"]}],s=(l.execute=function(o){l.showInterstitial(),setTimeout(function(){if(!l.essHelperJsPromise){var e=$.Deferred();l.essHelperJsPromise=e.promise();var t=l.getEssHelperJsUrl();t&&$.getScript(t,function(){e.resolve()})}l.essHelperJsPromise.done(function(){n(["EssHelper"],function(e){e.open(o.data)})})},0)},l.getEssHelperJsUrl=function(){var e=o.TypeaheadUtils.getUtaBundleUrl();return e?e.replace("universal_typeahead_bundle","ess_helper"):void 0},l.showInterstitial=function(){uitk.publish("results.changed",{contentId:".wrap",disable:!0,message:"Launching Search and Suggest Helper",scrollToTop:!1,showLoader:!0}),setTimeout(function(){uitk.publish("results.complete",{ariaLevel:"polite",contentId:".wrap"})},1e4)},l.prototype.handleContentToShow=function(e,t,o){if(i.shouldExecute(o,r)){var n=$('\n    <a aria-label="Feedback" class="feedback" href="#" onclick="return false;"\n        style="color:#616161; font-size:12px; width:auto; float:left;" >\n        <span class="icon icon-comment"></span> Need help with the suggestions you see?\n    </a>\n');n.on("click",null,t.attr("id"),l.execute),e.find("footer.footer").prepend(n)}},l.prototype.getExperiments=function(){return t.getExperiments(r)},l);function l(){}a.registerPlugin(new s)}),require(["require","exports","typeahead/core/EssDataProvider","typeahead/core/plugins/ExecutionHelper","typeahead/core/SuggestionsAggregator","universalTypeahead"],function(e,t,o,n,i,a){"use strict";t.__esModule=!0;var r=[{clients:["Homepage","AWSHomepage"],lobs:["FLIGHTS","HOTELS","CARS","PACKAGES","ACTIVITIES"]},{clients:["Hotels.Search","Flights.Search","Cars.Search","LX.Search","Packages.Search","LXLandingPage","PackageLandingPage","FlightsLandingPage","CarsLandingPage","HotelsLandingPage"]}],s=(l.prototype.getId=function(){return i.SuggesterId.EssOnFocusPersonalizedSuggester},l.prototype.suggest=function(e,t){var o=$.Deferred();return n.shouldExecute(t,r)?this.fetchSuggestionsAndResolve(o,e,t):this.resolve(o,[],"","",""),o.promise()},l.prototype.suggestOnFocus=function(e,t){return this.suggest(e,t)},l.prototype.resolve=function(e,t,o,n,i){e.resolve({activeABTests:o,id:this.getId(),overriddenABTests:n,requestId:i,results:t})},l.prototype.fetchSuggestionsAndResolve=function(e,t,o){var n=this,i=[],a="",r="",s="";this.dataProvider.fetchData($.extend(!0,{},t,{context:o},{personalize:!0})).then(function(e){e&&(e.results&&(i=i.concat(e.results)),e.activeABTests&&(a=e.activeABTests),e.overriddenABTests&&(r=e.overriddenABTests),e.requestId&&(s=e.requestId))}).always(function(){n.resolve(e,i,a,r,s)})},l);function l(){this.dataProvider=new o.EssDataProvider}a.registerPlugin(new s)}),require(["require","exports","typeahead/core/loc","uitk","uitk_i18n","typeahead/core/message/TypeaheadMessage","typeahead/core/message/UserExitedMessage","typeahead/core/plugins/ExecutionHelper","typeahead/core/plugins/ExecutionHelper","typeahead/core/StripingConfiguration","typeahead/core/TypeaheadUtils","typeahead/core/userfeedbacktool/data/UserFeedbackDataLogger","typeahead/core/userfeedbacktool/ui/DynamicFooter","typeahead/core/userfeedbacktool/ui/HotelSearchResultsPageFeedbackPrompt","UserFeedbackTool","universalTypeahead"],function(e,t,l,c,d,o,n,p,a,i,r,u,g,s,h,f){"use strict";t.__esModule=!0;var y=[{lobs:["HOTELS"],tabs:["hotel"]},{clients:["Hotels.Search"]}],m=[{deviceTypes:["Desktop"],experiment:{id:25824,name:"ESS_Helper"},lobs:["HOTELS"]}],v=(b.handleUnhappyFeedback=function(e,t,o,n,i){b.disableUitkBodyClickEventHandler(),t.find("footer.footer").find("span.dynamicTextFooter").html("").prepend((new g.DynamicFooter).getJQueryForNo()),c.utils.liveAnnounce(l.disagreeMessage+" "+d.t("selected")+". "+l.regretMessage+" "+l.helpImproveTypeaheadMessage,"polite"),e.isTrigger&&t.find("a.sorryButton").addClass("highlight");var a=o.attr("data-lob"),r=u.SearchType.typeahead,s=[p.abTest.getActiveClientTests(),i].filter(Boolean).join("|");t.find("a.sorryButton").on("click",function(){h.UserFeedbackTool.getSingleton().render(r,n,a,s,o.attr("id"))}),u.UserFeedbackDataLogger.getSingleton().log({areSuggestionsHelpful:!1,lob:a,searchQuery:n,searchType:r},!1)},b.handleHappyFeedback=function(e,t,o,n){b.disableUitkBodyClickEventHandler(),t.find("footer.footer").find("span.dynamicTextFooter").html("").prepend((new g.DynamicFooter).getJQueryForYes()),c.utils.liveAnnounce(l.agreeMessage+" "+d.t("selected")+". "+l.thankingUserMessage,"polite"),u.UserFeedbackDataLogger.getSingleton().log({areSuggestionsHelpful:!0,lob:o.attr("data-lob"),searchQuery:n,searchType:u.SearchType.typeahead},!0)},b.disableUitkBodyClickEventHandler=function(){$("body").off("click.utypeahead focusin.utypeahead").on("click.utypeahead focusin.utypeahead",function(e){e.stopPropagation()})},b.prototype.handleContentToShow=function(t,o,e,n,i){a.shouldExecute(e,y)&&!a.shouldExecute(e,m)&&(u.UserFeedbackDataLogger.getSingleton(),t.find("footer.footer").addClass("userfeedback").prepend((new g.DynamicFooter).getJQueryElement()),t.find("a.feedbackYes").on("click",null,o.attr("id"),function(e){b.handleHappyFeedback(e,t,o,n)}),t.find("a.feedbackNo").on("click",null,o.attr("id"),function(e){b.handleUnhappyFeedback(e,t,o,n,i)}))},b.prototype.handlePageLoad=function(e,t){"Hotels.Search"===r.TypeaheadUtils.getClientId()&&c.subscribe("hsr.pageLoad",function(){a.shouldExecute(t,y)&&s.HotelSearchResultsPageFeedbackPrompt.getSingleton().show()}),o.TypeaheadMessage.subscribe(n.UserExitedMessage.getTopic(),function(){$("body").off("click.utypeahead focusin.utypeahead")})},b.prototype.getExperiments=function(){return i.getExperiments(y)},b);function b(){}f.registerPlugin(new v)});__extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();require(["require","exports","jquery","typeahead/core/presentation/SuggestionRendererUtils","typeahead/core/SuggestionModifier","typeahead/core/TypeaheadUtils","universalTypeahead"],function(e,t,o,n,i,a,r){"use strict";t.__esModule=!0;var s,l=(s=i.SuggestionModifier,__extends(c,s),c.prototype.modify=function(e,t){e.forEach(function(e){n.SuggestionRendererUtils.isConsistentDisplay(e)||"LIST"===e.type||a.TypeaheadUtils.isChildSuggestion(e)||(e.icon="none")})},c.prototype.precondition=function(e,t){return s.prototype.precondition.call(this,e,t)&&c.inapplicableClients.lastIndexOf(t.clientId)<0},c.inapplicableClients=[],c);function c(){var e=null!==s&&s.apply(this,arguments)||this;return e.configuration=[{lobs:["FLIGHTS"]},{clients:["Flights.Search"]}],e.featureName="SuppressIcon",e}r.registerPlugin(new l)}),require(["require","exports","jquery","typeahead/core/plugins/ExecutionHelper","typeahead/core/StripingConfiguration","universalTypeahead"],function(e,t,a,n,o,i){"use strict";t.__esModule=!0;var r=[{clients:["Flights.Search"],experiment:{id:25077,name:"FSRP_uTA_OptimizeDropdownGeometry"}}],s=(l.optimizeDropDownGeometry=function(e,t){var o=4+document.body.clientWidth-2*l.baseSpacingHorz,n=4+Math.min(l.uitkTypeaheadWidthPx,o),i=4+Math.min(l.uitkTypeaheadMinWidthPx,o),a=Math.min(n,o),r=t.offset().left-2;o<r+a&&(r=l.baseSpacingHorz+o-a-2),r-=t.get(0).getBoundingClientRect().left,e.css({left:r+"px","max-width":n+"px","min-width":i+"px",width:a+"px"})},l.prototype.getExperiments=function(){return o.getExperiments(r)},l.prototype.handleDropDownHide=function(e,t,o){var n=t.attr("id"),i=n?this.showHandlers[n]:void 0;i&&(a(window).off(l.resizeEventTypes,null,i),delete this.showHandlers[n])},l.prototype.handleDropDownShow=function(e,t,o){n.shouldExecute(o,r)&&(l.uitkTypeaheadWidthPx=600),"Flights.Search"===o.clientId&&this.doHandleDropDownShow(e,t)},l.prototype.doHandleDropDownShow=function(t,o){function e(e){l.optimizeDropDownGeometry(t,o)}e(),a(window).on(l.resizeEventTypes,null,null,e),o.attr("id")&&(this.showHandlers[o.attr("id")]=e)},l.baseSpacingHorz=12,l.uitkTypeaheadWidthPx=390,l.uitkTypeaheadMinWidthPx=282,l.resizeEventTypes="orientationchange resize",l);function l(){this.showHandlers={}}i.registerPlugin(new s)}),require(["require","exports","jquery","typeahead/core/plugins/ExecutionHelper","universalTypeahead"],function(e,t,i,c,o){"use strict";t.__esModule=!0;var d=[{experiment:{id:25633,name:"ess_non_mobile_typeahead_takeover_experience_flights"},tabs:["flight"]},{experiment:{id:25632,name:"ess_non_mobile_typeahead_takeover_experience_hotel"},tabs:["hotel"]},{experiment:{id:25635,name:"ess_non_mobile_typeahead_takeover_experience_packages"},tabs:["package","packageFlightHotel","packageFlightHotelCar","packageFlightCar","packageHotelCar","flightHotel","flightHotelCar","flightCar","hotelCar","carHotel","carHotelFlight","carFlight"]},{experiment:{id:25634,name:"ess_non_mobile_typeahead_takeover_experience_cars"},tabs:["car"]},{experiment:{id:26570,name:"ess_non_mobile_typeahead_takeover_experience_lx"},tabs:["activity"]}],n=(p.optimizeDropDownGeometry=function(e,t,o){var n=4+document.body.clientWidth-2*p.baseSpacingHorz,i=4+Math.min(p.uitkTypeaheadMinWidthPx,n),a=4+Math.min(p.uitkTypeaheadWidthPx,n),r=Math.min(a,n),s=t.offset().left-2;if(n<s+r&&(s=p.baseSpacingHorz+n-r-2),s-=t.get(0).getBoundingClientRect().left,c.shouldExecute(o,d)){var l=t.attr("id");s+=2,-1<p.twoInputsApplicable.indexOf(l)||(r=t.get(0).getBoundingClientRect().width),p.applyDropDownGeometry(e,s,r,i,r)}else p.applyDropDownGeometry(e,s,a,i,r)},p.applyDropDownGeometry=function(e,t,o,n,i){e.css({left:t+"px","max-width":o+"px","min-width":n+"px",width:i+"px"})},p.prototype.handleDropDownShow=function(e,t,o){0<=p.applicableClients.indexOf(o.clientId)&&this.doHandleDropDownShow(e,t,o)},p.prototype.doHandleDropDownShow=function(t,o,n){function e(e){p.optimizeDropDownGeometry(t,o,n)}e(),i(window).on(p.resizeEventTypes,null,null,e),o.attr("id")&&(this.showHandlers[o.attr("id")]=e)},p.applicableClients=["Homepage","AWSHomepage","LXLandingPage","CarsLandingPage","FlightsLandingPage","HotelsLandingPage","PackageLandingPage","RailsLandingPage"],p.leftOffsetApplicableInputs=["flight-origin-hp-flight","flight-2-origin-hp-flight","flight-3-origin-hp-flight","flight-4-origin-hp-flight","flight-5-origin-hp-flight","hotel-destination-hp-hotel","package-origin-hp-package","package-origin-FC-hp-package","hotel-destination-hp-package","car-pickup-hp-car","flight-origin-flp","flight-2-origin-flp","flight-3-origin-flp","flight-4-origin-flp","flight-5-origin-flp","package-origin-flp-fh","package-origin-flp-fhc","package-origin-FC-flp-fc","hotel-destination-hlp","hotel-destination-hlp-hc","package-origin-hlp-fh","package-origin-hlp-fhc","package-origin-plp-fh","package-origin-plp-fhc","package-origin-FC-plp-fc","hotel-destination-plp-hc","car-pickup-clp","hotel-destination-clp-hc","package-origin-clp-fhc","package-origin-FC-clp-fc"],p.rightOffsetApplicableInputs=["flight-destination-hp-flight","flight-2-destination-hp-flight","flight-3-destination-hp-flight","flight-4-destination-hp-flight","flight-5-destination-hp-flight","package-destination-hp-package","package-destination-FC-hp-package","car-dropoff-hp-car","flight-destination-flp","flight-2-destination-flp","flight-3-destination-flp","flight-4-destination-flp","flight-5-destination-flp","package-destination-flp-fh","package-destination-flp-fhc","package-destination-FC-flp-fc","package-destination-hlp-fh","package-destination-hlp-fhc","package-destination-plp-fh","package-destination-plp-fhc","package-destination-FC-plp-fc","car-dropoff-clp","package-destination-clp-fhc","package-destination-FC-clp-fc"],p.twoInputsApplicable=["flight-origin-hp-flight","flight-2-origin-hp-flight","flight-3-origin-hp-flight","flight-4-origin-hp-flight","flight-5-origin-hp-flight","flight-destination-hp-flight","flight-2-destination-hp-flight","flight-3-destination-hp-flight","flight-4-destination-hp-flight","flight-5-destination-hp-flight","package-origin-hp-package","package-destination-hp-package","package-origin-FC-hp-package","package-destination-FC-hp-package","car-pickup-hp-car","car-dropoff-hp-car","flight-origin-flp","flight-2-origin-flp","flight-3-origin-flp","flight-4-origin-flp","flight-5-origin-flp","flight-destination-flp","flight-2-destination-flp","flight-3-destination-flp","flight-4-destination-flp","flight-5-destination-flp","package-origin-flp-fh","package-destination-flp-fh","package-origin-flp-fhc","package-destination-flp-fhc","package-origin-FC-flp-fc","package-destination-FC-flp-fc","package-origin-hlp-fh","package-destination-hlp-fh","package-origin-hlp-fhc","package-destination-hlp-fhc","package-origin-plp-fh","package-origin-plp-fhc","package-origin-FC-plp-fc","package-destination-plp-fh","package-destination-plp-fhc","package-destination-FC-plp-fc","car-pickup-clp","car-dropoff-clp","package-origin-clp-fhc","package-destination-clp-fhc","package-origin-FC-clp-fc","package-destination-FC-clp-fc"],p.baseSpacingHorz=12,p.uitkTypeaheadWidthPx=600,p.uitkTypeaheadMinWidthPx=282,p.resizeEventTypes="orientationchange resize",p);function p(){this.showHandlers={}}o.registerPlugin(new n)}),require(["require","exports","typeahead/core/plugins/ExecutionHelper","typeahead/core/StripingConfiguration","universalTypeahead"],function(e,t,o,n,i){"use strict";t.__esModule=!0;var a=[{experiment:{id:30467,name:"Test_the_impact_of_using_ESS_behind_Akamai_endpoint_in_uTA"}}],r=(s.prototype.getEssEndpoint=function(e){return o.shouldExecute(e,a)?"":e.serviceUrl},s.prototype.getExperiments=function(){return n.getExperiments(a)},s);function s(){}i.registerPlugin(new r)}),define("typeahead/client/ActivitiesSearchResultsPageHandler",["require","exports","typeahead/client/ClientHandlerRegistry"],function(e,t,o){"use strict";t.__esModule=!0;var n=(i.prototype.isApplicable=function(e){return i.APPLICABLE_CLIENT_ID===e},i.prototype.subscribeFormSubmitEvent=function(){$("body").on("click","a#toggleSearch",function(){$("button#srpSearch").click(function(){o.ClientHandlerRegistry.publishSubmitClickedMessage(i.rfrrIdPrefix),o.ClientHandlerRegistry.publishFormSubmittedMessage(!0)})})},i.prototype.subscribeFormLoadedEvent=function(){},i.prototype.getTab=function(){},i.prototype.getGeolocationViewController=function(){},i.rfrrIdPrefix="LX.SR|UpdateSearch",i.APPLICABLE_CLIENT_ID="LX.Search",i);function i(){}t.ActivitiesSearchResultsPageHandler=n}),define("typeahead/client/CarSearchResultsPageHandler",["require","exports","typeahead/client/ClientHandlerRegistry"],function(e,t,o){"use strict";t.__esModule=!0;var n=(i.prototype.isApplicable=function(e){return i.APPLICABLE_CLIENT_ID===e},i.prototype.subscribeFormSubmitEvent=function(){var e=this;$("body").on("click","a#wizard-toggle",function(){$("button#wizard-update").click(function(){o.ClientHandlerRegistry.publishSubmitClickedMessage(e.rfrrIdPrefix),o.ClientHandlerRegistry.publishFormSubmittedMessage(!0)})})},i.prototype.subscribeFormLoadedEvent=function(){},i.prototype.getTab=function(){},i.prototype.getGeolocationViewController=function(){},i.APPLICABLE_CLIENT_ID="Cars.Search",i);function i(){-1<window.location.search.indexOf("details?")?this.rfrrIdPrefix="CAR.CIS|UpdateSearch":this.rfrrIdPrefix="CAR.SR|UpdateSearch"}t.CarSearchResultsPageHandler=n}),define("typeahead/client/ClientHandlerRegistry",["require","exports","typeahead/core/context","typeahead/core/logging/ProblemOrigin","typeahead/core/logging/Severity","typeahead/core/logging/TypeaheadErrorLogger","typeahead/core/message/FormSubmittedMessage","typeahead/core/message/SubmitClickedMessage","typeahead/core/message/TypeaheadMessage","typeahead/core/message/UserExitedMessage","typeahead/core/TypeaheadUtils","typeahead/core/util/Optional"],function(e,t,o,n,i,a,r,s,l,c,d,p){"use strict";t.__esModule=!0;var u=(g.handlePageLoad=function(){(g.client=g.getClientHandler(d.TypeaheadUtils.getClientId())).isPresent()?(g.client.get().subscribeFormLoadedEvent(),g.client.get().subscribeFormSubmitEvent()):a.default.log(new Error("No client handler for this page. Omniture logs may not work."),i.Severity.MustFix,n.ProblemOrigin.UniversalTypeahead)},g.getTab=function(){return g.client.isPresent()?g.client.get().getTab():void 0},g.registerClient=function(e){g.allClients.indexOf(e)<0&&g.allClients.push(e)},g.publishSubmitClickedMessage=function(e,t){l.TypeaheadMessage.publish(new s.SubmitClickedMessage(e,o,t)),l.TypeaheadMessage.publish(new c.UserExitedMessage)},g.publishFormSubmittedMessage=function(e,t){l.TypeaheadMessage.publish(new r.FormSubmittedMessage(e,o,t))},g.getGeolocationViewController=function(e){return g.client.isPresent()?g.client.get().getGeolocationViewController(e):void 0},g.getClientHandler=function(e){var t;if(e)for(var o=0;o<g.allClients.length;o++)if(g.allClients[o].isApplicable(e)){t=g.allClients[o];break}return p.Optional.ofNullable(t)},g.HSR_SUBMIT_SHOW_ERRORS_MESSAGE="hsr.submit.showErrors",g.HSR_SUBMIT_GET_QUERY_MESSAGE="hsr.submit.getQuery",g.HSR_SUBMIT_BEFORE_UPDATE_HASH_MESSAGE="hsr.submit.beforeUpdateHash",g.allClients=[],g.client=p.Optional.ofNullable(void 0),g);function g(){}t.ClientHandlerRegistry=u}),define("typeahead/client/FlightSearchResultsPageHandler",["require","exports","typeahead/client/ClientHandlerRegistry"],function(e,t,o){"use strict";t.__esModule=!0;var n=(i.prototype.isApplicable=function(e){return i.APPLICABLE_CLIENT_ID===e},i.prototype.subscribeFormSubmitEvent=function(){$("body").on("click","#flight-wizard-search-button",function(){o.ClientHandlerRegistry.publishSubmitClickedMessage(i.rfrrIdPrefix),$("#validation-alert").length||o.ClientHandlerRegistry.publishFormSubmittedMessage(!0)})},i.prototype.subscribeFormLoadedEvent=function(){},i.prototype.getTab=function(){},i.prototype.getGeolocationViewController=function(){},i.rfrrIdPrefix="FLT.SR|UpdateSearch",i.APPLICABLE_CLIENT_ID="Flights.Search",i);function i(){}t.FlightSearchResultsPageHandler=n}),define("typeahead/client/HotelSearchResultsPageHandler",["require","exports","typeahead/core/loc","typeahead/client/ClientHandlerRegistry","typeahead/core/message/FormLoadedMessage","typeahead/core/message/TypeaheadMessage"],function(e,t,o,n,i,a){"use strict";t.__esModule=!0;var r=(s.prototype.isApplicable=function(e){return 0<=s.APPLICABLE_CLIENT_IDS.indexOf(e)},s.prototype.subscribeFormSubmitEvent=function(){var o=this;$("form").on("click","button[type=submit]",function(e){if(0<$(e.target).parents("form:has(input[data-provide=utypeahead])").length){var t=$(e.target).data("track");t=t.match(/(\w+).(\w+)/g)[0]+"|"+t.match(/(\w+).(\w+)/g)[1],$(e.target).removeAttr("data-track"),n.ClientHandlerRegistry.publishSubmitClickedMessage(t)}}),uitk.subscribe(n.ClientHandlerRegistry.HSR_SUBMIT_SHOW_ERRORS_MESSAGE,function(e,t){n.ClientHandlerRegistry.publishFormSubmittedMessage(t.isValid)}),uitk.subscribe(n.ClientHandlerRegistry.HSR_SUBMIT_GET_QUERY_MESSAGE,function(e,t){o.setLatLongForCurrentLocation(t)})},s.prototype.subscribeFormLoadedEvent=function(){uitk.subscribe(s.SEARCH_WIZARD_OPENED_MESSAGE,function(e,t){s.SEARCH_WIZARD_TOGGLE_BUTTON_ID===t.attr("id")&&a.TypeaheadMessage.publish(new i.FormLoadedMessage(void 0))})},s.prototype.getTab=function(){},s.prototype.getGeolocationViewController=function(){},s.prototype.setLatLongForCurrentLocation=function(e){var t=this.getLatLongFromUrl();this.isDestinationCurrentLocation()&&t&&($("#latLong").val(t),e.query&&-1===e.query.indexOf("latLong")&&(e.query+="&latLong="+t))},s.prototype.getLatLongFromUrl=function(){var e;return(e=this.getRequestParameterValue("latLong"))&&e.match(/^[+-]?\d+\.\d+,[+-]?\d+\.\d+$/)?e:void 0},s.prototype.isDestinationCurrentLocation=function(){var e;return!!(e=this.getRequestParameterValue("destination"))&&(e=e.replace(/\+/g," "),o.geolocationDisplayText===$("#inpSearchNear").val()&&o.geolocationDisplayText===e)},s.prototype.getRequestParameterValue=function(e){var t=new RegExp(e+"=([^&]*)&?").exec(decodeURIComponent(window.location.href));if(t&&t.length&&t[1])return t[1]},s.APPLICABLE_CLIENT_IDS=["Hotels.Search","Packages.Search"],s.SEARCH_WIZARD_OPENED_MESSAGE="toggle.opened",s.SEARCH_WIZARD_TOGGLE_BUTTON_ID="changeSearchWizard",s);function s(){}t.HotelSearchResultsPageHandler=r}),define("typeahead/client/MercuryWizardHandler",["require","exports","jquery","typeahead/client/ClientHandlerRegistry","typeahead/core/geolocation/MercuryGeolocationViewController","typeahead/core/message/FormLoadedMessage","typeahead/core/message/TypeaheadMessage"],function(e,t,o,n,i,a,r){"use strict";t.__esModule=!0;var s=(l.prototype.isApplicable=function(e){return-1<l.APPLICABLE_CLIENT_IDS.indexOf(e)},l.prototype.subscribeFormSubmitEvent=function(){function e(){o("form").off("click.typeahead").on("click.typeahead","button[type=submit]",function(e){0<o(e.target).parents("form:has(input[data-provide=utypeahead])").length&&n.ClientHandlerRegistry.publishSubmitClickedMessage(null,e)}),setTimeout(function(){o("form:has(input[data-provide=utypeahead])").off("submit.typeahead").on("submit.typeahead",function(e){var t;n.ClientHandlerRegistry.publishFormSubmittedMessage((t=o("form:has(input[data-provide=utypeahead]):visible .validation-alert")).is(":hidden")||t.hasClass("visuallyhidden"),e)})},0)}uitk.subscribe("sfSelectedLobs.updated",function(){e()}),e()},l.prototype.subscribeFormLoadedEvent=function(){function e(){r.TypeaheadMessage.publish(new a.FormLoadedMessage(t.getTab()))}var t=this;e(),uitk.subscribe("mercury-form-history-loaded",function(){e()})},l.prototype.getTab=function(){return o("li.tab:visible").children("button.on").data("lob")},l.prototype.getGeolocationViewController=function(e){return this.geolocationViewController||(this.geolocationViewController=new i.MercuryGeolocationViewController(e)),this.geolocationViewController},l.APPLICABLE_CLIENT_IDS=["Homepage","AWSHomepage","LXLandingPage","CarsLandingPage","FlightsLandingPage","HotelsLandingPage","PackageLandingPage","RailsLandingPage"],l);function l(){uitk.subscribe("sfSelectedLobs.updated",function(e,t){-1<["flightHotel","flightHotelCar"].indexOf(t.searchSubType)&&o("input[data-provide=utypeahead]").removeData("typeahead")})}t.MercuryWizardHandler=s}),define("typeahead/client/OpenSearchPageHandler",["require","exports","typeahead/client/ClientHandlerRegistry","typeahead/core/message/SuggestionSelectedMessage","typeahead/core/message/TypeaheadMessage"],function(e,t,o,n,i){"use strict";t.__esModule=!0;var a=(r.publishSubmitMessages=function(){o.ClientHandlerRegistry.publishSubmitClickedMessage(r.rfrrIdPrefix),o.ClientHandlerRegistry.publishFormSubmittedMessage(!0)},r.prototype.isApplicable=function(e){return r.APPLICABLE_CLIENT_ID===e},r.prototype.subscribeFormSubmitEvent=function(){$("div.open-search-page").on("click","button#search-button",function(){$("#uta-search-query").val()&&r.publishSubmitMessages()}),i.TypeaheadMessage.subscribe(n.SuggestionSelectedMessage.getTopic(),function(){setTimeout(function(){r.publishSubmitMessages()},0)})},r.prototype.subscribeFormLoadedEvent=function(){},r.prototype.getTab=function(){},r.prototype.getGeolocationViewController=function(){},r.rfrrIdPrefix="Open.Search|UpdateSearch",r.APPLICABLE_CLIENT_ID="OpenSearchPage",r);function r(){}t.OpenSearchPageHandler=a}),define("typeahead/client/UserAccountPageHandler",["require","exports"],function(e,t){"use strict";t.__esModule=!0;var o=(n.prototype.isApplicable=function(e){return n.APPLICABLE_CLIENT_ID===e},n.prototype.subscribeFormSubmitEvent=function(){},n.prototype.subscribeFormLoadedEvent=function(){},n.prototype.getTab=function(){},n.prototype.getGeolocationViewController=function(){},n.APPLICABLE_CLIENT_ID="UserAccountPage",n);function n(){}t.UserAccountPageHandler=o});
//# sourceMappingURL=universal_typeahead_bundle.min.js.map
